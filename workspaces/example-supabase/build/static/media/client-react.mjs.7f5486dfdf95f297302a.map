{
  "version": 3,
  "sources": ["../src/Components/Activity/Activity.tsx", "../src/Utilities/View.tsx", "../src/Components/Activity/ActivityContext.ts", "../src/Utilities/Label.ts", "../src/Components/Collapse/CollapseContext.ts", "../src/Hooks/useEditorActivity.ts", "../src/Components/Masher/MasherContext.ts", "../src/Components/Activity/ActivityContent.tsx", "../src/Components/Activity/ActivityContentContext.ts", "../src/Components/Activity/ActivityItem.tsx", "../src/Components/Activity/ActivityLabel.tsx", "../src/Components/Activity/ActivityPicked.tsx", "../src/Setup/Problems.ts", "../src/Components/Activity/ActivityPicker.tsx", "../src/Components/Activity/ActivityProgress.tsx", "../src/Components/Activity/ActivityDefaultProps.tsx", "../src/Utilities/Bar.tsx", "../src/Components/Panel/Panel.tsx", "../src/Components/Panel/PanelFoot.tsx", "../src/Components/Collapse/CollapseControl.tsx", "../src/Components/Collapse/NotCollapsed.tsx", "../src/Components/Collapse/Collapsed.tsx", "../src/Components/Browser/Browser.tsx", "../src/Components/Browser/BrowserContext.ts", "../src/Hooks/useEditorDefinitions.ts", "../src/Hooks/useApiDefinitions.ts", "../src/Hooks/useClient.ts", "../src/Hooks/useEditor.ts", "../src/Hooks/useDefinitions.ts", "../src/Hooks/useRefresh.ts", "../src/Components/Browser/BrowserContent.tsx", "../src/Contexts/DefinitionContext.ts", "../src/Components/Browser/BrowserPicker.tsx", "../src/Utilities/Props.ts", "../src/Components/Browser/BrowserDefaultProps.tsx", "../src/Components/Browser/BrowserControl.tsx", "../src/Components/DefinitionItem/DefinitionItem.tsx", "../src/Components/DefinitionItem/useDefinition.ts", "../src/Components/ClipItem/ClipContext.ts", "../src/Components/ClipItem/ClipItem.tsx", "../src/Contexts/TrackContext.ts", "../src/Components/Timeline/TimelineContext.ts", "../src/Hooks/useListeners.ts", "../src/Components/ClipItem/useClip.ts", "../src/Components/Controls/CreateEditedControl.tsx", "../src/Components/Controls/EditorRedoButton.tsx", "../src/Components/Controls/EditorRemoveButton.tsx", "../src/Components/Controls/EditorUndoButton.tsx", "../src/Components/Controls/EncodeControl.tsx", "../src/Components/Controls/SaveControl.tsx", "../src/Components/Controls/SelectEditedControl.tsx", "../client-react-deleted/ApiClient/ApiContext.ts", "../src/Components/Inspector/InspectorContext.ts", "../src/Components/Controls/ViewControl.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/DataTypeInputs.tsx", "../src/Setup/Constants.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/BooleanTypeInput.tsx", "../src/Components/Inspector/Inputs/InputContext.ts", "../src/Components/Inspector/Inputs/DataTypeInputs/DefinitionDrop.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/DefinitionSelect.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/IconTypeInput.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/NumericTypeInput.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/PercentTypeInput.tsx", "../src/Utilities/Slider.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/RgbTypeInput.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/TextTypeInput.tsx", "../src/Components/Inspector/Inputs/DataTypeInputs/OptionTypeInput.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/DataGroupInputs.ts", "../src/Components/Inspector/Inputs/DataGroupInputs/ColorGroupInput.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/MovablesGroupInput.tsx", "../src/Components/Inspector/InspectorMovable.tsx", "../src/Components/Inspector/InspectorProperties.tsx", "../src/Components/Inspector/InspectorProperty.tsx", "../src/Utilities/Button.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/OpacityGroupInput.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/PointGroupInput.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/SizeGroupInput.tsx", "../src/Components/Inspector/Inputs/DataGroupInputs/OptionGroupInput.tsx", "../src/Components/Inspector/Inspector.tsx", "../src/Components/Inspector/InspectorContent.tsx", "../src/Components/Inspector/InspectorDefaultProps.tsx", "../src/Components/Inspector/InspectorPicked.tsx", "../src/Components/Inspector/InspectorPicker.tsx", "../src/Components/Masher/Masher.tsx", "../src/Utilities/Element.ts", "../src/Components/Masher/MasherDefaultProps.tsx", "../src/Components/Player/PlayerDefaultProps.tsx", "../src/Components/Player/PlayerContent.tsx", "../src/Components/Player/PlayerContext.ts", "../src/Components/Player/PlayerButton.tsx", "../src/Components/Player/PlayerTimeControl.tsx", "../src/Components/Player/PlayerPlaying.tsx", "../src/Components/Player/PlayerNotPlaying.tsx", "../src/Components/Player/PlayerTime.tsx", "../src/Components/Timeline/TimelineDefaultProps.tsx", "../src/Components/Timeline/TimelineScrubberElement.tsx", "../src/Components/Timeline/TimelineTrack.tsx", "../src/Components/Timeline/TimelineSizer.tsx", "../src/Components/Timeline/TimelineZoomer.tsx", "../src/Components/Timeline/TimelineTracks.tsx", "../src/Components/Timeline/TimelineScrubber.tsx", "../src/Components/Timeline/TimelineContent.tsx", "../src/Components/Timeline/TimelineAddTrackControl.tsx", "../src/Components/Timeline/TimelineTrackIcon.tsx", "../src/Components/Timeline/TimelineZoom.tsx", "../src/Components/Timeline/TimelineAddClipControl.tsx", "../src/Components/Player/Player.tsx", "../src/Components/Timeline/Timeline.tsx", "../src/Components/Panel/Panels.tsx", "../src/Components/Masher/Mashing.tsx", "../src/Components/Panel/PanelContent.tsx", "../src/Components/Panel/PanelHead.tsx", "../src/Utilities/Session.ts", "../src/Utilities/VideoView.tsx"],
  "sourcesContent": ["import React from \"react\"\nimport { ClassCollapsed } from '@moviemasher/moviemasher.js'\n\nimport { PropsWithChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\nimport { ActivityContext, ActivityContextInterface, ActivityGroup, \n  assertActivityGroup \n} from \"./ActivityContext\"\nimport { CollapseContext, CollapseContextInterface } from \"../Collapse/CollapseContext\"\nimport { useEditorActivity } from \"../../Hooks/useEditorActivity\"\n\nexport interface ActivityProps extends PropsWithChildren, WithClassName {\n  initialPicked?: string\n  initialCollapsed?: boolean\n}\n\n/**\n * @parents Masher\n * @children ActivityContent\n */\nexport function Activity(props: ActivityProps): ReactResult {\n  const { \n    initialPicked = ActivityGroup.Active, \n    initialCollapsed = false, \n    className,\n    ...rest \n  } = props\n  assertActivityGroup(initialPicked)\n\n  const [collapsed, setCollapsed] = React.useState(initialCollapsed)\n  const [label, setLabel] = React.useState('')\n\n  const [editor, activity] = useEditorActivity() \n  const [picked, setPicked] = React.useState(initialPicked)\n\n  const filteredActivities = React.useMemo(() => {\n    // console.log(\"filteredActivities\", picked, allActivities.length)\n    return activity.filter(activity => activity.activityGroup === picked)\n  }, [picked, activity.length])\n\n  const activityContext: ActivityContextInterface = { \n    activities: filteredActivities, \n    allActivities: activity, \n    picked, pick: setPicked, label\n  }\n\n\n  const collapseContext: CollapseContextInterface = { collapsed, changeCollapsed: setCollapsed }\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (collapsed) classes.push(ClassCollapsed)\n\n  const viewProps = { ...rest, className: classes.join(' ') }\n\n  return (\n    <ActivityContext.Provider value={activityContext}>\n      <CollapseContext.Provider value={collapseContext}>\n        <View { ...viewProps } />\n      </CollapseContext.Provider>\n    </ActivityContext.Provider>\n  )\n}\n", "import React from 'react'\nimport { UnknownRecord } from '@moviemasher/moviemasher.js'\n\nexport const View = React.forwardRef<HTMLDivElement, UnknownRecord>((props, ref) =>\n  <div ref={ref} {...props} />\n)\n", "import React from 'react'\nimport { \n  EmptyMethod, isObject, isPopulatedString, errorThrow, Identified,\n} from '@moviemasher/moviemasher.js'\nimport { ActivityInfo } from \"@moviemasher/client-core\"\n\nimport { labelInterpolate, labelTranslate } from '../../Utilities/Label'\n\nexport const activityLabel = (info: any): string => {\n  if (!isObject(info)) return ''\n\n  const { label, error, type, value } = info as ActivityInfo\n  if (error) {\n    if (value) return labelInterpolate(error, { value })\n    return labelTranslate(error)\n  }\n\n  // switch(type) {\n  //   case ActivityType.Complete:\n  //   case ActivityType.Analyze:\n  //   case ActivityType.Render:\n  //   case ActivityType.Load: return labelTranslate(type)\n    \n  // }\n\n  // if (label) return label\n  return labelTranslate(type)\n}\n\nexport enum ActivityGroup {\n  Active = 'active',\n  Error = 'error',\n  Complete = 'complete',\n}\nexport const ActivityGroups = Object.values(ActivityGroup)\nexport const isActivityGroup = (type?: any): type is ActivityGroup => {\n  return isPopulatedString(type) && ActivityGroups.includes(type as ActivityGroup)\n}\nexport function assertActivityGroup(value: any, name?: string): asserts value is ActivityGroup {\n  if (!isActivityGroup(value)) errorThrow(value, \"ActivityGroup\", name)\n}\n\nexport interface ActivityObject extends Identified {\n  infos: ActivityInfo[]\n  activityGroup: ActivityGroup\n}\nexport type ActivityObjects = ActivityObject[]\n\nexport interface ActivityContextInterface {\n  label: string\n  activities: ActivityObjects\n  allActivities: ActivityObjects\n  picked: ActivityGroup\n  pick: (activityGroup: ActivityGroup) => void\n}\n\nexport const ActivityContextDefault: ActivityContextInterface = {\n  label: '',\n  activities: [],\n  allActivities: [],\n  picked: ActivityGroup.Active,\n  pick: EmptyMethod\n}\n\nexport const ActivityContext = React.createContext(ActivityContextDefault)\n", "import { isString, NestedStringRecord, StringRecord } from \"@moviemasher/moviemasher.js\"\n\nconst LabelRegex = /{{([a-z0-9_]*)}}/\n\n\nexport const labelObjects: NestedStringRecord = {\n  internal: 'Internal Error',\n  client: { internal: 'Internal Client Error' },\n  import: {\n    bytes: 'Size above {{value}}',\n    extension: 'Extension {{value}}',\n    type: 'Type {{value}}',\n    size: 'Dimensions {{value}}',\n    duration: 'Duration {{value}}',\n    render: '{{value}}',\n    displaySize: '{{width}}x{{height}}',\n  }\n}\nexport const labels: StringRecord = {\n  audible: 'Audible',\n  clip: 'Clip',\n  update: 'Save',\n  delete: 'Remove {{type}}',\n  unlabeled: 'Unlabeled {{type}}',\n  analyze: 'Analyzing...',\n  load: 'Loading...',\n  complete: 'Completed',\n  create: 'New',\n  render: 'Render',\n  view: 'View',\n  open: 'Open...',\n  undo: 'Undo',\n  redo: 'Redo',\n  mash: 'Mash',\n}\n\nexport const labelLookup = (id: string): string => {\n  let object: any = labelObjects\n  const components = id.split('.') \n  for (const component of components) {\n    const child = object[component]\n    if (isString(child)) return child\n\n    object = child\n  }\n  return ''\n}\n\nexport const labelTranslate = (id: string): string => {\n  if (id.includes('.')) return labelLookup(id)\n\n  return labels[id] || id\n}\n\nexport const labelInterpolate = (id: string, context: StringRecord): string => {\n  let translated = labelTranslate(id)\n  \n  const matches = translated.match(LabelRegex)\n  if (!matches) return translated\n\n  matches.forEach((match, index) => {\n    if (!index) return\n    const search = `{{${match}}}`\n    const replace = labelTranslate(context[match])\n    \n    translated = translated.replace(search, replace)\n  })\n\n  return translated\n}\n", "import React from 'react'\nimport { BooleanSetter } from '@moviemasher/moviemasher.js'\n\nexport interface CollapseContextInterface {\n  collapsed: boolean,\n  changeCollapsed: BooleanSetter\n}\n\nexport const CollapseContextDefault: CollapseContextInterface = {\n  collapsed: false,\n  changeCollapsed: () => {},\n}\n\nexport const CollapseContext = React.createContext(CollapseContextDefault)\n", "import React from \"react\"\nimport { assertDefined, EventType, isEventType,  Editor } from \"@moviemasher/moviemasher.js\"\n\nimport { ActivityInfo, ActivityType } from \"@moviemasher/client-core\"\n\n\nimport { ActivityGroup, ActivityObject, ActivityObjects } from \"../Components/Activity/ActivityContext\"\nimport { MasherContext } from \"../Components/Masher/MasherContext\"\n\nexport const useEditorActivity = (): [Editor, ActivityObjects] => {\n  // console.log(\"useEditorActivity\")\n  const masherContext = React.useContext(MasherContext)\n  const { editor } = masherContext\n  assertDefined(editor)\n\n  const allActivitiesRef = React.useRef<ActivityObjects>([])\n  const { eventTarget } = editor\n  \n  const getSnapshot = () => {\n    return allActivitiesRef.current\n  }\n\n  const handleEvent = (event: Event) => {\n    const { type } = event\n    if (isEventType(type) && (event instanceof CustomEvent)) {\n      const info: ActivityInfo = event.detail\n      const { id, type } = info\n      const { current: allActivities } = allActivitiesRef\n      const existing = allActivities.find(activity => activity.id === id)\n\n      const activity: ActivityObject = existing || { id, activityGroup: ActivityGroup.Active, infos: [] }\n      activity.infos.unshift(info)\n      if (type === ActivityType.Complete) activity.activityGroup = ActivityGroup.Complete\n      else if (type === ActivityType.Error) {\n        activity.activityGroup = ActivityGroup.Error\n      }\n      if (!existing) allActivities.unshift(activity)\n    }\n  }\n  const externalStore = React.useSyncExternalStore<ActivityObjects>((callback) => {\n    eventTarget.addEventListener(EventType.Active, callback)\n    return () => {\n      eventTarget.removeEventListener(EventType.Active, callback)\n    }\n  }, getSnapshot)\n\n  const removeListener = () => {\n    eventTarget.removeEventListener(EventType.Active, handleEvent)\n  }\n\n  const addListener = () => {\n    eventTarget.addEventListener(EventType.Active, handleEvent)\n\n    return () => { removeListener() }\n  }\n\n  React.useEffect(() => addListener(), [])\n  \n  return [editor, externalStore]\n}", "import React from 'react'\nimport { \n  BooleanSetter,\n  Editor, EditorIndex, EmptyMethod, Media, ScalarRecord\n} from '@moviemasher/moviemasher.js'\n\nimport { Client, Draggable } from '@moviemasher/client-core'\nimport { ThemeIcons } from '../../declarations'\n\nexport interface MasherContextInterface {\n  client?: Client\n  streaming: boolean\n  setStreaming: BooleanSetter\n  current: ScalarRecord\n  changeDefinition: (definition?: Media) => void\n  drop: (draggable: Draggable, editorIndex?: EditorIndex) => Promise<Media[]>\n  editor?: Editor\n  editorIndex: EditorIndex\n  icons: ThemeIcons\n}\n\nexport const MasherContextDefault: MasherContextInterface = {\n  streaming: false,\n  setStreaming: EmptyMethod,\n  current: {},\n  changeDefinition: EmptyMethod,\n  drop: () => Promise.resolve([]),\n  editorIndex: {},\n  icons: {},\n}\n\nexport const MasherContext = React.createContext(MasherContextDefault)\n", "import React from \"react\"\nimport { assertTrue } from \"@moviemasher/moviemasher.js\"\n\nimport { WithClassName, ReactResult, PropsAndChild } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\nimport { ActivityContext } from \"./ActivityContext\"\nimport { ActivityContentContext } from \"./ActivityContentContext\"\nimport { CollapseContext } from \"../Collapse/CollapseContext\"\n\nexport interface ActivityContentProps extends WithClassName, PropsAndChild {}\n\n/**\n * @parents Activity\n * @children ActivityItem\n */\nexport function ActivityContent(props: ActivityContentProps): ReactResult {\n  const activityContext = React.useContext(ActivityContext)\n  const collapseContext = React.useContext(CollapseContext)\n  const { collapsed } = collapseContext\n  const { activities } = activityContext\n  if (collapsed) return null\n\n  const { children, ...rest } = props\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child))\n\n  const viewChildren = activities.map(activity => {\n    const children = React.cloneElement(child)\n    const contextProps = { children, value: activity, key: activity.id }\n    const context = <ActivityContentContext.Provider { ...contextProps } />\n    return context\n  })\n  const viewProps = { ...rest, children: viewChildren }\n  return <View {...viewProps} />\n}\n", "import React from 'react'\n\nimport { ActivityGroup, ActivityObject } from './ActivityContext'\n\nexport const ActivityContentContextDefault: ActivityObject = {\n  infos: [],\n  activityGroup: ActivityGroup.Active,\n  id: '',\n}\n\nexport const ActivityContentContext = React.createContext(ActivityContentContextDefault)\n", "import React from \"react\"\n\nimport { PropsWithChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\nimport { CollapseContext, CollapseContextInterface } from \"../Collapse/CollapseContext\"\n\nexport interface ActivityItemProps extends PropsWithChildren, WithClassName {\n  collapsed?: boolean\n}\n\n/**\n * @parents ActivityContent\n * @children ActivityLabel, ActivityPicked, CollapseControl\n */\nexport function ActivityItem(props: ActivityItemProps): ReactResult {\n  const { collapsed: collapsedProp, ...rest } = props\n\n  const [collapsed, changeCollapsed] = React.useState(!!collapsedProp)\n  const collapseContext: CollapseContextInterface = { collapsed, changeCollapsed }\n\n  return (\n    <CollapseContext.Provider value={collapseContext}>\n      <View { ...rest } />\n    </CollapseContext.Provider>\n  )\n}\n", "import React from \"react\"\nimport { UnknownRecord } from \"@moviemasher/moviemasher.js\"\n\nimport { ReactResult, WithClassName } from \"../../declarations\"\nimport { ActivityContentContext } from \"./ActivityContentContext\"\nimport { activityLabel } from \"./ActivityContext\"\nimport { CollapseContext } from \"../Collapse/CollapseContext\"\nimport { View } from \"../../Utilities/View\"\n\n/**\n * @parents ActivityItem\n */\n export function ActivityLabel(props: WithClassName): ReactResult {\n  const collapseContext = React.useContext(CollapseContext)\n  const { collapsed } = collapseContext\n  \n  const activityContentContext = React.useContext(ActivityContentContext)\n  const { infos } = activityContentContext\n  const [firstInfo] = infos\n  const labeledInfo = infos.find(info => info.label) || { label: '' }\n  const label = labeledInfo.label || firstInfo.type \n  const viewProps: UnknownRecord = { ...props }\n  if (collapsed) viewProps.children = label\n  else {\n    const labels = [ label, ...infos.map(info => activityLabel(info))]\n    viewProps.children = labels.map((label, i) => <View key={i} children={label} />)\n  }\n  return <View { ...viewProps } />\n }", "import React from 'react'\nimport { Identified, assertTrue } from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChild, ReactResult } from '../../declarations'\nimport { Problems } from '../../Setup/Problems'\nimport { ActivityContext, assertActivityGroup } from './ActivityContext'\n\nexport interface ActivityPickedProps extends Identified, PropsAndChild {}\n\n/**\n * @parents ActivityContent\n */\nexport function ActivityPicked(props: ActivityPickedProps): ReactResult {\n  const activityContext = React.useContext(ActivityContext)\n  const { id, children } = props\n  assertActivityGroup(id)\n\n  const { picked } = activityContext\n  if (id !== picked) return null\n\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child), Problems.child)\n\n  return child\n  // return React.cloneElement(child, { key: id })\n}\n", "\nexport const Problems = {\n  child: 'single child element expected',\n}\n", "import React from \"react\"\nimport { Identified, assertTrue, ClassSelected } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { Problems } from \"../../Setup/Problems\"\nimport { ActivityContext, assertActivityGroup } from \"./ActivityContext\"\n\nexport interface ActivityPickerProps extends PropsAndChild, WithClassName, Identified {}\n/**\n * @parents ActivityContent\n */\n export function ActivityPicker(props: ActivityPickerProps): ReactResult {\n  const { id, className, children, ...rest } = props\n  assertActivityGroup(id)\n\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child), Problems.child)\n\n  const activityContext = React.useContext(ActivityContext)\n  const { picked, pick } = activityContext\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (id === picked) classes.push(ClassSelected)\n\n  const viewProps = {\n    ...rest,\n    className: classes.join(' '),\n    key: `activity-picker-${id}`,\n    onClick: () => pick(id)\n  }\n\n  return React.cloneElement(child, viewProps)\n }", "import React from \"react\"\nimport { \n  assertObject, isAboveZero, isPopulatedArray, isPopulatedString, isPositive \n} from \"@moviemasher/moviemasher.js\"\n\nimport { \n  PropsWithoutChild, ReactResult, WithClassName \n} from \"../../declarations\"\nimport { ActivityContext, ActivityGroup } from \"./ActivityContext\"\nimport { View } from \"../../Utilities/View\"\nimport { ActivityContentContext } from \"./ActivityContentContext\"\n\nexport interface ActivityProgressProps extends PropsWithoutChild, WithClassName {}\n/**\n * @parents Activity\n */\n export function ActivityProgress(props: ActivityProgressProps): ReactResult {\n  const activityContext = React.useContext(ActivityContext)\n  const activityContentContext = React.useContext(ActivityContentContext)\n  const { infos, id } = activityContentContext\n  const elements: React.ReactChild[] = []\n  let totalSteps = 0\n  let totalStep = 0\n  if (isPopulatedArray(infos)) {\n    const [info] = infos\n    const { step, steps } = info\n    if (isPositive(step) && isAboveZero(steps)) {\n      totalStep = step\n      totalSteps = steps\n    }\n  } else {\n    const { allActivities, label } = activityContext\n    if (isPopulatedString(label)) {\n      elements.push(<label key=\"label\">{label}</label>)\n    }\n    const active = allActivities.filter(activityObject => (\n      activityObject.activityGroup === ActivityGroup.Active\n    ))\n    if (active.length) {\n      active.forEach(activityObject => {\n        const { infos } = activityObject\n        const [info] = infos\n        assertObject(info, 'info')\n\n        const { step, steps } = info\n        if (isPositive(steps)) totalSteps += steps\n        if (isPositive(step)) totalStep += step\n      })\n    }\n  }\n  \n  if (totalSteps) {\n    const progress = totalStep / totalSteps\n    const progressProps = {\n      value: progress, max: 1.0, \n      children: `${Math.round(100.0 * progress)}%`,\n      key: \"progress\",\n    }\n    elements.push(<progress {...progressProps} />)\n  }\n  const viewProps = {\n    ...props, key: 'activity-progress', children: elements\n  }\n  return <View { ...viewProps } />\n }", "import React from 'react'\nimport { ClassButton, isUndefined } from '@moviemasher/moviemasher.js'\n\nimport { PropsMethod, PropsWithoutChild } from '../../declarations'\nimport { Bar } from '../../Utilities/Bar'\nimport { ActivityContent } from './ActivityContent'\nimport { ActivityProps } from './Activity'\nimport { PanelOptions, panelOptionsStrict } from '../Panel/Panel'\nimport { ActivityGroup } from './ActivityContext'\nimport { ActivityPicker } from './ActivityPicker'\nimport { ActivityLabel } from './ActivityLabel'\nimport { PanelFoot } from '../Panel/PanelFoot'\nimport { CollapseControl } from '../Collapse/CollapseControl'\nimport { NotCollapsed } from '../Collapse/NotCollapsed'\nimport { Collapsed } from '../Collapse/Collapsed'\nimport { View } from '../../Utilities/View'\nimport { ActivityProgress } from './ActivityProgress'\nimport { ActivityPicked } from './ActivityPicked'\nimport { ActivityItem } from './ActivityItem'\n\nexport interface ActivityPropsDefault extends PanelOptions, PropsWithoutChild {}\n\nexport const ActivityDefaultProps: PropsMethod<ActivityPropsDefault, ActivityProps> = function (props = {}) {\n  const optionsStrict = panelOptionsStrict(props)\n  const { icons } = optionsStrict\n  optionsStrict.props.key ||= 'activity'\n  optionsStrict.props.className ||= 'panel activity'\n  optionsStrict.props.initialPicked ||= ActivityGroup.Active\n  if (isUndefined(optionsStrict.props.initialCollapsed)) optionsStrict.props.initialCollapsed = true\n  \n  optionsStrict.header.content ||= [\n    <View key=\"panel-icon\" children={icons.activity} />,\n    <NotCollapsed key=\"not-collapsed\"><View key=\"view\" /></NotCollapsed>,\n    <Collapsed key=\"collapsed\">\n      <ActivityProgress key=\"progress\" className='progress' />\n    </Collapsed>,\n    <CollapseControl key=\"collapse-control\">\n      <NotCollapsed key=\"not-collapsed\" children={icons.collapse}/>\n      <Collapsed key=\"collapsed\" children={icons.collapsed}/>\n    </CollapseControl>\n  ]\n\n  optionsStrict.content.children ||= <ActivityItem className='item' collapsed={true}>\n    <CollapseControl key=\"collapse-control\">\n      <NotCollapsed key=\"not-collapsed\" children={icons.collapse}/>\n      <Collapsed key=\"collapsed\" children={icons.collapsed}/>\n    </CollapseControl>\n    <ActivityLabel key=\"label\" className=\"label\" />\n    <ActivityPicked key=\"active\" id=\"active\">\n      <ActivityProgress key=\"progress\" />\n    </ActivityPicked>\n    <ActivityPicked key=\"error\" id=\"error\" children={icons.error} />\n    <ActivityPicked key=\"complete\" id=\"complete\" children={icons.complete} />\n  </ActivityItem>\n  \n  optionsStrict.footer.content ||= [\n    <ActivityPicker key='active' id='active' className={ClassButton} children={icons.active} />,\n    <ActivityPicker key='error' id='error' className={ClassButton} children={icons.error} />,\n    <ActivityPicker key='complete' id='complete' className={ClassButton} children={icons.complete} />,\n  ]\n\n  const children = <>\n    <Bar {...optionsStrict.header} />\n    <ActivityContent {...optionsStrict.content.props}>\n      {optionsStrict.content.children}\n    </ActivityContent>\n    <PanelFoot {...optionsStrict.footer} />\n  </>\n\n  return { ...optionsStrict.props, children }\n}\n", "import React from \"react\"\nimport { PropsWithoutChild, ReactResult, WithClassName } from \"../declarations\"\nimport { View } from \"./View\"\n\nexport interface BarOptions {\n  props?: WithClassName\n  before?: React.ReactChild[]\n  after?: React.ReactChild[]\n  content?: React.ReactChild | React.ReactChild[]\n}\n\nexport interface BarProps extends BarOptions, PropsWithoutChild {}\n\nexport function Bar(props: BarProps): ReactResult {\n  const { before, content, after, props: viewProps = {} } = props\n  if (!(before || content || after)) return null\n\n  const children = [before, content, after].filter(Boolean)\n\n  viewProps.children = children\n  return <View {...viewProps}/>\n}\n", "import React from 'react'\nimport { CollapseContext, CollapseContextInterface } from '../Collapse/CollapseContext'\n\nimport { PropsAndChildren, ReactResult, ThemeIcons, WithClassName } from \"../../declarations\"\nimport { BarOptions } from '../../Utilities/Bar'\nimport { View } from '../../Utilities/View'\nimport { assertPopulatedObject } from '@moviemasher/moviemasher.js'\n\nexport interface ContentOptions {\n  props?: WithClassName\n  children?: React.ReactElement<WithClassName>\n}\n\nexport interface PanelOptionsStrict {\n  icons: ThemeIcons\n  props: WithClassName\n  header: BarOptions\n  content: ContentOptions\n  footer: BarOptions\n}\n\nexport type PanelOptions = Partial<PanelOptionsStrict>\n\nexport const panelOptionsStrict = (options: PanelOptions): PanelOptionsStrict => {\n  options.header ||= {}\n  options.header.props ||= {}\n  options.header.props.key ||= 'header'\n  options.header.props.className ||= 'head'\n\n  options.content ||= {}\n  options.content.props ||= {}\n  options.content.props.key ||= 'content'\n  options.content.props.className ||= 'content'\n\n  options.footer ||= {}\n  options.footer.props ||= {}\n  options.footer.props.key ||= 'footer'\n  options.footer.props.className ||= 'foot'\n\n  options.props ||= {}\n\n  assertPopulatedObject(options.icons)\n\n  return options as PanelOptionsStrict\n}\n\nexport interface PanelProps extends PropsAndChildren, WithClassName {\n  collapsed?: boolean\n}\n\nexport function Panel(props: PanelProps): ReactResult {\n  const { children, className, collapsed: collapsedProp } = props\n  const [collapsed, changeCollapsed] = React.useState(!!collapsedProp)\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (collapsed) classes.push('collapsed')\n\n  const viewProps = { children, className: classes.join(' ') }\n  const collapseContext: CollapseContextInterface = { collapsed, changeCollapsed }\n  return <CollapseContext.Provider value={collapseContext}>\n    <View {...viewProps} />\n  </CollapseContext.Provider>\n}\n", "import React from 'react'\nimport { CollapseContext } from '../Collapse/CollapseContext'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { BarProps } from '../../Utilities/Bar'\nimport { View } from '../../Utilities/View'\n\nexport interface PanelFootProps extends PropsAndChildren, WithClassName {}\n\nexport function PanelFoot(props: BarProps): ReactResult {\n  const panelContext = React.useContext(CollapseContext)\n  const { collapsed } = panelContext\n  if (collapsed) return null\n\n  const { before, content, after, props: viewProps = {} } = props\n\n  if (!(before || content || after)) return null\n\n  const children = [before, content, after].filter(Boolean)\n\n  viewProps.children = children\n  return <View {...viewProps}/>\n}\n\n", "import React from \"react\"\nimport { CollapseContext } from \"./CollapseContext\"\nimport { PropsWithChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\n\nexport interface CollapseControlProps extends PropsWithChildren, WithClassName {}\n\nexport function CollapseControl(props: CollapseControlProps): ReactResult {\n  const collapseContext = React.useContext(CollapseContext)\n  const { collapsed, changeCollapsed: setCollapsed } = collapseContext\n  const viewProps = { \n    ...props, \n    onClick: () => { setCollapsed(!collapsed) },\n  }\n  return <View {...viewProps} />\n}\n", "import React from 'react'\n\nimport { PropsAndChildren, ReactResult } from '../../declarations'\nimport { CollapseContext } from './CollapseContext'\n\nexport function NotCollapsed(props: PropsAndChildren): ReactResult {\n  const panelContext = React.useContext(CollapseContext)\n  if (panelContext.collapsed) return null\n\n  return <>{props.children}</>\n}\n", "import React from 'react'\n\nimport { PropsAndChildren, ReactResult } from '../../declarations'\nimport { CollapseContext } from './CollapseContext'\n\nexport function Collapsed(props: PropsAndChildren): ReactResult {\n  const panelContext = React.useContext(CollapseContext)\n  if (!panelContext.collapsed) return null\n\n  return <>{props.children}</>\n}\n", "import React from \"react\"\nimport { \n  assertPopulatedString, MediaType, MediaTypesRecord\n} from '@moviemasher/moviemasher.js'\n\nimport { PropsWithChildren, ReactResult } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\nimport { BrowserContext, BrowserContextInterface } from \"./BrowserContext\"\nimport { MasherContext } from \"../Masher/MasherContext\"\nimport { useDefinitions } from \"../../Hooks/useDefinitions\"\nimport { useRefresh } from \"../../Hooks/useRefresh\"\n\n\nexport interface BrowserProps extends PropsWithChildren {\n  initialPicked?: string\n}\n\n/**\n * @parents Masher\n * @children BrowserContent, BrowserPicker\n */\nexport function Browser(props: BrowserProps): ReactResult {\n  const { initialPicked = 'container', ...rest } = props\n\n  const [typesObject, setTypesObject] = React.useState<MediaTypesRecord>({})\n  const editorContext = React.useContext(MasherContext)\n  const { changeDefinition } = editorContext\n  const [refresh] = useRefresh()\n  const [ picked, setPicked] = React.useState(initialPicked) \n  const pick = (id: string) => {\n    assertPopulatedString(id)\n    changeDefinition()\n    setPicked(id)\n  }\n\n  const definitions = useDefinitions(typesObject[picked])\n\n  const addPicker = (id: string, types: MediaType[]) => {\n    setTypesObject(original => ({ ...original, [id]: types }))\n  }\n\n  const removePicker = (id: string): void => {\n    setTypesObject(original => ({ ...original, [id]: [] }))\n  }\n\n  const browserContext: BrowserContextInterface = {\n    refresh,\n    definitions,\n    picked,\n    pick, \n    addPicker, \n    removePicker,\n  }\n\n  const contextProps = {\n    value: browserContext,\n    children: <View {...rest} />\n  }\n  return (\n    <BrowserContext.Provider { ...contextProps } />\n  )\n}\n", "import React from 'react'\nimport { \n  EmptyMethod, MediaType, MediaArray, StringSetter, VoidMethod \n} from '@moviemasher/moviemasher.js'\n\nexport interface BrowserContextInterface {\n  refresh: VoidMethod\n  addPicker:(id: string, types: MediaType[]) => void\n  definitions: MediaArray\n  pick: StringSetter\n  picked: string,\n  removePicker:(id: string) => void\n}\n\nexport const BrowserContextDefault: BrowserContextInterface = {\n  addPicker: EmptyMethod,\n  refresh: EmptyMethod,\n  definitions: [],\n  pick: EmptyMethod,\n  picked: '',\n  removePicker: EmptyMethod,\n}\n\nexport const BrowserContext = React.createContext(BrowserContextDefault)\n", "import React from \"react\"\nimport { \n  assertDefined, EventType, isEventType, Editor, MediaArray, \n  MediaType, isPopulatedArray \n} from \"@moviemasher/moviemasher.js\"\n\nimport { MasherContext } from \"../Components/Masher/MasherContext\"\n\nconst EditorDefinitionsEventAdded = EventType.Added\nconst EditorDefinitionsEventResize = EventType.Resize\nexport const useEditorDefinitions = (types: MediaType[] = []): MediaArray => {\n  const masherContext = React.useContext(MasherContext)\n  const { editor } = masherContext\n  assertDefined(editor)\n\n  const { media } = editor\n\n  const storeRef = React.useRef<Record<string, MediaArray>>({})\n  const { eventTarget } = editor\n  \n  const snapshotInitialize = (): MediaArray => {\n    const lists = types.map(type => media.byType(type))\n    return lists.length === 1 ? lists[0] : lists.flat()\n  }\n\n  const snapshotGet = () => {\n    const key = types.join('-') || 'empty'\n    return storeRef.current[key] ||= snapshotInitialize()\n  }\n\n  const handleEvent = (event: Event) => {\n    const { type } = event\n    if (isEventType(type) && (event instanceof CustomEvent)) {\n      const { detail } = event\n      const { definitionTypes } = detail\n      if (isPopulatedArray(definitionTypes)) {\n        const types = definitionTypes as MediaType[]\n\n        const { current} = storeRef\n        const allIds = Object.keys(current)\n        const ids = allIds.filter(id => types.some(type => id.includes(type)))\n        ids.forEach(id => delete current[id])\n      }\n    }\n  }\n  const externalStore = React.useSyncExternalStore<MediaArray>((callback) => {\n    eventTarget.addEventListener(EditorDefinitionsEventAdded, callback)\n    eventTarget.addEventListener(EditorDefinitionsEventResize, callback)\n    return () => {\n      eventTarget.removeEventListener(EditorDefinitionsEventAdded, callback)\n      eventTarget.removeEventListener(EditorDefinitionsEventResize, callback)\n    }\n  }, snapshotGet)\n\n  const removeListener = () => {\n    eventTarget.removeEventListener(EditorDefinitionsEventAdded, handleEvent)\n  }\n\n  const addListener = () => {\n    eventTarget.addEventListener(EditorDefinitionsEventAdded, handleEvent)\n    return () => { removeListener() }\n  }\n\n  React.useEffect(() => addListener(), [])\n  \n  return externalStore\n}", "import React from \"react\"\nimport { \n  assertDefined, MediaArray, Endpoints, MediaTypes, \n} from \"@moviemasher/moviemasher.js\"\nimport { \n  ClientArrayResponse, ClientReadOptions, ReadOperation \n} from \"@moviemasher/client-core\"\n\nimport { useClient } from \"./useClient\"\nimport { useEditor } from \"./useEditor\"\n\nconst ApiDefinitionsEvent = 'api-definitions'\nconst ApiDefinitionsDisabled = 'disabled'\nconst ApiDefinitionsEmpty = 'empty'\n\nexport const useApiDefinitions = (types: MediaTypes = []): MediaArray => {\n\n  const client = useClient()\n  if (!client.enabled(ReadOperation)) return []\n\n  const editor = useEditor()\n  assertDefined(editor)\n  \n  const storeRef = React.useRef<Record<string, MediaArray>>({})\n\n  const { eventTarget } = editor\n\n  const definitionsPromise = (key: string) => {\n\n    const options: ClientReadOptions = { type: types }\n    return client.list(options).then((response: ClientArrayResponse) => {\n      console.debug(\"DataDefinitionRetrieveResponse\", Endpoints.data.definition.retrieve, response)\n      const { error, data } = response\n      if (!data) return\n      const array = storeRef.current[key]\n      array.push(...data)\n      eventTarget.dispatchEvent(new CustomEvent(ApiDefinitionsEvent))\n    })\n  }\n  \n  const snapshotInitialize = (key: string): MediaArray => {\n    switch(key) {\n      case ApiDefinitionsEmpty:\n      case ApiDefinitionsDisabled: break\n      default: definitionsPromise(key) \n    }\n    return []\n  }\n\n  const currentKey = () => {\n    if (!types.length) return ApiDefinitionsEmpty\n\n    return types.join('-')\n  }\n\n  const snapshotGet = () => {\n    const key = currentKey()\n    const array = storeRef.current[key]\n    if (array) return array\n    \n    // console.log(\"useApiDefinitions defining\", key)\n    return storeRef.current[key] = snapshotInitialize(key)\n  }\n\n  const externalStore = React.useSyncExternalStore<MediaArray>((callback) => {\n    eventTarget.addEventListener(ApiDefinitionsEvent, callback)\n    return () => {\n      eventTarget.removeEventListener(ApiDefinitionsEvent, callback)\n    }\n  }, snapshotGet)\n  \n  return externalStore\n}", "import React from \"react\"\nimport { Client } from \"@moviemasher/client-core\"\nimport { MasherContext } from \"../Components/Masher/MasherContext\"\n\nexport const useClient = (): Client => React.useContext(MasherContext).client!\n", "import React from \"react\"\nimport { Editor } from \"@moviemasher/moviemasher.js\"\nimport { MasherContext } from \"../Components/Masher/MasherContext\"\n\nexport const useEditor = (): Editor => React.useContext(MasherContext).editor!\n", "import { \n  Editor, MediaArray, MediaType\n} from \"@moviemasher/moviemasher.js\"\n\nimport { useEditorDefinitions } from \"./useEditorDefinitions\"\nimport { useApiDefinitions } from \"./useApiDefinitions\"\n\nexport const useDefinitions = (types: MediaType[] = []): MediaArray => {\n  const editorDefinitions = useEditorDefinitions(types)\n  const apiDefinitions = useApiDefinitions(types)\n  const definitions = apiDefinitions.filter(apiDefinition => \n    !editorDefinitions.some(editorDefinition => editorDefinition.id === apiDefinition.id)\n  )\n  const combined = [...editorDefinitions, ...definitions]\n  // console.log(\"useDefinitions\", combined.length, types.join(', '))\n  return combined\n}", "import React from \"react\"\n\n\nexport const useRefresh = (): [(...args: any[]) => void, number] => {\n  const [nonce, setNonce] = React.useState(0)\n  const updateNonce = () => { setNonce(new Date().valueOf()) }\n  return [updateNonce, nonce]\n}", "import React from \"react\"\nimport { \n  assertTrue, ClassDropping, eventStop\n} from \"@moviemasher/moviemasher.js\"\n\nimport { WithClassName, ReactResult, PropsAndChild } from \"../../declarations\"\nimport { View } from \"../../Utilities/View\"\nimport { BrowserContext } from \"./BrowserContext\"\nimport { DefinitionContext } from \"../../Contexts/DefinitionContext\"\nimport { MasherContext } from \"../Masher/MasherContext\"\nimport { dragTypes, TransferTypeFiles } from \"@moviemasher/client-core\"\n\nexport interface BrowserContentProps extends WithClassName, PropsAndChild {}\n\n/**\n * @parents Browser\n * @children BrowserSource\n */\nexport function BrowserContent(props: BrowserContentProps): ReactResult {\n  const [over, setOver] = React.useState(false)\n  const { className, children, ...rest } = props\n\n  const editorContext = React.useContext(MasherContext)\n  const browserContext = React.useContext(BrowserContext)\n  const definitions = browserContext.definitions || []\n  const { drop } = editorContext\n\n  const dragValid = (dataTransfer?: DataTransfer | null): dataTransfer is DataTransfer => {\n    if (!dataTransfer) return false\n\n    return dragTypes(dataTransfer).includes(TransferTypeFiles)\n  }\n\n  const onDrop = (event: DragEvent): void => {\n    onDragLeave(event)\n    const { dataTransfer } = event\n    if (dragValid(dataTransfer)) drop(dataTransfer.files)\n  } \n\n  const onDragOver = (event: DragEvent) => {\n    eventStop(event)\n    setOver(dragValid(event.dataTransfer))\n  }\n\n  const onDragLeave = (event: DragEvent): void => {\n    eventStop(event)\n    setOver(false)\n  }\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (over) classes.push(ClassDropping)\n  \n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child))\n  \n  const childNodes = () => {\n    const childProps = child.props\n    return definitions.map(definition => {\n      const cloneProps = { ...childProps, key: definition.id }\n      const children = React.cloneElement(child, cloneProps)\n      const contextProps = { children, value: { definition }, key: definition.id }\n      const context = <DefinitionContext.Provider { ...contextProps } />\n      return context\n    })\n  }\n\n  const viewProps = {\n    ...rest, \n    className: classes.join(' '),\n    key: `browser-content`,\n    children: childNodes(), \n    onDrop, onDragOver, onDragLeave,\n\n  }\n  return <View {...viewProps} />\n}\n", "import React from 'react'\nimport { Media } from '@moviemasher/moviemasher.js'\n\nexport interface DefinitionContextInterface {\n  definition?: Media\n}\n\nexport const DefinitionContextDefault: DefinitionContextInterface = {\n}\n\nexport const DefinitionContext = React.createContext(DefinitionContextDefault)\n", "import React from \"react\"\nimport { \n  ClassSelected, Identified, assertPopulatedString, assertTrue \n} from \"@moviemasher/moviemasher.js\"\n\nimport { \n  PropsAndChild, ReactResult, WithClassName\n } from \"../../declarations\"\nimport { propsMediaTypes } from \"../../Utilities/Props\"\nimport { BrowserContext } from \"./BrowserContext\"\nimport { Problems } from \"../../Setup/Problems\"\n\nexport interface BrowserPickerProps extends PropsAndChild, Identified, WithClassName {\n  type?: string\n  types?: string | string[]\n}\n\n/**\n * @parents Browser\n */\nexport function BrowserPicker(props: BrowserPickerProps): ReactResult {\n  const { children, type, types, className, id, ...rest } = props\n  assertPopulatedString(id)\n\n  const browserContext = React.useContext(BrowserContext)\n  const { pick, picked, addPicker, removePicker } = browserContext\n\n  const classes = []\n  if (className) classes.push(className)\n  if (picked === id) classes.push(ClassSelected)\n\n  React.useEffect(() => {\n    addPicker(id, propsMediaTypes(type, types, id))\n    return () => { removePicker(id) }\n  }, [])\n\n  const viewProps = { \n    ...rest, \n    className: classes.join(' '),\n    key: `browser-picker-${id}`,\n    onClick: () => { pick(id) }, \n  }\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child), Problems.child)\n   \n  return React.cloneElement(child, viewProps)\n}\n", "import { MediaType, isMediaType, isSelectType, isString, Property, SelectType } from \"@moviemasher/moviemasher.js\"\n\nconst propsStringArray = (string?: string, array?: string | string[], properties?: Property[]): string[] => {\n  if (string) return [string]\n\n  if (!array) return properties ? properties.map(property => property.name) : []\n\n  if (isString(array)) return array.split(',').map(string => string.trim())\n\n  return array\n}\n\nexport const propsMediaTypes = (type?: string, types?: string | string[], id?: string): MediaType[] => {\n  const strings = propsStringArray(type, types)\n  if (id && !strings.length) strings.push(id)\n  const validStrings = strings.filter(string => isMediaType(string))\n  return validStrings.map(string => string as MediaType)\n}\n\n\nexport const propsSelectTypes = (type?: string, types?: string | string[], id?: string): SelectType[] => {\n  const strings = propsStringArray(type, types)\n  if (id && !strings.length) strings.push(id)\n  const validStrings = strings.filter(string => isSelectType(string))\n  return validStrings.map(string => string as SelectType)\n}\n", "import React from 'react'\nimport { ClassButton } from '@moviemasher/moviemasher.js'\n\nimport { PropsMethod, PropsWithoutChild } from '../../declarations'\nimport { Bar } from '../../Utilities/Bar'\nimport { BrowserContent } from './BrowserContent'\nimport { BrowserPicker } from './BrowserPicker'\nimport { BrowserProps } from './Browser'\nimport { BrowserControl } from './BrowserControl'\nimport { PanelOptions, panelOptionsStrict } from '../Panel/Panel'\nimport { DefinitionItem } from '../DefinitionItem/DefinitionItem'\nimport { View } from '../../Utilities/View'\n\nexport interface BrowserPropsDefault extends PanelOptions, PropsWithoutChild {}\n\nexport const BrowserDefaultProps: PropsMethod<BrowserPropsDefault, BrowserProps> = function (props = {}) {\n  const optionsStrict = panelOptionsStrict(props)\n  const { icons } = optionsStrict\n  optionsStrict.props.key ||= 'browser'\n  optionsStrict.props.className ||= 'panel browser'\n  optionsStrict.props.initialPicked ||= 'container'\n  optionsStrict.header.content ||= [\n    <View key=\"panel-icon\" children={icons.browser} />\n  ]\n\n  optionsStrict.footer.content ||= [\n    <BrowserPicker key='effect' id='effect' className={ClassButton} children={icons.effect} />,\n    <BrowserPicker key='container' id='container' className={ClassButton} children={icons.container} />,\n    <BrowserPicker key='content' id='content' className={ClassButton} children={icons.content} />,\n  ]\n  optionsStrict.footer.before ||= [\n    <BrowserPicker key='video' id='video' types='video,videosequence' className={ClassButton} children={icons.browserVideo} />,\n    <BrowserPicker key='audio' id='audio' className={ClassButton} children={icons.browserAudio} />,\n    <BrowserPicker key='image' id='image' className={ClassButton} children={icons.browserImage} />,\n    <BrowserPicker key='font' id='font' className={ClassButton} children={icons.browserText} />,\n  ]\n\n  optionsStrict.footer.after ||= [\n    <BrowserControl key='import' children={icons.import} />\n  ]\n\n  optionsStrict.content.children ||= (\n    <DefinitionItem draggable={true} className='definition preview' />\n  )\n\n  const children = <>\n    <Bar {...optionsStrict.header} />\n    <BrowserContent {...optionsStrict.content.props}>\n      {optionsStrict.content.children}\n    </BrowserContent>\n    <Bar {...optionsStrict.footer} />\n  </>\n  \n  return { ...optionsStrict.props, children }\n}\n", "import React from \"react\"\nimport { assertObject, RawTypes } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { MasherContext } from \"../Masher/MasherContext\"\nimport { useClient } from \"../../Hooks/useClient\"\n\nconst BrowserControlId = 'upload-control-id'\n\nexport function BrowserControl(props: PropsAndChild): ReactResult {\n  const { children, ...rest } = props\n  const fileInput = React.useRef<HTMLInputElement>(null)\n  const client = useClient()\n  const editorContext = React.useContext(MasherContext)\n  const { drop } = editorContext\n\n\n  const onChange = (event: React.FormEvent<HTMLInputElement>) => {\n    const { files } = event.currentTarget\n    if (files) drop(files)\n  }\n\n  const accept = client.accept()\n  \n  const inputProps = {\n    accept,\n    multiple: true,\n    id: BrowserControlId,\n    onChange,\n    type: 'file',\n    key: 'browser-control-input',\n    ref: fileInput,\n    ...rest,\n  }\n  const input = <input {...inputProps}/>\n\n  if (!React.isValidElement(children)) return input\n\n  const kids = [React.Children.only(children), input]\n\n  const labelProps = {\n    children: kids,\n    key: 'browser-control',\n    htmlFor: BrowserControlId\n  }\n  return <label {...labelProps} />\n}\n", "import React from 'react'\nimport { \n  assertTrue,\n  ClassSelected, MediaObject, sizeAboveZero, sizeCopy, sizeScale, Strings, UnknownRecord} from \"@moviemasher/moviemasher.js\"\n\nimport { \n  PropsWithoutChild, ReactResult, WithClassName \n} from '../../declarations'\nimport { DragDefinitionObject, DragSuffix } from '@moviemasher/client-core'\nimport { useDefinition } from './useDefinition'\nimport { View } from '../../Utilities/View'\nimport { sizeCeil } from '@moviemasher/moviemasher.js'\nimport { MasherContext } from '../Masher/MasherContext'\nimport { BrowserContext } from '../Browser/BrowserContext'\n\nexport interface DefinitionItemProps extends WithClassName, PropsWithoutChild {\n  draggable?: boolean\n  iconRatio?: number\n}\n\n/**\n * @parents BrowserContent, DefinitionDrop\n */\nexport function DefinitionItem(props: DefinitionItemProps): ReactResult {\n  const { className, iconRatio, ...rest } = props\n  const ratio = iconRatio || 0.25\n  \n  const svgRef = React.useRef<HTMLDivElement>(null)\n  const viewRef = React.useRef<HTMLDivElement>(null)\n  const browserContext = React.useContext(BrowserContext)\n  const { refresh } = browserContext\n  const masherContext = React.useContext(MasherContext)\n  const { editor, changeDefinition, current } = masherContext\n  \n  assertTrue(editor)\n\n  const media = useDefinition()\n\n  const { id, label } = media\n \n  const updateRef = async () => {\n    const { rect } = editor\n    const { current } = svgRef\n    if (!(current && sizeAboveZero(rect))) return \n\n    const scaled = sizeCeil(sizeScale(sizeCopy(rect), ratio, ratio))\n    const element = await media.definitionIcon(scaled)\n    if (element) current.replaceChildren(element)\n  }\n\n  React.useEffect(() => { updateRef() }, [])\n  if (svgRef.current) updateRef()\n\n  const childNodes = () => {\n    const nodes = [<View key=\"icon\" ref={svgRef} />]\n    if (label) nodes.unshift(<label key='label'>{label}</label>)\n    return nodes\n  }\n\n  const onPointerDown = (event: Event) => { \n    event.stopPropagation()\n    \n    changeDefinition(media) \n    refresh()\n  }\n\n  const onDragStart = (event: DragEvent) => {\n    onPointerDown(event)\n    const rect = viewRef.current!.getBoundingClientRect()\n    const { left } = rect\n    const { clientX } = event\n    const mediaObject = media.toJSON()\n    const data: DragDefinitionObject = { offset: clientX - left, mediaObject }\n    const json = JSON.stringify(data)\n    const { dataTransfer } = event\n    if (!dataTransfer) return \n    \n    dataTransfer.effectAllowed = 'copy'\n    // console.log(\"DefinitionItem.onDragStart\", definition.type + DragSuffix, json)\n    dataTransfer.setData(media.type + DragSuffix, json)\n  }\n\n  const calculateClassName = () => {\n    const classes: Strings = []\n    if (className) classes.push(className)\n    if (current.mediaId === id) classes.push(ClassSelected)\n    return classes.join(' ')\n  }\n\n  const viewProps: UnknownRecord = {\n    ...rest,\n    className,\n    children: childNodes(),\n    ref: viewRef, key: id,\n  }\n  if (props.draggable) {\n    viewProps.onDragStart = onDragStart\n    viewProps.onPointerDown = onPointerDown\n    viewProps.className = calculateClassName()\n  }\n  return <View {...viewProps}/>\n}\n", "import React from \"react\"\nimport { Media } from \"@moviemasher/moviemasher.js\"\nimport { DefinitionContext } from \"../../Contexts/DefinitionContext\"\n\nexport const useDefinition = (): Media => React.useContext(DefinitionContext).definition!\n", "import React from 'react'\nimport { Clip } from '@moviemasher/moviemasher.js'\n\nexport interface ClipContextInterface {\n  prevClipEnd: number\n  clip?: Clip\n}\n\nexport const ClipContextDefault: ClipContextInterface = {\n  prevClipEnd: 0\n}\n\nexport const ClipContext = React.createContext(ClipContextDefault)\n", "import React from 'react'\nimport {\n  UnknownRecord, DroppingPosition, ClassSelected, eventStop, \n  assertTrue,\n  sizeAboveZero, svgPolygonElement,\n  Size, EventType, isAboveZero, colorToRgb, colorRgbDifference, colorFromRgb, svgPatternElement, idGenerate, svgDefsElement, svgUrl, svgSvgElement, sizeCeil, isEventType, isObject\n} from '@moviemasher/moviemasher.js'\nimport { \n  pixelFromFrame, DragSuffix, droppingPositionClass \n} from '@moviemasher/client-core'\n\nimport { PropsWithoutChild, ReactResult, WithClassName } from '../../declarations'\nimport { TrackContext } from '../../Contexts/TrackContext'\nimport { TimelineContext } from '../Timeline/TimelineContext'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { ClipContext } from './ClipContext'\nimport { View } from '../../Utilities/View'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { useRefresh } from '../../Hooks/useRefresh'\n\nconst ClipItemRefreshRate = 500\n\nexport interface ClipItemProps extends WithClassName, PropsWithoutChild {}\n/**\n * @parents TimelineTrack\n */\nexport function ClipItem(props: ClipItemProps): ReactResult {\n  const { className, ...rest } = props\n  const svgRef = React.useRef<SVGSVGElement>(null)\n  const viewRef = React.useRef<HTMLDivElement>(null)\n  const editor = useEditor()\n  const trackContext = React.useContext(TrackContext)\n  const timelineContext = React.useContext(TimelineContext)\n  \n  const [refresh, nonce] = useRefresh()\n\n  const watchingRef = React.useRef<UnknownRecord>({})\n  const { current: watching } = watchingRef\n  const clipContext = React.useContext(ClipContext)\n  const {\n    droppingPosition, droppingClip, scale, selectedClip, onDrop,\n    dragTypeValid, setDroppingPosition, setDroppingClip, setDroppingTrack, \n    onDragLeave,\n  } = timelineContext\n  const { track } = trackContext\n  const { clip, prevClipEnd} = clipContext\n  assertTrue(clip)\n\n  const backgroundNode = (fill: string, size: Size, spacing: number) => {\n    const rgb = colorToRgb(fill)\n    const differenceRgb = colorRgbDifference(rgb)\n    const forecolor = colorFromRgb(differenceRgb)\n    const framePolygon = svgPolygonElement(size, '', fill)\n    const spaceRect = { \n      x: size.width, y: 0,\n      width: spacing, height: size.height, \n    }\n    const spacePolygon = svgPolygonElement(spaceRect, '', forecolor)\n\n    const patternSize = { \n      width: size.width + spacing, height: size.height\n    }\n    const patternId = idGenerate('pattern')\n    const patternItems = [framePolygon, spacePolygon]\n    const pattern = svgPatternElement(patternSize, patternId, patternItems)\n    const defsElement = svgDefsElement([pattern])\n    const patternedSize = { width: timelineContext.rect.width, height: parentHeight }\n    const patternedPolygon = svgPolygonElement(patternedSize, '', svgUrl(patternId))\n    return svgSvgElement(patternedSize, [defsElement, patternedPolygon])\n  }\n  const getParentHeight = () => {\n    const { current } = svgRef\n    const parent = current?.parentNode\n    if (parent instanceof HTMLDivElement) {\n\n      return parent.offsetHeight // .getBoundingClientRect().height\n    }\n  \n    // console.log(\"ClipItem.getParentHeight NO HEIGHT\", !!current)\n    return 0\n  }\n\n  const [parentHeight, setParentHeight] = React.useState(getParentHeight)\n\n  const { label, frame, frames } = clip\n\n  const getCurrentWidth = () => {\n    if (!(isAboveZero(scale) && isAboveZero(frames))) {\n      // console.log(\"ClipItem getCurrentWidth returing 0\", scale, frames)\n      return 0\n    }\n\n    const currentWidth = pixelFromFrame(frames, scale, 'floor')\n    const { width } = watching\n    if (currentWidth && currentWidth !== width) {\n      watching.width = currentWidth\n      refresh()\n    }\n    return currentWidth\n  }\n\n  const currentWidth = getCurrentWidth()\n\n  const actionCallback = (event: Event) => { \n    // console.log(\"ClipItem actionCallback\", event)\n    if (watching.redraw) return\n    \n    const { type } = event\n    if (!isEventType(type)) return\n    if (!(event instanceof CustomEvent)) return\n    if (type !== EventType.Action) return\n    \n    const { detail } = event\n    if (!detail) return \n    \n    const { action } = detail\n    if (!action) return\n\n    const { target } = action\n    if (!isObject(target)) return\n\n    switch(target) {\n      case clip:\n      case clip.container:\n      case clip.content: break\n      default: {\n        if (action.property === 'color') break\n        return\n      }\n    }    \n    refresh()\n  }\n\n  useListeners({ [EventType.Action]: actionCallback, [EventType.Save]: refresh })\n\n  const frameSize = () => {\n    const { rect } = editor\n    const size = { \n      width: parentHeight * (rect.width / rect.height), height: parentHeight\n    }\n    return sizeCeil(size)\n  }\n\n  const clipSize = (size: Size) => {\n    const { width, height } = size\n    return { width: Math.max(width, currentWidth), height }\n  }\n\n  const populateSvg = (): Promise<void> => {\n    const { width, redraw } = watching\n    delete watching.timeout \n    delete watching.redraw \n    \n    const { current } = svgRef\n    const { mashMedia } = editor\n\n    const allOk = current && mashMedia && width && width === getCurrentWidth()\n    if (redraw || !allOk) {\n      refresh()\n      if (!allOk) return Promise.resolve()\n    }\n    const currentSize = frameSize()\n    const fullSize = clipSize(currentSize)\n    \n    // return Promise.resolve()\n    \n    const promise = clip.clipIcon(fullSize, timelineContext.scale, 2)\n    if (!promise) return Promise.resolve()\n    \n    return promise.then(element => {\n      const latestWidth = getCurrentWidth()\n      if (element && width >= latestWidth) {\n        // console.log(\"ClipItem.populateSvg replacing children\", fullSize)\n        current.replaceChildren(backgroundNode(mashMedia.color, currentSize, 2), element)\n      } //else console.log(\"ClipItem.populateSvg\", !!element, width, \">= ?\", latestWidth)\n    })\n  }\n  \n  const handleChange = () => {\n    if (!parentHeight) {\n      // console.log(\"ClipItem.handleChange no parentHeight\")\n      return setParentHeight(getParentHeight)\n    }\n     \n    const { current } = svgRef\n    const { mashMedia } = editor\n    if (!(current && mashMedia)) return\n\n    if (watching.timeout) {\n      if (!watching.redraw) {\n        // console.log(\"ClipItem.handleChange setting redraw\", nonce, scale, parentHeight)\n        watching.redraw = true\n      }\n      return\n    }\n    // // console.log(\"ClipItem.handleChange setting timeout\", nonce, scale)\n    watching.timeout = setTimeout(populateSvg, ClipItemRefreshRate)\n  }\n\n  React.useEffect(handleChange, [nonce, scale, parentHeight])\n  \n  const onPointerDown = (event: MouseEvent) => { \n    event.stopPropagation()\n    editor.selection.set(clip) \n  }\n\n  const onDragEnd = (event: DragEvent) => {\n    eventStop(event)\n    const { dataTransfer } = event\n    if (!dataTransfer) return\n    \n    const { dropEffect } = dataTransfer\n    if (dropEffect === 'none') {\n      editor.removeClip(clip)\n    }\n  }\n\n  const onDragStart = (event: DragEvent) => {\n    onPointerDown(event)\n\n    const { dataTransfer, clientX } = event\n    const { current } = viewRef\n    if (!(dataTransfer && current)) return\n\n    const rect = current.getBoundingClientRect()\n    const { left } = rect\n\n    const data = { offset: clientX - left }\n    const json = JSON.stringify(data)\n    dataTransfer.effectAllowed = 'move'\n    dataTransfer.setData('clip' + DragSuffix, json)\n  }\n\n  const onDragOver = (event: DragEvent) => {\n    eventStop(event)\n    const { dataTransfer } = event\n    if (!dataTransfer) return\n\n    const definitionType = dragTypeValid(dataTransfer, clip)\n    const pos = definitionType ? DroppingPosition.At : DroppingPosition.None\n    setDroppingTrack(definitionType ? track : undefined)\n    setDroppingClip(definitionType ? clip : undefined)\n    setDroppingPosition(pos)\n  }\n\n  const calculateClassName = (): string => {\n    const selected = clip === selectedClip\n    const classes: string[] = []\n    if (className) classes.push(className)\n    if (selected) classes.push(ClassSelected)\n    if (droppingClip === clip) classes.push(droppingPositionClass(droppingPosition))\n\n    // console.log(\"TimelineClip calculatedClassName\", classes.join(' '))\n    return classes.join(' ')\n  }\n\n  const childNodes = () => {\n    const svgProps: UnknownRecord = {\n      key: \"clip-previews\", ref: svgRef\n    }\n    const size = { width: currentWidth, height: parentHeight }\n    if (sizeAboveZero(size)) {\n      const { width, height } = size\n      svgProps.width = width\n      svgProps.height = height\n      svgProps.viewBox = `0 0 ${width} ${height}`\n    }\n    const nodes = [<svg { ...svgProps } />]\n    if (label) nodes.unshift(<label key='label'>{label}</label>)\n    return nodes\n  }\n\n  const style: UnknownRecord = { width: currentWidth }\n  if (prevClipEnd > -1) {\n    style.marginLeft = pixelFromFrame(frame - prevClipEnd, scale, 'floor')\n  }\n\n  const clipProps = {\n    ...rest,\n    style,\n    className: calculateClassName(),\n    onPointerDown, onDragStart, onDragEnd,\n    onDragOver, onDragLeave, onDrop,\n    onClick: (event: React.MouseEvent) => event.stopPropagation(),\n    draggable: true,\n    ref: viewRef,\n    children: childNodes()\n  }\n\n  return <View { ...clipProps } />\n}\n", "import React from 'react'\nimport { Track } from '@moviemasher/moviemasher.js'\n\nexport interface TrackContextInterface {\n  track?: Track\n}\n\nexport const TrackContextDefault: TrackContextInterface = {}\n\nexport const TrackContext = React.createContext(TrackContextDefault)\n", "import React from 'react'\nimport {\n  EmptyMethod,RectZero,\n  Clip, DroppingPosition, NumberSetter, Rect, Track, VoidMethod, Point\n} from '@moviemasher/moviemasher.js'\n\nexport interface TimelineContextInterface {\n  dragTypeValid(dataTransfer: DataTransfer, clip?: Clip): boolean\n  droppingClip?: Clip\n  droppingPosition?: DroppingPosition | number\n  droppingTrack?: Track\n  frame: number\n  frames: number\n  onDragLeave: (event: DragEvent) => void\n  onDrop: (event: DragEvent) => void\n  rect: Rect\n  refresh: VoidMethod\n  refreshed: number\n  scale: number\n  scroll: Point\n  selectedClip?: Clip\n  selectedTrack?: Track\n  setDroppingClip(_?: Clip): void\n  setDroppingPosition(_: DroppingPosition | number): void\n  setDroppingTrack(_?: Track): void\n  setRect(_:Rect): void\n  setScroll(_:Point): void\n  setZoom: NumberSetter\n  zoom: number\n}\n\nexport const TimelineContextDefault: TimelineContextInterface = {\n  dragTypeValid(): boolean { return false },\n  frame: 0,\n  frames: 0,\n  onDragLeave: EmptyMethod,\n  onDrop: EmptyMethod,\n  rect: RectZero,\n  refreshed: 0, refresh: EmptyMethod,\n  scale: 0,\n  scroll: { x: 0, y: 0 },\n  setDroppingClip: EmptyMethod,\n  setDroppingPosition: EmptyMethod,\n  setDroppingTrack: EmptyMethod,\n  setRect: EmptyMethod,\n  setScroll: EmptyMethod,\n  setZoom: EmptyMethod,\n  zoom: 1,\n}\n\nexport const TimelineContext = React.createContext(TimelineContextDefault)\n", "import React from \"react\"\nimport { EventType } from \"@moviemasher/moviemasher.js\"\n\nimport { ListenerCallback } from \"../declarations\"\nimport { useEditor } from \"./useEditor\"\n\nexport interface ListenerEvents extends Partial<Record<EventType, ListenerCallback>> {}\n\nexport const useListeners = (events: ListenerEvents): void => {\n  const editor = useEditor()\n  const { eventTarget } = editor\n\n  const handleEvent = (event : Event) => {\n    const { type } = event\n    const handler = events[type as EventType]\n    if (handler) handler(event)\n  }\n\n  const removeListeners = () => {\n    const keys = Object.keys(events)\n    keys.forEach(eventType => {\n      eventTarget.removeEventListener(eventType, handleEvent)\n    })\n  }\n\n  const addListeners = () => {\n    Object.keys(events).forEach(eventType => {\n      eventTarget.addEventListener(eventType, handleEvent)\n    })\n    return () => { removeListeners() }\n  }\n\n  React.useEffect(() => addListeners(), [])\n}\n", "import React from \"react\"\nimport { Clip } from \"@moviemasher/moviemasher.js\"\n\nimport { ClipContext } from \"./ClipContext\"\n\nexport const useClip = (): Clip => React.useContext(ClipContext).clip!\n", "import React from \"react\"\nimport {\n  EventType, MasherAction} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\n\nexport function CreateEditedControl(props: PropsAndChild): ReactResult {\n  const { children, ...rest } = props\n  const editor = useEditor()\n  const getDisabled = () => editor.can(MasherAction.Save)\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled()) }\n\n  useListeners({\n    [EventType.Action]: updateDisabled,\n    [EventType.Loaded]: updateDisabled,\n    [EventType.Save]: updateDisabled,\n  })\n\n  const onClick = () => {\n    if (disabled) return\n\n    editor.create()\n  }\n\n  const buttonOptions = { ...rest, onClick, disabled }\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n\n\n}\n", "import React from \"react\"\nimport { MasherAction, EventType } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { useEditor } from \"../../Hooks/useEditor\"\n\nexport interface EditorRedoButtonProps extends PropsAndChild {}\n\nexport function EditorRedoButton(props: EditorRedoButtonProps): ReactResult {\n\n  const [disabled, setDisabled] = React.useState(true)\n  const editor = useEditor()\n  useListeners({\n    [EventType.Action]: () => { setDisabled(!editor.can(MasherAction.Redo)) }\n  })\n  const { children, ...rest } = props\n  const onClick = () => { editor.redo() }\n\n  const buttonOptions = { ...rest, onClick, disabled }\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import React from \"react\"\nimport { EventType, SelectType, assertSelectType, isEffect, isClip, isTrack } from \"@moviemasher/moviemasher.js\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\n\nexport interface EditorRemoveButtonProps extends PropsAndChild {\n  type: string\n}\n\nexport function EditorRemoveButton(props: EditorRemoveButtonProps): ReactResult {\n  const { children, type, ...rest } = props\n  const selectType = type || SelectType.Clip\n  assertSelectType(selectType)\n\n  const editor = useEditor()\n  const [disabled, setDisabled] = React.useState(!editor.selection[selectType])\n  useListeners({\n    [EventType.Selection]: () => { setDisabled(!editor.selection[selectType]) }\n  })\n\n  const onClick = () => {\n    if (disabled) return\n\n    const selectable = editor.selection[selectType]\n    if (isEffect(selectable)) editor.removeEffect(selectable)\n    else if (isClip(selectable)) editor.removeClip(selectable)\n    else if (isTrack(selectable)) editor.removeTrack(selectable)\n  }\n\n  const child = React.Children.only(children)\n\n  const cloneProps = { ...rest, ...child.props, onClick, disabled }\n  return React.cloneElement(child, cloneProps)\n}\n", "import React from \"react\"\nimport { MasherAction, EventType } from \"@moviemasher/moviemasher.js\"\n\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\n\nexport interface EditorUndoButtonProps extends PropsAndChild {}\n\nexport function EditorUndoButton(props: EditorUndoButtonProps): ReactResult {\n  const editor = useEditor()\n  const [disabled, setDisabled] = React.useState(true)\n  useListeners({\n    [EventType.Action]: () => { setDisabled(!editor.can(MasherAction.Undo)) }\n  })\n  const { children, ...rest } = props\n\n  const onClick = () => { editor.undo() }\n\n  const buttonOptions = { ...rest, onClick, disabled: disabled }\n  return  React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import React from \"react\"\nimport {\n  EventType, MasherAction, assertMashMedia\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { EncodeOperation } from \"@moviemasher/client-core\"\nimport { useClient } from \"../../Hooks/useClient\"\n\nexport function EncodeControl(props: PropsAndChild): ReactResult {\n  const client = useClient()\n  const { children, ...rest } = props\n  const editor = useEditor()\n\n  const getDisabled = () => !editor.can(MasherAction.Render)\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => setDisabled(getDisabled())\n  useListeners({\n    [EventType.Save]: updateDisabled,\n    [EventType.Loaded]: updateDisabled,\n    [EventType.Action]: updateDisabled\n  })\n\n  if (!client.enabled(EncodeOperation)) return null\n\n  const onClick = () => {\n    if (disabled) return\n\n    const { mashMedia } = editor\n    assertMashMedia(mashMedia)\n\n    setDisabled(true)\n    client.encode(mashMedia)\n  }\n  const buttonOptions = { ...rest, onClick, disabled }\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import React from \"react\"\nimport {\n  MasherAction, EventType, assertMashMedia,\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { useClient } from \"../../Hooks/useClient\"\nimport { WriteOperation } from \"@moviemasher/client-core\"\n\nexport function SaveControl(props:PropsAndChild): ReactResult {\n  const editor = useEditor()\n  const client = useClient()\n\n  const getDisabled = () => !editor.can(MasherAction.Save)\n  const [disabled, setDisabled] = React.useState(getDisabled)\n\n  const updateDisabled = () => { setDisabled(getDisabled()) }\n  useListeners({\n    [EventType.Action]: updateDisabled, \n    [EventType.Save]: updateDisabled,\n  })\n\n  if (!client.enabled(WriteOperation)) return null\n\n  const { children, ...rest } = props\n  \n  const onClick = () => {\n    if (disabled) return\n\n    setDisabled(true)\n    const { mashMedia } = editor\n    assertMashMedia(mashMedia)\n    \n    client.save(mashMedia)\n  }\n  \n  const buttonOptions = { ...rest, onClick, disabled }\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import React from \"react\"\nimport {\n  DataMashRetrieveRequest, DataRetrieveResponse, DataGetRequest,\n  Endpoints, EventType, MasherAction, ServerType, \n  DataMashGetResponse, isEventType, isSelectType, assertObject, \n  isPopulatedString, isPositive, assertTrue, Identified,\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { ApiContext } from \"../../../client-react-deleted/ApiClient/ApiContext\"\nimport { InspectorContext } from \"../Inspector/InspectorContext\"\nimport { labelInterpolate, labelTranslate } from \"../../Utilities/Label\"\nimport { View } from \"../../Utilities/View\"\n\n\ninterface AndLabel {\n  label: string\n}\n\ninterface LabelAndId extends Identified, AndLabel {}\n\nexport interface SelectEditedControlProps extends PropsAndChild, WithClassName {}\n\nexport function SelectEditedControl(props: SelectEditedControlProps): ReactResult {\n  const editor = useEditor()\n  const [requested, setRequested] = React.useState(false)\n  const [described, setDescribed] = React.useState<LabelAndId[]>(() => [])\n\n  const [editedId, setEditedId] = React.useState(editor.mashMedia?.id || '')\n  const apiContext = React.useContext(ApiContext)\n  const inspectorContext = React.useContext(InspectorContext)\n  const { selectedInfo } = inspectorContext\n  const { selectedType } = selectedInfo\n\n  const [editedLabel, setEditedLabel] = React.useState(editor.mashMedia?.label || '')\n  const getDisabled = () => editor.can(MasherAction.Save)\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const { enabled, servers, endpointPromise } = apiContext\n\n  const updateDisabled = () => { setDisabled(getDisabled()) }\n\n  const handleEdited = (event: Event) => {\n    const { type } = event\n    if (!(isEventType(type) && isSelectType(type))) return\n    \n    if (type !== selectedType) return\n\n    const { mashMedia } = editor\n    assertObject(mashMedia, 'mashMedia')\n\n    const { id, label } = mashMedia\n    setDescribed(original => {\n      const copy = original.filter(object => isPopulatedString(object.label))\n      const index = copy.findIndex(object => object.id === id)\n      if (isPositive(index)) copy.splice(index, 1, mashMedia)\n      else copy.push(mashMedia)\n      setEditedId(id)\n      setEditedLabel(label)\n      return copy\n    })\n  }\n\n  const handleAction = () => {\n    const { mashMedia } = editor\n    assertObject(mashMedia, 'mashMedia')\n\n    const { label } = mashMedia\n    if (editedLabel !== label) {\n      setDescribed(original => [...original])\n      setEditedLabel(label)\n    }\n    updateDisabled()\n  }\n\n  useListeners({\n    [EventType.Action]: handleAction,\n    [EventType.Loaded]: handleEdited,\n    [EventType.Save]: updateDisabled,\n  })\n\n  const onChange: React.ChangeEventHandler<HTMLSelectElement> = (event) => {\n    if (disabled) return\n\n    const { selectedIndex } = event.target\n    const object = described[selectedIndex]\n    assertObject(object, 'described[selectedIndex]')\n\n    const { id } = object\n    const request: DataGetRequest = { id }\n    const { editType } = editor\n    const endpoint = Endpoints.data[editType].get\n    console.debug(\"GetRequest\", endpoint, request)\n    endpointPromise(endpoint, request).then((response: DataMashGetResponse) => {\n      console.debug(\"GetResponse\", endpoint, response)\n      const { error, mash } = response\n      if (error) console.error(\"GetResponse\", endpoint, error)\n      else return editor.load(mash)\n    })\n  }\n\n  React.useEffect(() => {\n    if (!(enabled && servers[ServerType.Data])) return\n    if (requested) return\n\n    setRequested(true)\n    const request: DataMashRetrieveRequest = { partial: true }\n    const endpoint = Endpoints.data[editor.editType].retrieve\n    console.debug(\"RetrieveRequest\", endpoint, request)\n    endpointPromise(endpoint, request).then((response: DataRetrieveResponse) => {\n      console.debug(\"RetrieveResponse\", endpoint, response)\n      const { described, error } = response\n      if (error) console.error(\"RetrieveResponse\", endpoint, error)\n      else setDescribed(original => {\n        const copy = [...original]\n        described.forEach(object => {\n          const { id, label } = object\n          const found = copy.find(object => object.id === id)\n          if (found || !isPopulatedString(label)) return\n          \n          copy.push(object as LabelAndId)\n        })\n        return copy\n      })\n    })\n  }, [servers, enabled])\n\n  if (described.length < 2) return null\n\n  const describedOptions = () => {\n    const { editType, mashMedia } = editor\n    const elements = [<optgroup key=\"group\" label={labelTranslate('open')}/>]\n    if (!mashMedia) return elements\n\n    const { id: editedId, label: editedLabel } = mashMedia\n    elements.push(...described.map(object => {\n      const { label: objectLabel, id } = object\n      const label = (id === editedId) ? editedLabel : objectLabel\n      const children = isPopulatedString(label) ? label : labelInterpolate('unlabeled', { type: editType }) \n      const optionProps = { children, value: id, key: id }\n      const option = <option {...optionProps} />\n      return option\n    }))\n\n    return elements\n  }\n\n  const { children, ...rest } = props\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child))\n\n  const selectOptions = {\n    key: \"mashMedia-select\",\n    onChange, disabled, children: describedOptions(), value: editedId\n  }\n  const viewProps = { ...rest, children: [child, <select {...selectOptions} />] }\n  return <View { ...viewProps } />\n}\n", "import React from 'react'\nimport { ApiServersResponse, JsonRecord, ServerType, StringSetter } from '@moviemasher/moviemasher.js'\n\nexport interface ApiContextInterface {\n  enabled: boolean\n  servers: ApiServersResponse\n  endpointPromise: (id: string, body?: JsonRecord) => Promise<any>\n}\n\nexport const ApiContextDefault: ApiContextInterface = {\n  enabled: false,\n  servers: {},\n  endpointPromise: () => Promise.resolve({})\n}\n\nexport const ApiContext = React.createContext(ApiContextDefault)\n", "import React from 'react'\nimport { \n  EmptyMethod, SelectedItems, SelectType, \n  StringSetter, DataGroup, TimeRange, Time\n} from '@moviemasher/moviemasher.js'\n\nexport type DataGroupBooleans = {\n  [index in DataGroup]?: boolean\n} \n\nexport interface SelectedInfo {\n  tweenDefined: DataGroupBooleans\n  tweenSelected: DataGroupBooleans\n  selectedType: SelectType\n  selectTypes: SelectType[]\n  timeRange?: TimeRange\n  onEdge?: boolean\n  nearStart?: boolean\n  time?: Time\n}\n\nexport type TweenSetter = (group: DataGroup, tweening: boolean) => void\nexport interface InspectorContextInterface {\n  actionCount: number\n  selectedInfo: SelectedInfo\n  selectedItems: SelectedItems\n  changeSelected: StringSetter\n  changeTweening: TweenSetter\n}\n\nexport const InspectorContextDefault: InspectorContextInterface = {\n  actionCount: 0,\n  selectedInfo: {\n    tweenDefined: {},\n    tweenSelected: {},\n    selectedType: SelectType.None,\n    selectTypes: [],\n  },\n  selectedItems: [],\n  changeSelected: EmptyMethod,\n  changeTweening: EmptyMethod,\n}\n\nexport const InspectorContext = React.createContext(InspectorContextDefault)\n", "import React from \"react\"\nimport { assertEndpoint, assertMashMedia, endpointFromUrl, endpointUrl, EventType, isMashMedia, urlForEndpoint } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\n\n\nexport function ViewControl(props: PropsAndChild): ReactResult {\n  const editor = useEditor()\n\n  const getDisabled = () => {\n    const { mashMedia } = editor\n    if (!isMashMedia(mashMedia)) return true\n\n    const { encodings } = mashMedia\n  \n    return !encodings.length\n  }\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => setDisabled(getDisabled())\n  useListeners({\n    [EventType.Render]: updateDisabled,\n    [EventType.Loaded]: updateDisabled\n  })\n\n  const { children, ...rest } = props\n\n  const onClick = () => {\n    if (disabled) return\n\n    const { mashMedia } = editor\n    assertMashMedia(mashMedia)\n    \n    const { encodings } = mashMedia\n    const [encoding] = encodings\n    const {endpoint} = encoding.request\n    assertEndpoint(endpoint)\n    \n    const url = endpointUrl(endpoint)\n    window.open(url)\n  }\n  const buttonOptions = { ...rest, onClick, disabled }\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import { DataType } from '@moviemasher/moviemasher.js'\n\nimport { UnknownElement } from '../../../../declarations'\nimport { EmptyElement } from '../../../../Setup/Constants'\n\nexport type DataTypeElements = {\n  [key in DataType]: UnknownElement\n}\n\nexport const DataTypeInputs: DataTypeElements = {\n  [DataType.Boolean]: EmptyElement,\n  [DataType.ContainerId]: EmptyElement,\n  [DataType.ContentId]: EmptyElement,\n  [DataType.DefinitionId]: EmptyElement,\n  [DataType.FontId]: EmptyElement,\n  [DataType.Frame]: EmptyElement,\n  [DataType.Icon]: EmptyElement,\n  [DataType.Number]: EmptyElement,\n  [DataType.Percent]: EmptyElement,\n  [DataType.Rgb]: EmptyElement,\n  [DataType.String]: EmptyElement,\n  [DataType.Option]: EmptyElement,\n}\n", "import React from 'react'\nimport { UnknownRecord } from \"@moviemasher/moviemasher.js\"\n\nimport { UnknownElement, ReactResult } from \"../declarations\"\n\nfunction ConstEmptyElementFunction(props: UnknownRecord): ReactResult { return null }\n\nexport const EmptyElement: UnknownElement = <ConstEmptyElementFunction key=\"empty\" />\n\n\nexport const TweenInputKey = 'tween-input-key'\n", "import React from 'react'\nimport { DataType, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { DataTypeInputs } from './DataTypeInputs'\n\nexport function BooleanTypeInput(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n  const { changeHandler, property, value, name } = inputContext\n  if (!property) return null\n\n  const inputProps: UnknownRecord = {\n    type: 'checkbox',\n    name,\n    checked: !!value,\n  }\n  if (changeHandler) {\n    inputProps.onChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n      changeHandler(name, event.target.checked)\n    }\n  } else inputProps.disabled = true\n  return <input {...inputProps} />\n}\n\nDataTypeInputs[DataType.Boolean] = <BooleanTypeInput />\n", "import React from 'react'\nimport { \n  Scalar, PropertiedChangeHandler, Property, DataType, Time \n} from \"@moviemasher/moviemasher.js\"\n\nexport interface InputContextInterface {\n  property: Property\n  name: string\n  value: Scalar\n  defaultValue?: Scalar\n  changeHandler?: PropertiedChangeHandler\n  time?: Time\n}\n\nexport const InputContextDefault: InputContextInterface = {\n  value: '',\n  name: '',\n  property: { type: DataType.String, name: '', defaultValue: '' }\n}\n\nexport const InputContext = React.createContext(InputContextDefault)\n", "import React from 'react'\nimport {\n  assertMedia, isMediaType, assertPopulatedString, ClassDropping, DataType, \n  ContainerTypes, ContentTypes, assertTrue, eventStop, isContainerDefinition, MediaObject, isMediaObject, assertDefined\n} from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChild, ReactResult, WithClassName } from '../../../../declarations'\nimport { View } from '../../../../Utilities/View'\nimport { InputContext } from '../InputContext'\nimport { DefinitionContext } from '../../../../Contexts/DefinitionContext'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\nimport { DragDefinitionObject, dragType, dragTypes, dropType, TransferTypeFiles } from '@moviemasher/client-core'\nimport { DefinitionItem } from '../../../DefinitionItem/DefinitionItem'\nimport { propsMediaTypes } from '../../../../Utilities/Props'\nimport { MasherContext } from '../../../Masher/MasherContext'\nimport { useEditor } from '../../../../Hooks/useEditor'\n\nexport interface DefinitionDropProps extends WithClassName, PropsAndChild {\n  type?: string\n  types?: string | string[]\n}\n\nexport function DefinitionDrop(props: DefinitionDropProps): ReactResult {\n  const { type, types, children, className, ...rest } = props\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child))\n\n  const [isOver, setIsOver] = React.useState(false)\n  const inputContext = React.useContext(InputContext)\n  const editorContext = React.useContext(MasherContext)\n  const { drop, editor } = editorContext\n  assertDefined(editor)\n  const { changeHandler, value, name } = inputContext\n  assertTrue(changeHandler)\n  \n  const { media } = editor\n  const mediaTypes = propsMediaTypes(type, types)\n\n  const childNodes = (): React.ReactElement | null => {\n    if (!value) return null\n\n    assertPopulatedString(value)\n    const definition = media.fromId(value)\n    assertMedia(definition)\n\n    const definitionProps = { definition, key: definition.id }\n    const children = React.cloneElement(child, definitionProps)\n    const contextProps = { children, value: { definition } }\n    return <DefinitionContext.Provider {...contextProps} />\n  }\n\n  const dropAllowed = (event: DragEvent): boolean => {\n    const { dataTransfer } = event\n    assertTrue(dataTransfer)\n    \n    const types = dragTypes(dataTransfer)\n    // any file can be dropped - we filter out invalid ones later\n    if (types.includes(TransferTypeFiles)) return true\n\n    const draggingType = dragType(dataTransfer)\n    if (!isMediaType(draggingType)) return false\n\n    return mediaTypes.includes(draggingType)\n  }\n\n  const onDragLeave = () => { setIsOver(false) }\n\n  const onDragOver = (event: DragEvent) => {\n    const allowed = dropAllowed(event)\n    setIsOver(allowed)\n    if (allowed) event.preventDefault()\n  }\n\n  const onDrop = async (event: DragEvent) => {\n    eventStop(event)\n    setIsOver(false)\n    if (!dropAllowed(event)) return\n\n    const { dataTransfer } = event\n    assertTrue(dataTransfer)\n    \n    const types = dragTypes(dataTransfer)\n    // any file can be dropped\n    if (types.includes(TransferTypeFiles)) {\n      await drop(dataTransfer.files).then(definitions => {\n        if (!definitions.length) return\n\n        const container = name === \"containerId\"\n        const valid = container ? definitions.filter(isContainerDefinition) : definitions\n        const [definition] = valid\n        if (definition) {\n          assertTrue(media.installed(definition.id), `${definition.type} installed`)\n          // console.log(\"DefinitionDrop onDrop\", definition.type, definition.label)\n          changeHandler(name, definition.id)\n        }\n      })\n      return\n    }\n    const type = dropType(dataTransfer)!\n    const json = dataTransfer.getData(type)\n    const data: DragDefinitionObject = JSON.parse(json)\n    const { mediaObject } = data\n    if (isMediaObject(mediaObject)) {\n      const [definition] = media.define(mediaObject)\n      if (name === \"containerId\" && !isContainerDefinition(definition)) return\n\n      changeHandler(name, mediaObject.id!)\n    }\n  }\n\n  const calculateClassName = (): string => {\n    const classes = []\n    if (className) classes.push(className)\n    if (isOver) classes.push(ClassDropping)\n    return classes.join(' ')\n  }\n\n  const memoClassName = React.useMemo(calculateClassName, [isOver])\n\n  const viewProps = {\n    ...rest,\n    className: memoClassName,\n    children: childNodes(),\n    onDragLeave,\n    onDragOver,\n    onDrop,\n    value: String(value),\n    key: `${name}-drop`,\n  }\n  return <View {...viewProps} />\n}\n\nDataTypeInputs[DataType.ContainerId] = (\n  <DefinitionDrop types={ContainerTypes} className='definition-drop'>\n    <DefinitionItem className='definition preview'/>\n  </DefinitionDrop>\n)\n\nDataTypeInputs[DataType.ContentId] = (\n  <DefinitionDrop types={ContentTypes} className='definition-drop'>\n    <DefinitionItem className='definition preview' />\n  </DefinitionDrop>\n)\n", "import React from 'react'\nimport { assertTrue, DataType, FontType } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\nimport { useEditor } from '../../../../Hooks/useEditor'\n\nexport function DefinitionSelect(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n  const { changeHandler, value, name } = inputContext\n  const editor = useEditor()\n  const { media } = editor\n  assertTrue(changeHandler)\n  \n  const onChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    changeHandler(name, event.target.value)\n  }\n\n  const options = media.byType(FontType).map(object => {\n    const { id, label } = object\n    const optionProps = { value: id, children: label, key: id }\n    return <option {...optionProps}/>\n  })\n\n  const selectProps = {\n    children: options,\n    name,\n    onChange,\n    value: String(value),\n    key: `${name}-select`,\n  }\n  return <select {...selectProps} />\n}\n\nDataTypeInputs[DataType.FontId] = <DefinitionSelect />\n", "import React from 'react'\nimport { DataType, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { DataTypeInputs } from './DataTypeInputs'\nimport { InputContext } from '../InputContext'\nimport { MasherContext } from '../../../Masher/MasherContext'\n\nexport function IconTypeInput(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const names = Object.keys(icons)\n  const { changeHandler, property, value, name } = inputContext\n  if (!property) return null\n\n\n  const options = names.map(id => {\n    const optionProps = { value: id, children: id, key: id }\n    return <option {...optionProps} />\n  })\n\n  const selectProps: UnknownRecord = {\n    children: options,\n    name,\n    value: String(value),\n    key: `${name}-select`,\n  }\n  if (changeHandler) {\n    selectProps.onChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    changeHandler(name, event.target.value)\n  }\n  } else selectProps.disabled = true\n\n  \n  return <select {...selectProps} />\n}\n\nDataTypeInputs[DataType.Icon] = <IconTypeInput />\n", "import React from 'react'\nimport { DataType, isDefined, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\nimport { useEditor } from '../../../../Hooks/useEditor'\n\nexport function NumericTypeInput(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n  const editor = useEditor()\n  const { changeHandler, property, value, name, time } = inputContext\n  if (!property) return null\n\n  const { min, max, step } = property\n\n\n  const inputProps: UnknownRecord = {\n    type: 'number',\n    name,\n    value: String(value),\n  }\n  if (isDefined(min)) inputProps.min = min\n  if (isDefined(max)) inputProps.max = max\n  if (isDefined(step)) inputProps.step = step\n\n  if (changeHandler) {\n    inputProps.onChange = async (event:React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = event.target\n      if (time) await editor.goToTime(time)\n      changeHandler(name, value)\n    }\n  } else inputProps.disabled = true\n  return <input {...inputProps} />\n\n}\n\nDataTypeInputs[DataType.Number] = <NumericTypeInput />\nDataTypeInputs[DataType.Frame] = <NumericTypeInput />\n", "import React from 'react'\nimport { DataType, isArray, isDefined, isNumber, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult, SliderChangeHandler } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { Slider } from '../../../../Utilities/Slider'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\nimport { useEditor } from '../../../../Hooks/useEditor'\n\nexport function PercentTypeInput(): ReactResult {\n  const editor = useEditor()\n  const inputContext = React.useContext(InputContext)\n  const { changeHandler, property, value: contextValue, name, time, defaultValue: contextDefault  } = inputContext\n  if (!property) return null\n\n  const { max, min, step, defaultValue: propertyDefault } = property\n  const value = isDefined(contextValue) ? contextValue : (isDefined(contextDefault) ? contextDefault : propertyDefault)\n  const sliderProps: UnknownRecord = {\n    value,\n    min: isNumber(min) ? min : 0.0,\n    max: isNumber(max) ? max : 1.0,\n    step: isNumber(step) ? step : 0.01,\n    name,\n  }\n  if (changeHandler) {\n    const onChange: SliderChangeHandler = async (_event, values) => {\n      const value = isArray(values) ? values[0] : values\n      if (time) await editor.goToTime(time)\n      changeHandler(name, value)\n    }\n    sliderProps.onChange = onChange\n  } else sliderProps.disabled = true\n\n  return <Slider className='slider' {...sliderProps} />\n}\n\nDataTypeInputs[DataType.Percent] = <PercentTypeInput />\n", "import React from \"react\"\nimport { WithClassName, ReactResult, SliderChangeHandler } from \"../declarations\";\n\nexport interface SliderProps extends WithClassName {\n  value? : number\n  step? : number\n  max? : number\n  min? : number\n  onChange? : SliderChangeHandler\n}\n\nexport function Slider(props: SliderProps): ReactResult {\n  const { className, onChange } = props\n  const options : WithClassName = { ...props }\n  const classes = ['slider']\n  if (className) classes.push(className)\n  options.className = classes.join(' ')\n  if (onChange) {\n    const handleChange = (event : React.ChangeEvent<HTMLInputElement>) => {\n      onChange(event, event.currentTarget.valueAsNumber)\n    }\n    options.onChange = handleChange\n  }\n\n  const input = <input type='range' { ...options } />\n  return input\n}\n", "import React from 'react'\nimport { DataType, isDefined, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\nimport { useEditor } from '../../../../Hooks/useEditor'\nimport { MasherContext } from '../../../Masher/MasherContext'\n\nexport function RgbTypeInput(): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const inputContext = React.useContext(InputContext)\n  const editor = useEditor()\n  const { changeHandler, property, value: contextValue, name, time, defaultValue: contextDefault } = inputContext\n  if (!property) return null\n\n  const { defaultValue: propertyDefault } = property\n\n  const value = isDefined(contextValue) ? contextValue : (isDefined(contextDefault) ? contextDefault : propertyDefault)\n  const colorProps: UnknownRecord = {\n    type: 'color', name, value: String(value),\n  }\n  if (changeHandler) {\n\n    colorProps.onChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = event.target\n      if (time) await editor.goToTime(time)\n      changeHandler(name, value)\n    }\n  } else colorProps.disabled = true\n  return <input {...colorProps} />\n}\n\nDataTypeInputs[DataType.Rgb] = <RgbTypeInput />\n", "import React from 'react'\nimport { DataType, UnknownRecord } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { InputContext } from '../InputContext'\nimport { DataTypeInputs } from '../DataTypeInputs/DataTypeInputs'\n\nexport function TextTypeInput(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n  const { changeHandler, property, value, name } = inputContext\n  if (!property) return null\n\n  const inputProps: UnknownRecord = {\n    name, type: 'text', value: String(value)\n  }\n  if (changeHandler) {\n    inputProps.onChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n      changeHandler(name, event.target.value)\n    }\n  } else inputProps.disabled = true\n  return <input {...inputProps} />\n}\n\nDataTypeInputs[DataType.String] = <TextTypeInput />\n", "import React from 'react'\nimport { DataType, UnknownRecord, assertPopulatedArray } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../../../declarations'\nimport { DataTypeInputs } from './DataTypeInputs'\nimport { InputContext } from '../InputContext'\n\nexport function OptionTypeInput(): ReactResult {\n  const inputContext = React.useContext(InputContext)\n  const { changeHandler, property, value, name } = inputContext\n  const { options } = property\n  assertPopulatedArray(options)\n\n  const ids = options.map(String)\n  const selectProps: UnknownRecord = {\n    children: ids.map(id => {\n    const optionProps = { value: id, children: id, key: id }\n    return <option {...optionProps} />\n  }),\n    name,\n    value: String(value),\n    key: `${name}-select`,\n  }\n  if (changeHandler) {\n    selectProps.onChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    changeHandler(name, event.target.value)\n  }\n  } else selectProps.disabled = true\n\n  \n  return <select {...selectProps} />\n}\n\nDataTypeInputs[DataType.Option] = <OptionTypeInput />\n", "import { DataGroup, SelectedItems, SelectType } from \"@moviemasher/moviemasher.js\";\nimport { PropsWithoutChild, UnknownElement, WithClassName } from \"../../../../declarations\"\nimport { EmptyElement } from '../../../../Setup/Constants'\nexport type DataGroupElements = {\n  [key in DataGroup]: UnknownElement\n}\n\nexport interface DataGroupProps extends PropsWithoutChild, WithClassName {\n  selectType?: SelectType\n  selectedItems?: SelectedItems\n}\n\nexport const DataGroupInputs: DataGroupElements = {\n  [DataGroup.Size]: EmptyElement,\n  [DataGroup.Point]: EmptyElement,\n  [DataGroup.Opacity]: EmptyElement,\n  [DataGroup.Color]: EmptyElement,\n  [DataGroup.Effects]: EmptyElement,\n  // [DataGroup.Controls]: EmptyElement,\n  [DataGroup.Timing]: EmptyElement,\n  // [DataGroup.Clicking]: EmptyElement,\n}", "import React from \"react\"\nimport { \n  assertSelectType, assertTime, ClassButton, ClassSelected, \n  DataGroup, selectedPropertyObject, PropertyTweenSuffix,\n  assertTimeRange, tweenInputTime\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../../../declarations\"\nimport { InspectorContext } from \"../../../Inspector/InspectorContext\"\nimport { DataGroupInputs, DataGroupProps } from \"./DataGroupInputs\"\nimport { DataTypeInputs } from \"../DataTypeInputs/DataTypeInputs\"\nimport { InputContext, InputContextInterface } from \"../InputContext\"\nimport { View } from \"../../../../Utilities/View\"\nimport { useEditor } from \"../../../../Hooks/useEditor\"\nimport { MasherContext } from \"../../../Masher/MasherContext\"\n\nexport function ColorGroupInput(props: DataGroupProps): ReactResult {  \n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  \n  const editor = useEditor()\n\n  const { selectType, selectedItems: propsItems, ...rest } = props\n  assertSelectType(selectType)\n\n  const inspectorContext = React.useContext(InspectorContext)\n  const selectedItems = propsItems || inspectorContext.selectedItems\n  \n  const { changeTweening, selectedInfo } = inspectorContext\n\n  const { tweenDefined, tweenSelected, onEdge, time, nearStart, timeRange } = selectedInfo\n  assertTimeRange(timeRange)\n  assertTime(time)\n  \n  const endDefined = tweenDefined[DataGroup.Color]\n  const endSelected = tweenSelected[DataGroup.Color]\n\n  const byName = selectedPropertyObject(selectedItems, DataGroup.Color, selectType)\n  const { color, [`color${PropertyTweenSuffix}`]: colorEnd } = byName \n  const colorProperty = endSelected ? colorEnd : color\n\n\n  const { property, changeHandler, value, name: nameOveride } = colorProperty\n  const { type, name: propertyName } = property\n  const name = nameOveride || propertyName\n  const input = DataTypeInputs[type] \n  const inputContext: InputContextInterface = { \n    property, value, name, changeHandler\n  }\n\n  // go to first/last frame if needed and tween value defined...\n  inputContext.time = tweenInputTime(timeRange, onEdge, nearStart, endDefined, endSelected)\n\n  // if we're editing tween value, but it's not defined yet...\n  if (endSelected) {\n    // tell input to use start value as default, rather than the property's...\n    inputContext.defaultValue = color.value\n  }\n\n  const selectedButton = [ClassSelected, ClassButton].join(' ')\n\n  const startProps: PropsAndChild = {\n    children: icons.start,\n    className: endSelected ? ClassButton : selectedButton,\n    key: 'start',\n    onClick: () => {\n      editor.goToTime(timeRange.startTime)\n      changeTweening(DataGroup.Color, false)\n    }\n  }\n\n  const endProps: PropsAndChild = {\n    key: 'end',\n    className: endSelected ? selectedButton : ClassButton,\n    children: endDefined ? icons.end : icons.endUndefined,\n    onClick: () => {      \n      editor.goToTime(timeRange.lastTime)\n      changeTweening(DataGroup.Color, true)\n    }\n  }\n  \n  const providerProps = { key: 'context', value: inputContext, children: input }\n\n  const viewProps = {\n    ...rest,\n    key: `inspector-${selectType}-${name}`,\n    children: [\n      icons.color, \n      <InputContext.Provider { ...providerProps } />, \n      <View className=\"start-end\" key='start-end'>\n        <View { ...startProps } />\n        <View { ...endProps } />\n      </View>\n    ]\n  }\n  return <View { ...viewProps } />\n}\n\nDataGroupInputs[DataGroup.Color] = <ColorGroupInput className=\"color tween row\" key=\"color-group-input\" />\n", "import { \n  ClassDropping, SelectedMovable, DataGroup, Movable, \n  assertPopulatedObject, assertDefined, ScalarRecord\n} from '@moviemasher/moviemasher.js'\nimport React from 'react'\n\nimport { PropsWithoutChild, ReactResult } from \"../../../../declarations\"\nimport { dropType } from '@moviemasher/client-core'\nimport { useEditor } from '../../../../Hooks/useEditor'\nimport { View } from '../../../../Utilities/View'\nimport { InspectorMovable, InspectorMovableProps } from '../../InspectorMovable'\nimport { InspectorProperties, InspectorPropertiesProps } from '../../InspectorProperties'\nimport { MasherContext } from '../../../Masher/MasherContext'\nimport { DataGroupInputs } from './DataGroupInputs'\nimport { Button } from '../../../../Utilities/Button'\n\nexport interface MovablesGroupInputProps extends PropsWithoutChild {\n  selectedMovable?: SelectedMovable\n  movableGenerator?: (object: ScalarRecord) => Movable\n  property: string\n}\n/**\n *\n * @children InspectorEffect\n */\nexport function MovablesGroupInput(props: MovablesGroupInputProps): ReactResult {\n  const { movableGenerator, selectedMovable, property, ...rest } = props\n  assertPopulatedObject(selectedMovable)\n\n  const editor = useEditor()\n  const masherContext = React.useContext(MasherContext)\n  const [isOver, setIsOver] = React.useState(false)\n  const [selected, setSelected] = React.useState<Movable | null>(null)\n  const ref = React.useRef<HTMLDivElement>(null)\n\n  const memoClassName = React.useMemo((): string => {\n    const classes = ['list']\n    if (isOver) classes.push(ClassDropping)\n    return classes.join(' ')\n  }, [isOver])\n\n  const { icons } = masherContext\n  const { value, addHandler, removeHandler, moveHandler } = selectedMovable\n  const includedMovable = (selected && value.includes(selected)) ? selected : null\n  if (includedMovable !== selected) setSelected(includedMovable)\n\n  const dropIndex = (event: DragEvent): number => {\n    const { target } = event\n    if (target && target instanceof HTMLDivElement) {\n      const index = target.getAttribute('index')\n      if (index) return Number(index)\n    }\n    return value.length\n  }\n\n  const dropAllowed = (event: DragEvent): boolean => (\n    !!dropType(event.dataTransfer)?.startsWith(property)\n  )\n\n  const onDragLeave = () => { setIsOver(false) }\n\n  const onDragOver = (event: DragEvent) => {\n    const allowed = dropAllowed(event)\n    setIsOver(allowed)\n    if (allowed) event.preventDefault()\n  }\n\n  const onDrop = (event: DragEvent) => {\n    setIsOver(false)\n    if (!dropAllowed(event)) return\n\n    event.preventDefault()\n    const { dataTransfer } = event\n    if (!dataTransfer) return \n    \n    const type = dropType(dataTransfer)!\n    const json = dataTransfer.getData(type)\n    const data = JSON.parse(json)\n    const { index } = data\n    const droppedIndex = dropIndex(event)\n\n    if (droppedIndex === index) return\n\n    assertDefined(includedMovable)\n    moveHandler(includedMovable, droppedIndex)\n  }\n\n  const onClick: React.MouseEventHandler = () => { setSelected(null) }\n\n  const childNodes = (): React.ReactElement[] => {\n    return value.map((movable, index) => {\n      const clipProps: InspectorMovableProps = {\n        key: movable.id,\n        selected: includedMovable, \n        select: setSelected,\n        movable,\n        index, removeHandler, property\n      }\n      return <InspectorMovable {...clipProps} />\n    })\n  }\n\n  const listViewProps = {\n    children: childNodes(),\n    ref,\n    onDragLeave,\n    onDragOver,\n    onDrop,\n    onClick,\n    key: 'view',\n    className: memoClassName,\n  }\n\n  const removeProps = {\n    disabled: !includedMovable,\n    onClick: () => { removeHandler(includedMovable!) },\n    key: \"remove-button\",\n    children: icons.remove,\n  }\n  const viewChildren = [\n    icons[property],\n    <Button { ...removeProps } />,\n  ]\n  if (movableGenerator) {\n    const addProps = {\n      key: \"add-button\",\n      children: icons.add,\n      onClick: () => { addHandler(movableGenerator({})) }\n    }\n    viewChildren.push(<Button { ...addProps } />)\n  }\n\n  const iconsViewProps = {\n    className: 'icons',\n    children: viewChildren,\n    key: 'icons',\n  }\n\n  const viewProps = {\n    ...rest,\n    key: `${property}s-view`,\n    className: \"row\",\n    children: [\n    <View { ...iconsViewProps } />, \n    <View { ...listViewProps } />, \n  ],\n  }\n  const listView = <View { ...viewProps } />\n  if (!includedMovable) return listView\n\n  const inspectorProps: InspectorPropertiesProps = {\n    selectedItems: includedMovable.selectedItems(editor.actions),\n    key: 'movable-properties',\n  }\n  return <>\n    {listView}\n    <InspectorProperties { ...inspectorProps }/>\n  </>\n}\n\nDataGroupInputs[DataGroup.Effects] = <MovablesGroupInput property=\"effect\" key=\"effects-group-input\" />\n// DataGroupInputs[DataGroup.Controls] = <MovablesGroupInput movableGenerator={controlInstance} property=\"control\" key=\"controls-group-input\" />", "import React from 'react'\nimport { ClassSelected, IndexHandler, isPopulatedString, Movable } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult, WithClassName } from '../../declarations'\nimport { DragSuffix } from '@moviemasher/client-core'\nimport { View } from '../../Utilities/View'\nimport { MasherContext } from '../Masher/MasherContext'\n\nexport interface InspectorMovableProps extends WithClassName {\n  movable: Movable\n  selected: Movable | null\n  select: (movable: Movable | null) => void\n  index: number \n  removeHandler: IndexHandler<Movable>\n  property: string\n}\n\n/**\n * @parents MovablesGroupInput\n */\nexport function InspectorMovable(props: InspectorMovableProps): ReactResult {\n  const { \n    property, className, removeHandler, index, movable, selected, select, ...rest \n  } = props\n  const isSelected = selected === movable\n\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  \n  const onMouseDown = () => { if (!isSelected) select(movable) }\n\n  const onDragEnd = (event: DragEvent) => {\n    const { dataTransfer } = event\n    if (!dataTransfer) return \n    \n    const { dropEffect } = dataTransfer\n    if (dropEffect === 'none') removeHandler(movable)\n  }\n\n  const onDragStart = (event: DragEvent) => {\n    if (!isSelected) onMouseDown()\n    const data = { index }\n    const json = JSON.stringify(data)\n    const { dataTransfer } = event\n\n    if (!dataTransfer) return \n\n    dataTransfer.effectAllowed = 'move'\n    dataTransfer.setData(`${property}${DragSuffix}`, json)\n  }\n\n  const classes = [className || 'movable']\n  if (isSelected) classes.push(ClassSelected)\n  const viewChildren = []\n\n\n  const label = movable.value('label')\n  const icon = movable.value('icon')\n  if (isPopulatedString(icon)) {\n    const iconElement = icons[icon]\n    if (iconElement) viewChildren.push(iconElement)\n  }\n  if (isPopulatedString(label)) viewChildren.push(label)\n  \n  const viewProps = {\n    ...rest,\n    children: viewChildren,\n    className: classes.join(' '),\n    onMouseDown, onDragStart, onDragEnd,\n    onClick: (event: React.MouseEvent) => event.stopPropagation(),\n    draggable: true,\n  }\n  return <View {...viewProps} />\n}\n", "import React from \"react\"\nimport { \n  SelectType, UnknownRecord, isSelectedProperty, SelectedItems, Time,\n  assertDataGroup\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsWithoutChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { InspectorProperty, InspectorPropertyProps } from \"./InspectorProperty\"\nimport { InspectorContext } from \"./InspectorContext\"\nimport { DataGroupInputs } from \"./Inputs/DataGroupInputs/DataGroupInputs\"\nimport { View } from \"../../Utilities/View\"\nimport { MasherContext } from \"../Masher/MasherContext\"\n\nexport interface InspectorPropertiesProps extends PropsWithoutChild, WithClassName {\n  selectedItems?: SelectedItems\n  time?: Time\n}\n\n/**\n * @parents InspectorContent\n */\nexport function InspectorProperties(props: InspectorPropertiesProps): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const inspectorContext = React.useContext(InspectorContext)\n  const { selectedItems: propsItems } = props\n  const { selectedItems: inspectorItems } = inspectorContext\n  const selectedItems = propsItems || inspectorItems\n\n  const ungroupedInputs: React.ReactChild[] = []\n  const groupedInputs: React.ReactChild[] = []\n  const groups: UnknownRecord = {} \n  selectedItems.forEach(selectedItem => {\n    if (isSelectedProperty(selectedItem)) {\n      const { property, changeHandler, selectType, value, name: nameOveride } = selectedItem\n      const { name: propertyName, group } = property\n      // console.log(\"InspectorProperties\", selectType, nameOveride, propertyName, group)\n      if (group) {\n        const key = [group, selectType].join('-')\n        if (!groups[key]) {\n          groups[key] = true\n          groupedInputs.push(React.cloneElement(DataGroupInputs[group], { selectType, selectedItems }))\n        }\n        return\n      } \n      \n      const name = nameOveride || propertyName\n\n      const propertyProps: InspectorPropertyProps = {\n        key: `inspector-${selectType}-${name}`,\n        property, value, changeHandler, name, \n        ...props\n      }\n      const icon = icons[name]\n      const inspectorProperty = <InspectorProperty {...propertyProps} />\n      if (icon) {\n        const viewChildren = [inspectorProperty]\n        viewChildren.unshift(icon)\n        const viewProps = {\n          children: viewChildren,\n          className: \"row\",\n          key: `icon-${selectType}-${name}`,\n        }\n\n        ungroupedInputs.push(<View { ...viewProps } />)    \n      } else ungroupedInputs.push(inspectorProperty)    \n      \n    } else {\n      const { name } = selectedItem\n      assertDataGroup(name)\n\n      const groupProps = {\n        key: `inspector-${name}`,\n        selectedMovable: selectedItem,\n      }\n      groupedInputs.push(React.cloneElement(DataGroupInputs[name], groupProps))\n    }\n  })\n  return <>{ungroupedInputs}{groupedInputs}</>\n}\n", "import React from 'react'\nimport { \n  isDefined, PropertiedChangeHandler, Property, Scalar, Time \n} from \"@moviemasher/moviemasher.js\"\n\nimport { \n  PropsWithoutChild, ReactResult, WithClassName \n} from '../../declarations'\nimport { InputContext } from './Inputs/InputContext'\nimport { DataTypeInputs } from './Inputs/DataTypeInputs/DataTypeInputs'\n\nexport interface InspectorPropertyProps extends PropsWithoutChild, WithClassName {\n  property: Property\n  value: Scalar\n  defaultValue?: Scalar\n  changeHandler: PropertiedChangeHandler\n  name: string\n  time?: Time\n}\n\n/**\n * @parents InspectorContent\n */\nexport function InspectorProperty(props: InspectorPropertyProps): ReactResult {\n  const { \n    defaultValue: propsDefault, changeHandler, time, property, value, name\n  } = props\n  \n  const { type, defaultValue: propertyDefault } = property\n  const defaultValue = isDefined(propsDefault) ? propsDefault : propertyDefault\n  const inputContext = { \n    property, value, changeHandler, name, time, defaultValue\n  }\n  const contextProps = {\n    key: 'context', value: inputContext, children: DataTypeInputs[type] \n  }\n  return <InputContext.Provider {...contextProps} />\n}\n", "import { ClassButton, ClassDisabled, ClassSelected } from \"@moviemasher/moviemasher.js\"\nimport React from \"react\"\nimport { PropsAndChildren, ReactResult, WithClassName } from \"../declarations\"\nimport { View } from \"./View\"\n\nexport interface ButtonProps extends PropsAndChildren, WithClassName {\n  onClick? : (event : React.MouseEvent ) => void\n  useView?: boolean\n  disabled?: boolean\n  selected?: boolean\n}\n\nexport function Button(props: ButtonProps): ReactResult {\n  const { useView, selected, ...rest } = props\n  if (!useView) return <button { ...rest } />\n\n  const { disabled, className, ...pruned } = rest\n  const classes = [ClassButton]\n  if (className) classes.push(className)\n  if (disabled) classes.push(ClassDisabled)\n  else if (selected) classes.push(ClassSelected)\n  const viewProps = {\n    ...pruned,\n    className: classes.join(' ')\n  }\n  return <View { ...viewProps } />\n}\n", "import React from \"react\"\nimport { \n  assertSelectType, assertTime, ClassButton, ClassSelected, DataGroup, \n  selectedPropertyObject, PropertyTweenSuffix, assertTimeRange,\n  tweenInputTime\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult } from \"../../../../declarations\"\nimport { InspectorContext } from \"../../../Inspector/InspectorContext\"\nimport { DataGroupInputs, DataGroupProps } from \"./DataGroupInputs\"\nimport { DataTypeInputs } from \"../DataTypeInputs/DataTypeInputs\"\nimport { InputContext, InputContextInterface } from \"../InputContext\"\nimport { View } from \"../../../../Utilities/View\"\nimport { useEditor } from \"../../../../Hooks/useEditor\"\nimport { MasherContext } from \"../../../Masher/MasherContext\"\n\n\nexport function OpacityGroupInput(props: DataGroupProps): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const editor = useEditor()\n  const { selectType, selectedItems: propsItems, ...rest } = props\n  assertSelectType(selectType)\n  const inspectorContext = React.useContext(InspectorContext)\n  const selectedItems = propsItems || inspectorContext.selectedItems\n  const { changeTweening, selectedInfo } = inspectorContext\n\n\n  const { tweenDefined, tweenSelected, onEdge, time, nearStart, timeRange } = selectedInfo\n  assertTimeRange(timeRange)\n  assertTime(time)\n  \n  const endDefined = tweenDefined[DataGroup.Opacity]\n  const endSelected = tweenSelected[DataGroup.Opacity]\n\n  const byName = selectedPropertyObject(selectedItems, DataGroup.Opacity, selectType)\n  const { opacity, [`opacity${PropertyTweenSuffix}`]: opacityEnd } = byName \n  const opacityProperty = endSelected ? opacityEnd : opacity\n\n  const { property, changeHandler, value, name: nameOveride } = opacityProperty\n\n  const { type, name: propertyName } = property\n  const name = nameOveride || propertyName\n  const input = DataTypeInputs[type] \n  const inputContext: InputContextInterface = { \n    property, value, name, changeHandler\n  }\n  // go to first/last frame if needed and tween value defined...\n  inputContext.time = tweenInputTime(timeRange, onEdge, nearStart, endDefined, endSelected)\n\n  // if we're editing tween value, but it's not defined yet...\n  if (endSelected) {\n    // tell input to use start value as default, rather than the property's...\n    inputContext.defaultValue = opacity.value\n  }\n\n  const selectedButton = [ClassSelected, ClassButton].join(' ')\n  const startProps: PropsAndChild = {\n    children: icons.start,\n    className: endSelected ? ClassButton : selectedButton,\n    key: 'start',\n    onClick: () => {\n      editor.goToTime(timeRange.startTime)\n      changeTweening(DataGroup.Opacity, false)\n    }\n  }\n\n  const endProps: PropsAndChild = {\n    key: 'end',\n    className: endSelected ? selectedButton : ClassButton,\n    children: endDefined ? icons.end : icons.endUndefined,\n    onClick: () => {\n      editor.goToTime(timeRange.lastTime)\n      changeTweening(DataGroup.Opacity, true)\n    }\n  }\n\n  const providerProps = { key: 'context', value: inputContext, children: input }\n\n  const viewProps = {\n    ...rest,\n    key: `inspector-${selectType}-${name}`, \n    children: [\n      icons.opacity, \n      <InputContext.Provider { ...providerProps } />, \n      <View className=\"start-end\" key='start-end'>\n        <View { ...startProps } />\n        <View { ...endProps } />\n      </View>\n    ]\n  }\n  return <View { ...viewProps } />\n}\n\nDataGroupInputs[DataGroup.Opacity] = <OpacityGroupInput className=\"opacity tween row\" key=\"opacity-group-input\" />\n", "import React from \"react\"\nimport { \n  assertSelectType, assertTime, ClassButton, ClassSelected, DataGroup, \n  isDefined, selectedPropertyObject, selectedPropertiesScalarObject, \n  PropertyTweenSuffix, ScalarRecord, assertTimeRange, tweenInputTime\n} from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult, UnknownElement } from \"../../../../declarations\"\nimport { InspectorContext } from \"../../../Inspector/InspectorContext\"\nimport { DataGroupInputs, DataGroupProps } from \"./DataGroupInputs\"\nimport { DataTypeInputs } from \"../DataTypeInputs/DataTypeInputs\"\nimport { InputContext, InputContextInterface } from \"../InputContext\"\nimport { View } from \"../../../../Utilities/View\"\nimport { useEditor } from \"../../../../Hooks/useEditor\"\nimport { MasherContext } from \"../../../Masher/MasherContext\"\n\n\nexport function PointGroupInput(props: DataGroupProps): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  \n  const editor = useEditor()\n  const { selectType, selectedItems: propsItems, ...rest } = props\n  assertSelectType(selectType)\n\n \n\n  const inspectorContext = React.useContext(InspectorContext)\n  const selectedItems = propsItems || inspectorContext.selectedItems\n\n  const { changeTweening, selectedInfo } = inspectorContext\n  const { tweenDefined, tweenSelected, onEdge, time, nearStart, timeRange } = selectedInfo\n  assertTimeRange(timeRange)\n  assertTime(time)\n  \n  const endDefined = tweenDefined[DataGroup.Point]\n  const endSelected = tweenSelected[DataGroup.Point]\n\n  const byName = selectedPropertyObject(selectedItems, DataGroup.Point, selectType)\n  const values: ScalarRecord = selectedPropertiesScalarObject(byName) \n  const { \n    offE, offW, offN, offS, x, y, \n    [`x${PropertyTweenSuffix}`]: xEnd,\n    [`y${PropertyTweenSuffix}`]: yEnd\n  } = byName \n\n  const xProperty = endSelected ? xEnd : x\n  const yProperty = endSelected ? yEnd : y\n\n  const { \n    offE: offEValue, offW: offWValue, offN: offNValue, offS: offSValue\n  } = values\n\n  const elementsByName: Record<string, UnknownElement> = {}\n  const inspectingProperties = [xProperty, yProperty]\n\n  \n  // go to first/last frame if needed and tween value defined...\n  const goTime = tweenInputTime(timeRange, onEdge, nearStart, endDefined, endSelected)\n\n  inspectingProperties.forEach(selectedProperty => {\n    if (!selectedProperty) {\n      console.error(\"PointInput\", xProperty, yProperty)\n      return\n    }\n    const { property, changeHandler, value, name: nameOveride } = selectedProperty\n    const { type, name: propertyName } = property\n    const name = nameOveride || propertyName\n    const baseName = name.replace(PropertyTweenSuffix, '')\n    const input = DataTypeInputs[type] \n    const key = `inspector-${selectType}-${name}`\n    const inputContext: InputContextInterface = { \n      property, value, name, changeHandler, time: goTime\n    }\n \n    // if we're editing tween value, but it's not defined yet...\n    if (endSelected) {\n      // tell input to use start value as default, rather than the property's...\n      inputContext.defaultValue = values[baseName] \n    }\n\n    const providerProps = { key, value: inputContext, children: input }\n    elementsByName[baseName] = <InputContext.Provider { ...providerProps } />  \n  })\n\n  const selectedButton = [ClassSelected, ClassButton].join(' ')\n  const startProps: PropsAndChild = {\n    children: icons.start,\n    className: endSelected ? ClassButton : selectedButton,\n    key: 'start',\n    onClick: () => {\n      editor.goToTime(timeRange.startTime)\n      changeTweening(DataGroup.Point, false)\n    }\n  }\n\n  const endProps: PropsAndChild = {\n    key: 'end',\n    className: endSelected ? selectedButton : ClassButton,\n    children: endDefined ? icons.end : icons.endUndefined,\n    onClick: () => {\n      editor.goToTime(timeRange.lastTime)\n      changeTweening(DataGroup.Point, true)\n    }\n  }\n\n  const legendElements = [\n    icons.point, \n    <View className=\"start-end\" key={`${selectType}-point-start-end`}>\n      <View { ...startProps } />\n      <View { ...endProps } />\n    </View>\n  ]\n\n\n  const xElements = [<View key=\"horz-icon\" children={icons.horz} className={ClassButton} />]\n  const yElements = [<View key=\"vert-icon\" children={icons.vert} className={ClassButton} />]\n\n  if (offE) {\n    const lockOffEProps = { \n      key: \"lock-east\",\n      className: ClassButton,\n      children: offEValue ? icons.unlock : icons.lock, \n      onClick: () => { offE.changeHandler('offE', !offEValue) }\n    }\n    const lockOffE = <View { ...lockOffEProps } />\n\n    xElements.push(lockOffE)\n  }\n  xElements.push( elementsByName.x)\n  if (offW) {\n    const lockOffWProps = { \n      key: \"lock-west\",\n      className: ClassButton,\n      children: offWValue ? icons.unlock : icons.lock, \n      onClick: () => { offW.changeHandler('offW', !offWValue) }\n    }\n    const lockOffW = <View { ...lockOffWProps } />\n    xElements.push(lockOffW)\n  }\n  if (offN) {\n    const lockOffNProps = { \n      key: \"lock-north\",\n      className: ClassButton,\n      children: offNValue ? icons.unlock : icons.lock, \n      onClick: () => { offN.changeHandler('offN', !offNValue) }\n    }\n    const lockOffN = <View { ...lockOffNProps } />\n\n    yElements.push(lockOffN)\n  }\n  yElements.push(elementsByName.y)\n  if (offS) {\n    const lockOffSProps = { \n      key: \"lock-south\",\n      className: ClassButton,\n      children: offSValue ? icons.unlock : icons.lock, \n      onClick: () => { offS.changeHandler('offS', !offSValue) }\n    }\n    const lockOffS = <View { ...lockOffSProps } />\n    yElements.push(lockOffS)\n  }\n  const elements = [\n    <View key=\"x\" children={xElements} />, \n    <View key=\"y\" children={yElements} />\n  ]\n\n  const fieldsetProps = { ...rest }\n  return <fieldset { ...fieldsetProps }>\n    <legend key=\"legend\"><View>{legendElements}</View></legend>\n    {elements}\n  </fieldset>\n\n}\n\nDataGroupInputs[DataGroup.Point] = <PointGroupInput key=\"point-input\" />\n", "import React from \"react\"\nimport { \n  selectedPropertiesScalarObject, ClassButton, assertString, ClassSelected, \n  DataGroup, Orientation, PropertyTweenSuffix, isOrientation, \n  selectedPropertyObject, ScalarRecord, assertSelectType, assertTime, assertTimeRange, tweenInputTime \n} from \"@moviemasher/moviemasher.js\"\n\n\nimport { PropsAndChild, ReactResult, UnknownElement } from \"../../../../declarations\"\nimport { InspectorContext } from \"../../../Inspector/InspectorContext\"\nimport { DataGroupInputs, DataGroupProps } from \"./DataGroupInputs\"\nimport { DataTypeInputs } from \"../DataTypeInputs/DataTypeInputs\"\nimport { InputContext, InputContextInterface } from \"../InputContext\"\nimport { View } from \"../../../../Utilities/View\"\nimport { useEditor } from \"../../../../Hooks/useEditor\"\nimport { MasherContext } from \"../../../Masher/MasherContext\"\n\nconst SizeInputOrientations: Record<Orientation, string> = {\n  [Orientation.H]: 'width', [Orientation.V]: 'height'\n}\n\nexport function SizeGroupInput(props: DataGroupProps): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const editor = useEditor()\n  const { selectType, selectedItems: propsItems, ...rest } = props\n  assertSelectType(selectType, 'selectType')\n  const inspectorContext = React.useContext(InspectorContext)\n  const selectedItems = propsItems || inspectorContext.selectedItems\n  const { selectedInfo, changeTweening } = inspectorContext\n  const { tweenDefined, tweenSelected, onEdge, time, nearStart, timeRange } = selectedInfo\n  assertTimeRange(timeRange)\n  assertTime(time)\n  \n  const endDefined = tweenDefined[DataGroup.Size]\n  const endSelected = tweenSelected[DataGroup.Size]\n\n  const byName = selectedPropertyObject(selectedItems, DataGroup.Size, selectType)\n  \n  const { \n    lock, width, height, \n    [`width${PropertyTweenSuffix}`]: widthEnd,\n    [`height${PropertyTweenSuffix}`]: heightEnd\n  } = byName \n  \n  const widthProperty = endSelected ? widthEnd : width\n  const heightProperty = endSelected ? heightEnd : height\n  const values: ScalarRecord = selectedPropertiesScalarObject(byName) \n\n  const { lock: lockValue } = values\n  assertString(lockValue, 'lockValue')\n    \n  const orientation = isOrientation(lockValue) ? lockValue as Orientation : undefined\n  \n  const elementsByName: Record<string, UnknownElement> = {}\n  const inspectingProperties = [widthProperty, heightProperty]\n\n  // go to first/last frame if needed and tween value defined...\n  const goTime = tweenInputTime(timeRange, onEdge, nearStart, endDefined, endSelected)\n\n  inspectingProperties.forEach(selectedProperty => {\n    \n    const { property, changeHandler, value, name: nameOveride } = selectedProperty\n    const { type, name: propertyName } = property\n    const name = nameOveride || propertyName\n    const baseName = name.replace(PropertyTweenSuffix, '')\n    const input = DataTypeInputs[type] \n    const key = `inspector-${selectType}-${name}`\n    const inputContext: InputContextInterface = { \n      property, value, name, time: goTime\n    }\n\n    // if we're editing tween value, but it's not defined yet...\n    if (endSelected) {\n      // tell input to use start value as default, rather than the property's...\n      inputContext.defaultValue = values[baseName] \n    }\n\n    if (!(orientation && baseName === SizeInputOrientations[orientation])) {\n      inputContext.changeHandler = changeHandler\n    }\n    const providerProps = { \n      key, value: inputContext, children: input\n    }\n    elementsByName[baseName] = <InputContext.Provider { ...providerProps } />  \n  })\n  const lockWidthProps = { \n    key: \"lock-width\",\n    className: ClassButton,\n    children: orientation === Orientation.H ? icons.lock : icons.unlock, \n    onClick: () => {\n      const value = orientation === Orientation.H ? \"\" : Orientation.H\n      lock.changeHandler('lock', value)\n    }\n  }\n  const lockWidth = <View { ...lockWidthProps } />\n  const lockHeightProps = { \n    key: \"lock-height\",\n    className: ClassButton,\n    children: orientation === Orientation.V ? icons.lock : icons.unlock, \n    onClick: () => {\n      const value = orientation === Orientation.V ? \"\" : Orientation.V\n      lock.changeHandler('lock', value)\n    }\n  }\n  const selectedButton = [ClassSelected, ClassButton].join(' ')\n  const lockHeight = <View { ...lockHeightProps } />\n  const startProps: PropsAndChild = {\n    children: icons.start,\n    className: endSelected ? ClassButton : selectedButton,\n    key: 'start',\n    onClick: () => {\n      editor.goToTime(timeRange.startTime)\n      changeTweening(DataGroup.Size, false)\n    }\n  }\n  const endProps: PropsAndChild = {\n    key: 'end',\n    className: endSelected ? selectedButton : ClassButton,\n    children: endDefined ? icons.end : icons.endUndefined,\n    onClick: () => {\n      editor.goToTime(timeRange.lastTime)\n      changeTweening(DataGroup.Size, true)\n    }\n  }\n  const legendElements = [\n    icons.size,\n    <View className=\"start-end\" key={`${selectType}-size-start-end`}>\n      <View { ...startProps } />\n      <View { ...endProps } />\n    </View>\n  ]\n  const widthElements = [\n    <View key=\"width-icon\" children={icons.width} className={ClassButton} />, \n    elementsByName.width, \n    lockWidth\n  ]\n  const heightElements = [\n    <View key=\"height-icon\" children={icons.height} className={ClassButton} />, \n    elementsByName.height, \n    lockHeight\n  ]\n  const elements = [\n    <View key=\"width\" children={widthElements} />, \n    <View key=\"height\" children={heightElements} />\n  ]\n\n  const fieldsetProps = { ...rest }\n  return <fieldset { ...fieldsetProps }>\n    <legend key=\"legend\"><View>{legendElements}</View></legend>\n    {elements}\n  </fieldset>\n}\n\nDataGroupInputs[DataGroup.Size] = <SizeGroupInput key=\"size-group-input\" />\n", "import React from \"react\"\nimport { \n  assertSelectType, ClassButton, DataGroup, isPopulatedObject, selectedPropertyObject \n} from \"@moviemasher/moviemasher.js\"\n\nimport { ElementRecord, ReactResult } from \"../../../../declarations\"\nimport { InspectorContext } from \"../../InspectorContext\"\nimport { DataGroupInputs, DataGroupProps } from \"./DataGroupInputs\"\nimport { View } from \"../../../../Utilities/View\"\nimport { InspectorProperty, InspectorPropertyProps } from \"../../InspectorProperty\"\nimport { MasherContext } from \"../../../Masher/MasherContext\"\n\nexport interface OptionGroupInputProps extends DataGroupProps {\n  dataGroup: DataGroup\n}\n\nexport function OptionGroupInput(props: OptionGroupInputProps): ReactResult {\n  const masherContext = React.useContext(MasherContext)\n  const { icons } = masherContext\n  const { selectType, selectedItems: propsItems, dataGroup, ...rest } = props\n  assertSelectType(selectType)\n\n  const inspectorContext = React.useContext(InspectorContext)\n  const selectedItems = propsItems || inspectorContext.selectedItems\n  const byName = selectedPropertyObject(selectedItems, dataGroup, selectType)\n  const elementsByName: ElementRecord = Object.fromEntries(Object.entries(byName).map(([key, selectedProperty]) => {\n    const { property, changeHandler, selectType, value, name: nameOveride } = selectedProperty\n    const { name: propertyName } = property\n    const name = nameOveride || propertyName\n    const propertyProps: InspectorPropertyProps = {\n      key: `inspector-${selectType}-group-${name}`,\n      property, value, changeHandler, name,\n      ...props\n    }\n    return [key, <InspectorProperty {...propertyProps} />]\n  }))\n\n  const { [dataGroup]: input, ...otherElements } = elementsByName\n  const iconElement = icons[dataGroup]\n  if (!isPopulatedObject(otherElements)) {\n    const viewProps = {\n      key: dataGroup, children: [iconElement, input], className: 'row'\n    }\n    return <View { ...viewProps} />\n  }\n\n  const legendElements = [iconElement]\n  if (input) legendElements.push(input)\n  const elements = Object.entries(otherElements).map(([key, value]) => {\n    const icon = icons[key]\n    const children = [value]\n    if (icon) children.unshift(<View key={`${key}-icon`} children={icon} className={ClassButton} />)\n    const frameProps = { key: `${key}-view`, children }\n    return <View { ...frameProps } />\n  })\n\n\n  const fieldsetProps = { ...rest }\n  return <fieldset { ...fieldsetProps }>\n    <legend key=\"legend\"><View>{legendElements}</View></legend>\n    {elements}\n  </fieldset>\n}\n\n// [DataGroup.Timing, DataGroup.Clicking].forEach(dataGroup => {\n  const timingProps = { dataGroup: DataGroup.Timing, key: `${DataGroup.Timing}-group-input` }\n  DataGroupInputs[DataGroup.Timing] = <OptionGroupInput { ...timingProps } />\n// })\n", "import React from 'react'\nimport { \n  arraySet, assertSelectType, EventType, SelectedItems, SelectType, SelectTypes, \n  assertPositive, assertTrue, timeFromArgs, timeEqualizeRates, assertDataGroup,\n  isSelectedProperty, isDefined, PropertyTweenSuffix, DataGroup, \n  SelectedProperties \n} from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from '../../declarations'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { View } from '../../Utilities/View'\nimport {\n  DataGroupBooleans,\n  InspectorContext, InspectorContextDefault, InspectorContextInterface, \n  SelectedInfo\n} from './InspectorContext'\nimport { useEditor } from '../../Hooks/useEditor'\n\nexport interface InspectorProps extends PropsAndChildren, WithClassName {}\n\n/**\n * @parents Masher\n * @children InspectorContent\n */\nexport function Inspector(props: InspectorProps): ReactResult {\n  const editor = useEditor()\n  const [actionCount, setActionCount] = React.useState(() => 0)\n  const info = React.useRef<SelectedInfo>({ \n    tweenDefined: {}, tweenSelected: {}, \n    selectedType: SelectType.None, selectTypes: []\n  })\n  const [orderedTypes, setOrderedTypes] = React.useState<SelectType[]>(() => SelectTypes)\n  const [selectedItems, setSelectedItems] = React.useState<SelectedItems>(() => [])\n  const handleAction = () => { setActionCount(value => value + 1) }\n  const handleSelection = () => {\n    const { selection } = editor\n    const { selectTypes: types, clip, mash } = selection\n    const { current } = info\n    const { selectedType, selectTypes } = current\n    const bestType = orderedTypes.find(type => types.includes(type))\n    assertSelectType(bestType)\n\n    if (bestType !== selectedType) {\n      // console.log(\"setInfo selectedType\", selectedType, \"=>\", bestType, types)\n      current.selectedType = bestType\n    }\n    arraySet(selectTypes, types)\n    \n    const items = editor.selection.selectedItems([bestType])\n    const tweening: DataGroupBooleans = {}\n    if (clip && mash) {\n      const tweenItems = items.filter(item => {\n        if (!isSelectedProperty(item)) return \n\n        const { property, name } = item\n        const { tweenable, group } = property\n        if (!(tweenable && group && name)) return\n\n        return name.endsWith(PropertyTweenSuffix)\n      }) as SelectedProperties\n      // console.log(\"Inspector handleSelection\", tweenItems.length, \"tweenItem(s)\")\n      tweenItems.forEach(item => {\n        const { property, value } = item\n        const { group } = property\n        assertDataGroup(group)\n        tweening[group] = isDefined(value) \n      })  \n\n      if (tweenItems.length) {\n        const { time, quantize } = mash\n        const timeRange = clip.timeRange(quantize)\n        current.time = time\n        current.timeRange = timeRange\n        // console.log(\"Inspector tweening\", time, timeRange)\n        const frame = timeRange.frame + Math.round(timeRange.frames / 2)\n        const halfTime = timeFromArgs(frame, quantize)\n        const [midTime, timeScaled] = timeEqualizeRates(halfTime, time)\n        \n        current.nearStart = midTime.frame > timeScaled.frame\n        const edge = current.nearStart ? timeRange.startTime : timeRange.lastTime\n\n        current.onEdge = time.equalsTime(edge)\n      }\n    }\n    \n    current.tweenDefined = tweening\n\n    setSelectedItems(items)\n    handleAction()\n  }\n  \n  useListeners({\n    [EventType.Action]: handleAction,\n    [EventType.Selection]: handleSelection,\n  })\n\n  const changeSelected = React.useCallback((type: string) => {\n    assertSelectType(type)\n    setOrderedTypes(original => {\n      const index = original.indexOf(type) \n      assertPositive(index) \n      const types = [type]\n      if (index) types.push(...original.slice(0, index))\n      if (index < original.length - 1) types.push(...original.slice(index + 1))\n      assertTrue(types.length === original.length, 'type lengths match')\n      // console.log(\"setOrderedTypes\", original, \"=>\", types)\n      arraySet(original, types)\n      handleSelection()\n      return original\n    })\n    info.current.selectedType = type\n    \n    setSelectedItems(editor.selection.selectedItems([type]))\n  }, [])\n\n  const changeTweening = (group: DataGroup, tweening: boolean): void => {\n    info.current.tweenSelected[group] = tweening\n    handleSelection()\n  }\n  const inspectorContext: InspectorContextInterface = {\n    ...InspectorContextDefault,\n    actionCount, selectedItems,\n    changeSelected, \n    changeTweening, selectedInfo: info.current,\n  }\n\n  return (\n    <InspectorContext.Provider value={inspectorContext}>\n      <View {...props}/>\n    </InspectorContext.Provider>\n  )\n}\n", "import React from 'react'\n\nimport { PropsWithChildren, ReactResult } from '../../declarations'\nimport { View } from '../../Utilities/View'\n\n/**\n * @parents Inspector\n */\nexport function InspectorContent(props: PropsWithChildren): ReactResult {\n  return <View {...props} />\n}\n", "import React from 'react'\nimport { ClassButton, SelectType } from '@moviemasher/moviemasher.js'\n\nimport { PropsMethod, PropsWithoutChild } from '../../declarations'\nimport { Bar } from '../../Utilities/Bar'\nimport { InspectorProperties } from './InspectorProperties'\nimport { InspectorContent } from './InspectorContent'\nimport { InspectorProps } from './Inspector'\nimport { PanelOptions, panelOptionsStrict } from '../Panel/Panel'\nimport { InspectorPicked } from './InspectorPicked'\nimport { InspectorPicker } from './InspectorPicker'\nimport { EditorRemoveButton } from '../Controls/EditorRemoveButton'\nimport { Button } from '../../Utilities/Button'\nimport { EncodeControl } from '../Controls/EncodeControl'\nimport { ViewControl } from '../Controls/ViewControl'\nimport { View } from '../../Utilities/View'\nimport { labelInterpolate, labelTranslate } from '../../Utilities/Label'\nimport { EditorUndoButton } from '../Controls/EditorUndoButton'\nimport { EditorRedoButton } from '../Controls/EditorRedoButton'\n\nexport interface InspectorPropsDefault extends PanelOptions, PropsWithoutChild {}\n\nexport const InspectorDefaultProps: PropsMethod<InspectorPropsDefault, InspectorProps> = function (props = {}) {\n  const optionsStrict = panelOptionsStrict(props)\n  const { icons } = optionsStrict\n  optionsStrict.props.key ||= 'inspector'\n  optionsStrict.props.className ||= 'panel inspector'\n\n  optionsStrict.header.content ||= [\n    <View key=\"panel-icon\" children={icons.inspector} />,\n    <EditorUndoButton key='undo'>\n      <Button>{icons.undo}{labelTranslate('undo')}</Button>\n    </EditorUndoButton>,\n    <EditorRedoButton key='redo'>\n      <Button>{icons.redo}{labelTranslate('redo')}</Button>\n    </EditorRedoButton>,\n  ]\n \n  optionsStrict.footer.content ||= [\n    <InspectorPicker key=\"mash\" className={ClassButton} id=\"mash\">\n      {icons.mmTube}\n    </InspectorPicker>,\n    <InspectorPicker key=\"clip\" className={ClassButton} id=\"clip\">\n      {icons.clip}\n    </InspectorPicker>,\n    <InspectorPicker key=\"container\" className={ClassButton} id=\"container\">\n      {icons.container}\n    </InspectorPicker>,\n    <InspectorPicker key=\"content\" className={ClassButton} id=\"content\">\n      {icons.content}\n    </InspectorPicker>,\n ]\n\n  const contentChildren = [<InspectorProperties key=\"properties\" />]\n  const types = [SelectType.Clip, SelectType.Track]\n\n  contentChildren.push(\n    <InspectorPicked type=\"mash\" key=\"inspector-mash\">\n      <View>\n        <EncodeControl key='render-process'>\n          <Button>\n            {labelTranslate('render')} \n            {icons.render}\n          </Button>\n        </EncodeControl>\n        <ViewControl key='view-control'>\n          <Button>\n            {labelTranslate('view')} \n            {icons.view}\n          </Button>\n        </ViewControl>    \n      </View>  \n    </InspectorPicked>\n  )\n\n  types.forEach(type => {\n    contentChildren.push(\n      <InspectorPicked key={`${type}-delete`} type={type}>\n        <EditorRemoveButton type={type}>\n          <Button>\n            {labelInterpolate('delete', { type })}\n            {icons.remove}\n          </Button>\n        </EditorRemoveButton>\n      </InspectorPicked>\n    )\n  })\n  \n  optionsStrict.content.children ||= <>{contentChildren}</>\n\n  const children = <>\n    <Bar {...optionsStrict.header} />\n    <InspectorContent {...optionsStrict.content.props}>\n      {optionsStrict.content.children}\n    </InspectorContent>\n    <Bar {...optionsStrict.footer} />\n  </>\n  return { ...optionsStrict.props, children }\n}\n", "import React from 'react'\nimport { assertPopulatedArray } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult } from '../../declarations'\nimport { InspectorContext } from './InspectorContext'\nimport { propsSelectTypes } from '../../Utilities/Props'\n\nexport interface InspectorPickedProps {\n  types?: string | string[]\n  type?: string\n  children: React.ReactNode\n}\n\n/**\n * @parents InspectorContent\n */\nexport function InspectorPicked(props: InspectorPickedProps): ReactResult {\n  const inspectorContext = React.useContext(InspectorContext)\n  const { selectedInfo } = inspectorContext\n  const { selectedType } = selectedInfo\n  const { type, types, children } = props\n  const selectTypes = propsSelectTypes(type, types)\n  assertPopulatedArray(selectTypes)\n  \n  if (!selectTypes.includes(selectedType)) return null\n\n  return <>{children}</>\n}\n", "import React from 'react'\nimport { \n  Identified,\n  assertSelectType, ClassSelected, isPopulatedString, SelectType \n} from '@moviemasher/moviemasher.js'\n\n\nimport { PropsAndChild, ReactResult, WithClassName } from '../../declarations'\nimport { View } from '../../Utilities/View'\nimport { InspectorContext } from './InspectorContext'\n\n\n\nexport interface InspectorPickerProps extends PropsAndChild, WithClassName, Identified {}\n/**\n * @parents Inspector\n */\n\nexport function InspectorPicker(props: InspectorPickerProps): ReactResult {\n  const { id, children, className } = props\n  assertSelectType(id)\n  \n  const inspectorContext = React.useContext(InspectorContext)\n  const { changeSelected, selectedInfo } = inspectorContext\n  const { selectTypes, selectedType} = selectedInfo\n\n  if (!selectTypes.includes(id)) return null\n\n  const onClick = () => { changeSelected(id) }\n\n  const classes: string[] = []\n  if (isPopulatedString(className)) classes.push(className)\n  if (selectedType === id) classes.push(ClassSelected)\n\n  const viewProps = { children, onClick, className: classes.join(' ') }\n  return <View {...viewProps} />\n}\n", "import {\n\n  assertObject, DataDefaultRequest, DataDefaultResponse, Editor, EditorIndex, \n  editorInstance, EditType, Endpoints, eventStop, EventType,\n  idGenerate, idTemporary, isClip, isEffect, isMashAndMediaObject, isMedia, \n  isMediaObject, MashType, Media, MediaObject, ScalarRecord, Size, \n  UnknownRecord, urlBaseInitialize, VideoType\n} from '@moviemasher/moviemasher.js'\nimport React from 'react'\n\nimport {\n  ActivityType,\n  Client, ClientDisabledArgs, clientInstance, ClientOptions, ClientReadOptions, ReadOperation\n} from \"@moviemasher/client-core\"\n\n\n\nimport { Draggable, dropFilesFromList } from '@moviemasher/client-core'\nimport { ApiContext } from '../../../client-react-deleted/ApiClient/ApiContext'\nimport { PropsWithChildren, PropsWithoutChild, ReactResult, ThemeIcons, WithClassName } from '../../declarations'\nimport { elementSetPreviewSize } from '../../Utilities/Element'\nimport { View } from '../../Utilities/View'\nimport { ActivityPropsDefault } from '../Activity/ActivityDefaultProps'\nimport { BrowserPropsDefault } from '../Browser/BrowserDefaultProps'\nimport { InspectorPropsDefault } from '../Inspector/InspectorDefaultProps'\nimport { PanelOptions } from '../Panel/Panel'\nimport { PlayerPropsDefault } from '../Player/PlayerDefaultProps'\nimport { TimelinePropsDefault } from '../Timeline/TimelineDefaultProps'\nimport { MasherContext, MasherContextInterface } from './MasherContext'\n\nexport type PanelOptionsOrFalse = PanelOptions | false\n\nexport interface UiOptions {\n  [index: string]: PanelOptionsOrFalse\n  browser: BrowserPropsDefault | false\n  player: PlayerPropsDefault | false\n  inspector: InspectorPropsDefault | false\n  timeline: TimelinePropsDefault | false\n  activity: ActivityPropsDefault | false\n}\n\nexport interface MasherOptions extends UnknownRecord, WithClassName {\n  previewSize?: Size\n  icons?: ThemeIcons\n  editType?: EditType\n  mashMedia?: DataDefaultResponse\n  clientOptions?: ClientOptions\n}\n\nexport interface EditorProps extends MasherOptions, PropsWithoutChild {\n  panels?: Partial<UiOptions>\n}\n\nexport interface MasherProps extends MasherOptions, PropsWithChildren {}\n\n/**\n * @parents ApiClient, Masher\n * @children Browser, Timeline, Inspector, Player, Composer\n * @returns provided children wrapped in a {@link View} and {@link MasherContext}\n */\nexport function Masher(props: MasherProps): ReactResult {\n  const {\n    editType = VideoType,\n    clientOptions = ClientDisabledArgs,\n    previewSize,\n    icons = {},\n    mashMedia,\n    ...rest\n  } = props\n\n  console.log(\"Masher\", editType, previewSize)\n  const clientRef = React.useRef<Client>(clientInstance(clientOptions))\n  const editorRef = React.useRef<Editor>(editorInstance({ editType }))\n  const editorIndexRef = React.useRef<EditorIndex>({})\n  const currentRef = React.useRef<ScalarRecord>({})\n  const svgRef = React.useRef<SVGSVGElement>(null)\n  const ref = React.useRef<HTMLDivElement>(null)\n\n\n  const apiContext = React.useContext(ApiContext)\n\n  const [requested, setRequested] = React.useState(false)\n  const [streaming, setStreaming] = React.useState(false)\n\n  const { current: client } = clientRef\n  const { current: editor } = editorRef\n  const { current: editorIndex } = editorIndexRef\n  const { current } = currentRef\n  const { endpointPromise, servers } = apiContext\n\n  React.useEffect(() => { \n    elementSetPreviewSize(ref.current, previewSize) \n  }, [previewSize])\n\n  const editorLoad = (object?: DataDefaultResponse) => {\n    const loadObject = object || mashMedia || { mash: { id: idTemporary(), media: [] } }\n    // const { previewSize: size = previewSize, ...rest } = loadObject\n    console.log('Masher.editorLoad', object, mashMedia, loadObject)\n\n    const { current: svg } = svgRef\n    // const { current: div } = ref\n    assertObject(svg, 'svg')\n    // if (sizeAboveZero(size)) elementSetPreviewSize(div, size)\n    \n    editor.svgElement = svg\n    const { mash } = loadObject\n    editor.load(mash)\n  }\n  React.useEffect(() => {\n    console.debug(\"Masher useEffect\", requested)\n\n    if (!client.enabled(ReadOperation)) {\n      editorLoad()\n      return\n    }\n    if (!requested) {\n      setRequested(true)\n\n      const request: DataDefaultRequest = {}\n\n      console.debug(\"DataDefaultRequest\", Endpoints.data[editType].default, request)\n\n      const promise = endpointPromise(Endpoints.data[editType].default, request)\n      promise.then((response: DataDefaultResponse) => {\n        console.debug(\"DataDefaultResponse\", Endpoints.data[editType].default, response)\n        const { previewSize: serverSize = previewSize } = response\n        console.log(\"Masher DataDefaultResponse\", servers.file?.prefix)\n        if (servers.file?.prefix) {\n          urlBaseInitialize(String(servers.file.prefix))\n          console.log(\"Masher DataDefaultResponse\", servers.file.prefix)\n        }\n        editorLoad(response)\n      })\n    }\n  }, [requested])\n\n  const dropFiles = (files: FileList, editorIndex?: EditorIndex): Promise<Media[]> => {\n    const fileInfos = dropFilesFromList(files, servers.file)\n    if (fileInfos.length) {\n      const errors: UnknownRecord[] = []\n      const validFiles: File[] = []\n      const { eventTarget } = editor\n      fileInfos.forEach(fileInfo => {\n        if (fileInfo instanceof File) validFiles.push(fileInfo)\n        else errors.push(fileInfo)\n      })\n\n      if (errors.length) {\n        errors.forEach(error => {\n          const id = idGenerate('activity-error')\n          const info = { id, type: ActivityType.Error, ...error }\n          eventTarget.emit(EventType.Active, info)\n        })\n      }\n      if (validFiles.length) return editor.addFiles(validFiles, editorIndex)\n    } else console.log('Masher.dropFiles no info')\n    return Promise.resolve([])\n  }\n\n  const dropMediaObject = (definitionObject: MediaObject, editorIndex?: EditorIndex): Promise<Media[]>  => {\n    // console.log(\"Masher onDrop DefinitionObject...\", definitionObject, editorIndex)\n    return editor.addMedia(definitionObject, editorIndex)\n  }\n\n  const drop = (draggable: Draggable, editorIndex?: EditorIndex): Promise<Media[]>  => {\n    console.log(\"Masher drop\", draggable, editorIndex)\n\n    \n    if (!draggable) return Promise.resolve([]) \n    console.log(\"Masher drop editorIndex = \", editorIndex)\n\n    if (isClip(draggable)) {\n      console.log(\"Masher drop Clip\")\n      return Promise.resolve([])\n    }\n    if (isEffect(draggable)) {\n      console.log(\"Masher drop Effect\")\n      return Promise.resolve([])\n    }\n    \n    if (isMediaObject(draggable)) {\n      console.log(\"Masher drop DefinitionObject\")\n      return dropMediaObject(draggable, editorIndex)\n      \n    }\n    if (isMashAndMediaObject(draggable)) {\n      console.log(\"Masher drop MashAndMediaObject\")\n      return Promise.resolve([])\n    }\n    return dropFiles(draggable, editorIndex).then(definitions => {\n      console.log(\"Masher.dropFiles\", definitions)\n      const [definition] = definitions\n      if (isMedia(definition)) changeDefinition(definition)\n      return definitions\n    })\n  }\n  \n\n\n  const changeDefinition = (media?: Media) => { current.mediaId = media?.id }\n  \n  const masherContext: MasherContextInterface = {\n    client, editor, \n    streaming, setStreaming,\n    current, editorIndex, drop,\n    changeDefinition, icons\n  }\n  const viewProps = { ...rest, onDrop: eventStop, ref }\n  return (\n    <MasherContext.Provider value={masherContext}>\n      <View { ...viewProps } />\n      <svg style={{ display: 'none' }} ref={svgRef} />\n    </MasherContext.Provider>\n  )\n}\n", "import { Size } from '@moviemasher/moviemasher.js'\n\nexport const elementSetPreviewSize = (current?: HTMLDivElement | null, size?: Size) => {\n  if (!(size && current))\n    return\n\n  const { width, height } = size\n  current.style.setProperty('--preview-width', `${width}px`)\n  current.style.setProperty('--preview-height', `${height}px`)\n}\n", "import React from 'react'\nimport { VideoType } from '@moviemasher/moviemasher.js'\nimport { Icons } from '@moviemasher/theme-default'\n\nimport { PropsMethod } from '../../declarations'\nimport { EditorProps, MasherProps } from './Masher'\nimport { Browser } from '../Browser/Browser'\nimport { BrowserDefaultProps } from '../Browser/BrowserDefaultProps'\nimport { InspectorDefaultProps } from '../Inspector/InspectorDefaultProps'\nimport { PlayerDefaultProps } from '../Player/PlayerDefaultProps'\nimport { TimelineDefaultProps } from '../Timeline/TimelineDefaultProps'\nimport { Inspector } from '../Inspector/Inspector'\nimport { Player } from '../Player/Player'\nimport { Timeline } from '../Timeline/Timeline'\nimport { ActivityDefaultProps } from '../Activity/ActivityDefaultProps'\nimport { Activity } from '../Activity/Activity'\nimport { Panels } from '../Panel/Panels'\n\nexport const MasherDefaultProps: PropsMethod<EditorProps, MasherProps> = function(options = {}) {\n  options.className ||= 'editor masher'\n  options.icons ||= Icons\n  const { panels = {}, ...rest } = options\n  const { \n    player = {}, \n    browser = {}, \n    timeline = {}, \n    inspector = {}, \n    activity = {},\n  } = panels\n  const masherChildren: JSX.Element[] = []\n\n  if (player) {\n    player.icons ||= options.icons\n    masherChildren.push(<Player { ...PlayerDefaultProps(player) } />)\n  }\n  if (browser) {\n    browser.icons ||= options.icons\n    masherChildren.push(<Browser { ...BrowserDefaultProps(browser) } />)\n  }\n  if (inspector || activity) {\n    const panelsChildren: JSX.Element[] = []\n    if (activity) {\n      activity.icons ||= options.icons\n      panelsChildren.push(<Activity { ...ActivityDefaultProps(activity) } />)\n    }   \n    if (inspector) {  \n      inspector.icons ||= options.icons\n      panelsChildren.push(<Inspector { ...InspectorDefaultProps(inspector) } />)\n    }\n    const panelsProps = {\n      children: panelsChildren, key: 'panels', className: 'panels'\n    }\n    masherChildren.push(<Panels { ...panelsProps } />)\n  }\n  if (timeline) {\n    timeline.icons ||= options.icons\n    masherChildren.push(<Timeline { ...TimelineDefaultProps(timeline) } />)\n  }\n\n\n  return {\n    className: 'editor masher', \n    ...rest, \n    editType: VideoType, \n    children: masherChildren\n  }\n}\n", "import React from 'react'\n\nimport { PropsMethod, PropsWithoutChild, WithClassName } from '../../declarations'\nimport { Button } from '../../Utilities/Button'\nimport { Bar } from '../../Utilities/Bar'\nimport { PlayerContent } from './PlayerContent'\nimport { PlayerButton } from './PlayerButton'\nimport { PlayerTimeControl } from './PlayerTimeControl'\nimport { PlayerPlaying } from './PlayerPlaying'\nimport { PlayerNotPlaying } from './PlayerNotPlaying'\nimport { PlayerProps } from './Player'\nimport { PanelOptions, panelOptionsStrict } from '../Panel/Panel'\n\nimport { ClassButton } from '@moviemasher/moviemasher.js'\nimport { PlayerTime } from './PlayerTime'\nimport { View } from '../../Utilities/View'\nimport { SaveControl } from '../Controls/SaveControl'\nimport { labelTranslate } from '../../Utilities/Label'\nimport { CreateEditedControl } from '../Controls/CreateEditedControl'\nimport { SelectEditedControl } from '../Controls/SelectEditedControl'\n\nexport interface PlayerPropsDefault extends PanelOptions, PropsWithoutChild, WithClassName {}\n\nexport const PlayerDefaultProps: PropsMethod<PlayerPropsDefault, PlayerProps> = function (props = {}) {\n  const optionsStrict = panelOptionsStrict(props)\n  const { icons } = optionsStrict\n  optionsStrict.props.key ||= 'player'\n  optionsStrict.props.className ||= 'panel player'\n\n\n  optionsStrict.content.children ||= (\n    <PlayerContent {...optionsStrict.content.props}>\n      <View key=\"drop-box\" className=\"drop-box\" />\n    </PlayerContent>\n  )\n  optionsStrict.header.content ||= [\n    <View key=\"panel-icon\" children={icons.app} />,\n    <SelectEditedControl key=\"select-mashMedia\" className=\"row\" children={icons.document} />,\n    <SaveControl key='save-process'>\n      <Button key=\"button\">\n        {labelTranslate('update')}\n        {icons.document}\n      </Button>\n    </SaveControl>,\n    <CreateEditedControl key=\"create-mashMedia\">\n      <Button>\n        {labelTranslate('create')} \n        {icons.document}\n      </Button>\n    </CreateEditedControl>\n   \n  ]\n  \n  optionsStrict.footer.content ||= [\n    <PlayerButton key='play-button' className={ClassButton}>\n      <PlayerPlaying key='playing'>{icons.pause}</PlayerPlaying>\n      <PlayerNotPlaying key='not-playing'>{icons.play}</PlayerNotPlaying>\n    </PlayerButton>,\n    <PlayerTimeControl key='time-slider'/>,\n    <PlayerTime key='time' className=\"time\" />,\n  ]\n\n  const children = <>\n    <Bar {...optionsStrict.header} />\n    {optionsStrict.content.children}\n    <Bar {...optionsStrict.footer} />\n  </>\n  return { ...optionsStrict.props, children }\n}\n", "import React from 'react'\nimport { \n  EventType, Rect, eventStop, isMediaType, rectRound,\n  ClassDropping, sizeAboveZero, UnknownRecord, assertMediaType, \n  rectCopy, EditorIndex, assertObject, SelectType, EmptyMethod, isMediaObject, \n} from '@moviemasher/moviemasher.js'\n\nimport {  \n  PropsWithChildren, ReactResult, WithClassName \n} from '../../declarations'\nimport { \n  assertDragDefinitionObject, dragData, dragType, dragTypes, TransferTypeFiles \n} from '@moviemasher/client-core'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { View } from '../../Utilities/View'\nimport { MasherContext } from '../Masher/MasherContext'\nimport { PlayerContext } from './PlayerContext'\n\nexport interface PlayerContentProps extends PropsWithChildren, WithClassName {}\nconst PlayerRefreshRate = 10\n\n/**\n * @parents Player\n */\nexport function PlayerContent(props: PlayerContentProps): ReactResult {\n  const { children, className, ...rest } = props\n  \n  const editor = useEditor()\n  const [rect, setRect] = React.useState<Rect>(() => (rectCopy(editor.rect)))\n  const svgRef = React.useRef<HTMLDivElement>(null)//SVGSVGElement\n  const viewRef = React.useRef<HTMLDivElement>(null)\n  const masherContext = React.useContext(MasherContext)\n  const [over, setOver] = React.useState(false)\n  const playerContext = React.useContext(PlayerContext)\n  const { disabled } = playerContext\n  const { drop } = masherContext\n  const watchingRef = React.useRef<UnknownRecord>({})\n  const { current: watching } = watchingRef\n\n  const handleResize = () => { \n    const { current } = viewRef\n    if (!current) return\n  \n    const rect = rectRound(current.getBoundingClientRect())\n    setRect(() => {\n      editor.rect = rect\n      return rectCopy(rect)\n    })\n  }\n\n  const [resizeObserver] = React.useState(new ResizeObserver(handleResize))\n\n  React.useEffect(() => {\n    const { current } = viewRef\n    if (current) resizeObserver.observe(current)\n    return () => { resizeObserver.disconnect() }\n  }, [])\n\n  const swapChildren = (elements: Element[]) => {\n    const { current } = svgRef\n    if (!current) return\n\n    current.replaceChildren(...elements)  \n  }\n\n  const requestItemsPromise = (): Promise<void> => {\n    const { redraw } = watching\n    delete watching.timeout \n    delete watching.redraw \n\n    return editor.previewItems(!disabled).then(svgs => {\n   \n      swapChildren(svgs)\n      if (redraw) handleDraw()\n    })\n  }\n\n  const requestItems = () => { requestItemsPromise().then(EmptyMethod) }\n\n  const handleDraw = () => { \n    const { current } = svgRef\n    const { rect } = editor\n    if (!(current && sizeAboveZero(rect))) return\n\n    if (watching.timeout) {\n      watching.redraw = true\n      return\n    }\n    watching.timeout = setTimeout(requestItems, PlayerRefreshRate)\n  }\n\n  useListeners({ [EventType.Draw]: handleDraw, [EventType.Selection]: handleDraw })\n\n  const dragValid = (dataTransfer?: DataTransfer | null): dataTransfer is DataTransfer => {\n    if (!dataTransfer) return false\n\n    const types = dragTypes(dataTransfer)\n    if (types.includes(TransferTypeFiles)) return true\n    \n    return isMediaType(dragType(dataTransfer))\n  }\n\n  const onDragLeave = (event: DragEvent): void => {\n    eventStop(event)\n    setOver(false)\n  }\n\n  const onDrop = (event: DragEvent): void => {\n    onDragLeave(event)\n    const { dataTransfer } = event\n    if (!dragValid(dataTransfer)) return \n\n    const { mashMedia } = editor\n    assertObject(mashMedia, 'mashMedia')\n    const editorIndex: EditorIndex = {\n      clip: editor.time.scale(mashMedia.quantize).frame,\n      track: -1,\n    }\n    const types = dragTypes(dataTransfer)\n    if (types.includes(TransferTypeFiles)) {\n      drop(dataTransfer.files, editorIndex)\n    } else {\n      const type = dragType(dataTransfer)\n      assertMediaType(type)\n      const data = dragData(dataTransfer, type)\n      assertDragDefinitionObject(data)\n      const { mediaObject } = data\n      if (isMediaObject(mediaObject)) drop(mediaObject, editorIndex)\n    }\n  } \n\n  const onDragOver = (event: DragEvent) => {\n    eventStop(event)\n    setOver(dragValid(event.dataTransfer))\n  }\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (over) classes.push(ClassDropping)\n\n  const viewProps: UnknownRecord = {\n    ...rest, ref: viewRef, \n    className: classes.join(' '),\n    key: 'player-content', \n    onDragOver, onDrop, onDragLeave, \n    onPointerDown: () => { editor.selection.unset(SelectType.Clip) }\n  }\n\n  if (sizeAboveZero(rect)) {\n    const svgProps = { ref: svgRef, key: \"svg\", className: 'svgs' }\n    const nodes = [<div { ...svgProps } />]\n    if (children) {\n      const child = React.Children.only(children)\n      if (React.isValidElement(child)) nodes.push(child)\n    }\n    viewProps.children = nodes \n  } \n  return <View { ...viewProps}/>\n}\n", "import React from 'react'\nimport { BooleanSetter, EmptyMethod, NumberSetter } from '@moviemasher/moviemasher.js'\n\nexport interface PlayerContextInterface {\n  disabled?: boolean\n  paused: boolean,\n  changePaused: BooleanSetter\n  changeVolume: NumberSetter\n  volume: number\n}\n\nexport const PlayerContextDefault: PlayerContextInterface = {\n  paused: false,\n  changePaused: EmptyMethod,\n  changeVolume: EmptyMethod,\n  volume: 0,\n}\n\nexport const PlayerContext = React.createContext(PlayerContextDefault)\n", "import React from \"react\"\nimport { View } from \"../../Utilities/View\"\nimport { PlayerContext } from \"./PlayerContext\"\nimport { PropsWithChildren, ReactResult } from \"../../declarations\"\n\n/**\n *\n * @parents Player\n */\nexport function PlayerButton(props: PropsWithChildren): ReactResult {\n  const playerContext = React.useContext(PlayerContext)\n  const { paused, changePaused: setPaused } = playerContext\n\n  const onClick = () => { setPaused(!paused) }\n\n  const viewProps = {\n    ...props, key: 'player-button', onClick,\n  }\n  return <View {...viewProps} />\n}\n", "import React from 'react'\nimport { EventType, isArray, timeFromArgs, TimeRange } from '@moviemasher/moviemasher.js'\n\nimport { PropsWithChildren, ReactResult, SliderChangeHandler, WithClassName } from \"../../declarations\"\nimport { Slider } from '../../Utilities/Slider'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { useListeners } from '../../Hooks/useListeners'\n\nexport interface PlayerTimeControlProps extends PropsWithChildren, WithClassName { }\n\nexport function PlayerTimeControl(props: PlayerTimeControlProps): ReactResult {\n  const editor = useEditor()\n  const getTimeRange = () => editor.timeRange.timeRange\n  const [timeRange, setTimeRange] = React.useState<TimeRange>(getTimeRange)\n\n  const update = () => { setTimeRange(getTimeRange())}\n  useListeners({\n    [EventType.Time]: update,\n    [EventType.Duration]: update,\n  })\n \n  const onChange: SliderChangeHandler = (_event, values) => {\n    const number = isArray(values) ? values[0] : values\n    editor.time = timeFromArgs(number, timeRange.fps)\n  }\n\n  const sliderProps = {\n    value: timeRange.frame,\n    min: 0,\n    max: timeRange.frames,\n    step: 1,\n    onChange,\n    className: 'frame slider',\n    ...props\n  }\n  return <Slider {...sliderProps} />\n}\n", "import React from 'react'\n\nimport { PlayerContext } from './PlayerContext'\nimport { PropsAndChild, ReactResult } from '../../declarations'\n\n/**\n *\n * @group Player\n */\nexport function PlayerPlaying(props: PropsAndChild): ReactResult {\n  const playerContext = React.useContext(PlayerContext)\n  if (playerContext.paused) return null\n\n  return props.children\n}\n", "import React from 'react'\nimport { PlayerContext } from './PlayerContext'\nimport { PropsAndChild, ReactResult } from '../../declarations'\n\n/**\n *\n * @group Player\n */\nexport function PlayerNotPlaying(props: PropsAndChild): ReactResult {\n  const playerContext = React.useContext(PlayerContext)\n  if (!playerContext.paused) return null\n\n  return props.children\n}\n", "import React from \"react\"\nimport { View } from \"../../Utilities/View\"\nimport { PropsWithoutChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { EventType, stringSeconds } from \"@moviemasher/moviemasher.js\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\n\nexport interface PlayerTimeProps extends PropsWithoutChild, WithClassName {}\n\n/**\n *\n * @parents Editor\n */\nexport function PlayerTime(props: PlayerTimeProps): ReactResult {\n  const editor = useEditor()\n  const getTimeRange = () => editor.timeRange\n  const [timeRange, setTimeRange] = React.useState(getTimeRange)\n  const update = () => { setTimeRange(getTimeRange()) }\n\n  useListeners({\n    [EventType.Time]: update, [EventType.Duration]: update,\n  })\n\n  const { seconds, fps, lengthSeconds } = timeRange\n\n  const viewChildren = [\n    stringSeconds(seconds, fps, lengthSeconds), \"/\",\n    stringSeconds(lengthSeconds, fps, lengthSeconds),\n  ]\n\n  const viewProps = { ...props, key: 'player-time', children: viewChildren }\n\n  return <View {...viewProps} />\n}\n", "import React from 'react'\n\nimport {\n  PropsMethod, PropsWithoutChild, WithClassName\n} from '../../declarations'\nimport { Bar } from '../../Utilities/Bar'\nimport { TimelineScrubberElement } from './TimelineScrubberElement'\nimport { TimelineTrack } from './TimelineTrack'\nimport { TimelineSizer } from './TimelineSizer'\nimport { TimelineZoomer } from './TimelineZoomer'\nimport { TimelineTracks } from './TimelineTracks'\nimport { TimelineScrubber } from './TimelineScrubber'\nimport { TimelineContent } from './TimelineContent'\nimport { TimelineAddTrackControl } from './TimelineAddTrackControl'\n\nimport { TimelineProps } from './Timeline'\nimport { PanelOptions, panelOptionsStrict } from '../Panel/Panel'\nimport { TimelineTrackIcon } from './TimelineTrackIcon'\nimport { TimelineZoom } from './TimelineZoom'\nimport { TimelineAddClipControl } from './TimelineAddClipControl'\nimport { ClipItem } from '../ClipItem/ClipItem'\nimport { View } from '../../Utilities/View'\nimport { Button } from '../../Utilities/Button'\n\nexport interface TimelinePropsDefault extends PanelOptions, PropsWithoutChild, WithClassName {}\n\nexport const TimelineDefaultProps: PropsMethod<TimelinePropsDefault, TimelineProps> = function(props = {}) {\n  const optionsStrict = panelOptionsStrict(props)\n  const { icons } = optionsStrict\n  optionsStrict.props.key ||= 'timeline'\n  optionsStrict.props.className ||= 'panel timeline'\n\n  optionsStrict.header.content ||= [\n    <View key=\"panel-icon\" children={icons.timeline} />,\n  ]\n\n  optionsStrict.footer.content ||= [\n    <TimelineAddClipControl key='add-clip'>\n      <Button children={icons.add}/>\n    </TimelineAddClipControl>,\n    <TimelineAddTrackControl key='add-track'>\n      <Button children={[icons.add, icons.trackDense]}/>\n    </TimelineAddTrackControl>,\n    <TimelineZoom key=\"zoom-out\" zoom={0}>\n      <Button useView={true}>{icons.zoomLess}</Button>\n    </TimelineZoom>,\n    <TimelineZoomer key='zoomer'/>,\n    <TimelineZoom key=\"zoom-in\" zoom={1}>\n      <Button useView={true}>{icons.zoomMore}</Button>\n    </TimelineZoom>,\n  ]\n\n  optionsStrict.content.children ||= <>\n    <TimelineScrubber styleWidth={true} inactive={true} styleHeight={true} className='scrubber-bar'>\n      <TimelineScrubberElement className='scrubber-element-bar' />\n    </TimelineScrubber>\n    <TimelineScrubber styleWidth={true} className='scrubber-icon'>\n      <TimelineScrubberElement className='scrubber-element-icon'/>\n    </TimelineScrubber>\n    <TimelineTracks>\n      <TimelineTrackIcon className='track-icon' icons={icons} />\n      <TimelineTrack className='track'>\n        <ClipItem className='clip preview' />\n      </TimelineTrack>\n    </TimelineTracks>\n    <TimelineSizer className='drop-box' />\n  </>\n  \n  const children = <>\n    <Bar {...optionsStrict.header} />\n    <TimelineContent {...optionsStrict.content.props}>\n      {optionsStrict.content.children}\n    </TimelineContent>\n    <Bar {...optionsStrict.footer} />\n  </>\n\n  return { ...optionsStrict.props, children }\n}\n", "import React from \"react\"\n\nimport { PropsWithChildren, ReactResult } from \"../../declarations\"\nimport { TimelineContext } from \"./TimelineContext\"\nimport { MasherContext } from \"../Masher/MasherContext\"\nimport { View } from \"../../Utilities/View\"\nimport { pixelFromFrame } from \"@moviemasher/client-core\"\n\n/**\n * @parents TimelineScrubber\n */\nexport function TimelineScrubberElement(props: PropsWithChildren): ReactResult {\n  const timelineContext = React.useContext(TimelineContext)\n  const { scale, frame } = timelineContext\n  const calculateViewProps = () => {\n    const viewProps = { ...props, style: { left: pixelFromFrame(frame, scale) } }\n    return viewProps\n  }\n\n  const viewProps = React.useMemo(calculateViewProps, [frame, scale])\n  return <View {...viewProps} />\n}\n", "import React from 'react'\nimport { \n  assertMashMedia, assertTrack, assertTrue, ClassSelected, DroppingPosition, \n  eventStop, UnknownRecord \n} from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChild, ReactResult, WithClassName } from '../../declarations'\nimport { TimelineContext } from './TimelineContext'\nimport { TrackContext } from '../../Contexts/TrackContext'\nimport { View } from '../../Utilities/View'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { droppingPositionClass } from '@moviemasher/client-core'\nimport { ClipContext } from '../ClipItem/ClipContext'\n\nexport interface TimelineTrackProps extends PropsAndChild, WithClassName {\n  label?: string\n}\n\n/**\n * @parents TimelineTracks\n */\nexport function TimelineTrack(props: TimelineTrackProps): ReactResult {\n  const editor = useEditor()\n  const { selection } = editor\n  const { mash } = selection\n \n  const { className: propsClassName, children, ...rest } = props\n  const child = React.Children.only(children)\n  assertTrue(React.isValidElement(child))\n\n  const trackContext = React.useContext(TrackContext)\n  const timelineContext = React.useContext(TimelineContext)\n  const { track } = trackContext\n\n\n  const {\n    dragTypeValid, onDragLeave, onDrop, droppingTrack, setDroppingTrack,\n    droppingPosition, setDroppingPosition, setDroppingClip, selectedTrack,\n  } = timelineContext\n\n  const calculatedClassName = (): string => {\n    const selected = track === selectedTrack\n    const classes: string[] = []\n    if (propsClassName) classes.push(propsClassName)\n    if (selected) classes.push(ClassSelected)\n    if (droppingTrack === track) classes.push(droppingPositionClass(droppingPosition))\n    return classes.join(' ')\n  }\n\n  const className = React.useMemo(\n    calculatedClassName, [droppingPosition, droppingTrack, selectedTrack]\n  )\n  if (!(mash && track)) return null\n\n  // assertMashMedia(mash)\n  // assertTrack(track)\n\n  const { clips, dense, index } = track\n  \n  const childNodes = (): React.ReactElement[] => {\n    let prevClipEnd = dense ? -1 : 0\n    const childProps = child.props\n    return clips.map(clip => {\n      const cloneProps = { ...childProps, key: clip.id }\n      const children = React.cloneElement(child, cloneProps)\n      const contextProps = { children, value: { clip, prevClipEnd }, key: clip.id }\n      const context = <ClipContext.Provider { ...contextProps } />\n      if (!dense) prevClipEnd = clip.frames + clip.frame\n      return context\n    })\n  }\n\n  const onDragOver = (event: DragEvent) => {\n    eventStop(event)\n    const { dataTransfer } = event\n    if (!dataTransfer) return\n\n    const definitionType = dragTypeValid(dataTransfer)\n    const pos = definitionType ? DroppingPosition.At : DroppingPosition.None\n    setDroppingClip()\n    setDroppingTrack(definitionType ? track : undefined)\n    setDroppingPosition(pos)\n  }\n\n  const viewProps:UnknownRecord = {\n    ...rest,\n    className,\n    children: childNodes(),\n    onDragLeave, onDragOver, onDrop,\n    key: `track-${index}`\n  }\n\n  return <View {...viewProps}/>\n}\n", "import React from 'react'\n\nimport { View } from \"../../Utilities/View\"\nimport { TimelineContext } from \"./TimelineContext\"\nimport { PropsWithChildren, ReactResult } from '../../declarations'\n\n/**\n * @parents Timeline\n */\nexport function TimelineSizer(props: PropsWithChildren): ReactResult {\n  const ref = React.useRef<HTMLDivElement>(null)\n  const timelineContext = React.useContext(TimelineContext)\n  const handleResize = () => {\n    const { setRect } = timelineContext\n    const rect = ref.current!.getBoundingClientRect()\n    // console.log(\"handleResize width\", rect.width)\n    setRect(rect)\n  }\n\n  const [resizeObserver] = React.useState(new ResizeObserver(handleResize))\n\n  React.useEffect(() => {\n    const { current } = ref\n    if (current) resizeObserver.observe(current)\n    return () => { resizeObserver.disconnect() }\n  }, [ref.current])\n\n  const viewProps = { ...props, ref }\n  return <View {...viewProps}/>\n}\n", "import React from 'react'\nimport { ReactResult, SliderChangeHandler, PropsWithChildren } from \"../../declarations\"\nimport { TimelineContext } from './TimelineContext'\nimport { Slider } from '../../Utilities/Slider'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { EventType, isArray } from '@moviemasher/moviemasher.js'\nimport { useListeners } from '../../Hooks/useListeners'\n\n\n/**\n * @parents Timeline\n */\nexport function TimelineZoomer(props: PropsWithChildren): ReactResult {\n  const editor = useEditor()\n  const timelineContext = React.useContext(TimelineContext)\n  const getDisabled = () => !editor.selection.mash\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled())}\n  useListeners({ [EventType.Selection]: updateDisabled })\n\n  const handleChange : SliderChangeHandler = (_event, values) => {\n    const number = isArray(values) ? values[0] : values\n    if (timelineContext.zoom !== number) timelineContext.setZoom(number)\n  }\n\n\n  const sliderProps = {\n    disabled,\n    key: 'time-slider',\n    value: timelineContext.zoom,\n    min: 0.0,\n    max: 1.0,\n    step: 0.01,\n    onChange: handleChange,\n    ...props\n  }\n  return <Slider className='zoom slider' {...sliderProps} />\n}\n", "import React from 'react'\nimport { EventType, arrayReversed, Tracks } from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChildren, ReactResult } from '../../declarations'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { TrackContext } from '../../Contexts/TrackContext'\nimport { useEditor } from '../../Hooks/useEditor'\n\nexport interface TimelineTracksProps extends PropsAndChildren {}\n\n/**\n * @parents TimelineContent\n * @children TimelineTrack\n */\nexport function TimelineTracks(props: TimelineTracksProps): ReactResult {\n  const [refresh, setRefreshed] = React.useState(() => 0)\n  const updateRefreshed = () => { setRefreshed(nonce => nonce + 1) }\n  const editor = useEditor()\n  useListeners({\n    [EventType.Loaded]: updateRefreshed, [EventType.Track]: updateRefreshed,\n  })\n\n  const { children } = props\n\n  const childNodes = (): React.ReactElement[] => {\n    const { mash } = editor.selection\n    if (!mash) return []\n\n    const { tracks } = mash\n    const reversedTracks = arrayReversed(tracks) as Tracks\n    return reversedTracks.map((track, i) => {\n      const { identifier, index } = track\n      const clones = React.Children.map(children, child => {\n        if (!React.isValidElement(child)) throw `TimelineTracks`\n\n        return React.cloneElement(child, { \n          key: `track-clone-${i}-${index}-${identifier}`\n        })\n      })\n      const contextProps = {\n        children: clones,\n        value: { track },\n        key: `track-context-${i}-${index}-${identifier}`\n      }\n      return <TrackContext.Provider {...contextProps} />\n    })\n  }\n\n  const viewChildren = React.useMemo(childNodes, [refresh])\n  \n  const fragmentProps = {\n    key: `track-content`,\n    children: viewChildren,\n  }\n  return <React.Fragment { ...fragmentProps } />\n}\n", "import React from \"react\"\nimport { \n  ClassDisabled, eventStop, EventType, pixelToFrame, \n  timeFromArgs, UnknownRecord \n} from \"@moviemasher/moviemasher.js\"\nimport { \n  pixelFromFrame\n} from \"@moviemasher/client-core\"\n\nimport { View } from \"../../Utilities/View\"\nimport { ReactResult, PropsWithChildren, WithClassName } from \"../../declarations\"\nimport { TimelineContext } from \"./TimelineContext\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { useEditor } from \"../../Hooks/useEditor\"\n\nexport interface TimelineScrubber extends PropsWithChildren, WithClassName {\n  inactive?: boolean\n  styleHeight?: boolean\n  styleWidth?: boolean\n}\n/**\n * @parents Timeline\n */\nexport function TimelineScrubber(props: TimelineScrubber): ReactResult {\n  const editor = useEditor()\n  const clientXRef = React.useRef<number>(-1)\n  const ref = React.useRef<HTMLDivElement>(null)\n  const timelineContext = React.useContext(TimelineContext)\n  const { frames,scale, rect } = timelineContext\n  const { className, inactive, styleHeight, styleWidth, ...rest } = props\n\n  const getDisabled = () => !editor.selection.mash\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled())}\n  useListeners({ [EventType.Selection]: updateDisabled })\n  \n  const addHandlers = () => {\n    const { window } = globalThis\n\n    const removeWindowHandlers = () => {\n      window.removeEventListener('pointermove', pointerMove)\n      window.removeEventListener('pointerup', pointerUp)\n    }\n\n    const pointerMove = (event: MouseEvent) => {\n      eventStop(event)\n      \n      const { current } = ref\n      if (!(current && editor.selection.mash)) return\n\n      const { clientX } = event\n      if (clientXRef.current === clientX) return\n\n      clientXRef.current = clientX\n\n      const rect = current.getBoundingClientRect()\n      const pixel = Math.max(0, Math.min(rect.width, clientX - rect.x))\n      const frame = pixelToFrame(pixel, scale, 'floor')\n      editor.time = timeFromArgs(frame, editor.selection.mash!.quantize)\n    }\n\n    const pointerUp = (event: MouseEvent) => {\n      pointerMove(event)\n      removeWindowHandlers()\n    }   \n\n    const pointerDown = (event: MouseEvent) => {\n      event.stopPropagation()\n      clientXRef.current = -1\n      window.addEventListener('pointermove', pointerMove)\n      window.addEventListener('pointerup', pointerUp)\n      pointerMove(event)\n    }    \n    return pointerDown\n  }\n\n  const { width, height } = rect\n  const calculateViewProps = () => {\n    const classes: string[] = []\n    if (className) classes.push(className)\n    if (disabled) classes.push(ClassDisabled)\n    const viewProps: UnknownRecord = { \n      ...rest, ref, className: classes.join(' ')\n    }\n    if (styleWidth || styleHeight) {\n      const style: UnknownRecord = {}\n      if (styleHeight) style.minHeight = height\n      if (styleWidth) {\n        const width = pixelFromFrame(frames, scale, 'ceil')\n        style.minWidth = Math.max(width, width)\n      }\n      viewProps.style = style\n    }\n    if (!(inactive || disabled)) viewProps.onPointerDown = addHandlers()\n    \n    return viewProps\n  }\n\n  const viewProps = React.useMemo(calculateViewProps, [frames, scale, width, height, disabled])\n  return <View {...viewProps} />\n}\n", "import React from 'react'\nimport { ClassDropping, DroppingPosition, eventStop, EventType, SelectType } from '@moviemasher/moviemasher.js'\n\nimport { PropsWithChildren, ReactResult, WithClassName } from '../../declarations'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { View } from '../../Utilities/View'\nimport { TimelineContext } from './TimelineContext'\n\nexport interface TimelineContentProps extends PropsWithChildren, WithClassName {}\n/**\n * @parents Timeline\n * @children TimelineTracks, TimelineScrubber, TimelineSizer\n */\nexport function TimelineContent(props: TimelineContentProps): ReactResult {\n  const { className, ...rest } = props\n\n  const timelineContext = React.useContext(TimelineContext)\n\n  const { \n    dragTypeValid, onDrop: contextDrop,\n    setScroll, setDroppingClip, setDroppingTrack, setDroppingPosition \n  } = timelineContext\n  const ref = React.useRef<HTMLDivElement>(null)\n  const [over, setOver] = React.useState(false)\n\n  const editor = useEditor()\n  const resetScroll = () => { ref.current?.scrollTo(0, 0) }\n  useListeners({ [EventType.Loaded]: resetScroll })\n\n  const onPointerDown = () => { \n    editor.selection.unset(SelectType.Track) \n  }\n  \n  const onScroll = () => {\n    const { current } = ref\n    if (!current) return\n\n    const { scrollLeft: x, scrollTop: y } = current\n    setScroll({ x, y })\n  }\n\n  const onDragLeave = (event: DragEvent): void => {\n    eventStop(event)\n    setOver(false)\n  }\n\n\n  const onDrop = (event: DragEvent): void => {\n    onDragLeave(event)\n    contextDrop(event)\n  }\n\n  const onDragOver = (event: DragEvent) => {\n    eventStop(event)\n\n    const { dataTransfer } = event\n    if (!dataTransfer) return\n\n    const valid = dragTypeValid(dataTransfer)\n    const pos = valid ? DroppingPosition.At : DroppingPosition.None\n    setDroppingClip()\n    setDroppingTrack()\n    setDroppingPosition(pos)\n    setOver(valid)\n  }\n\n  const classes: string[] = []\n  if (className) classes.push(className)\n  if (over) classes.push(ClassDropping)\n\n\n  const viewProps = { \n    className: classes.join(' '),\n    ...rest, onPointerDown, onScroll, onDragOver, onDragLeave, onDrop, ref \n  }\n  return <View {...viewProps} />\n}\n", "import React from \"react\"\nimport { EventType, UnknownRecord } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\n\nexport interface TimelineAddTrackControlProps extends PropsAndChild, WithClassName {}\n\nexport function TimelineAddTrackControl(props:TimelineAddTrackControlProps): ReactResult {\n  const editor = useEditor()\n  const getDisabled = () => !editor.selection.mash\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled())}\n  useListeners({ [EventType.Selection]: updateDisabled })\n  \n  const { children, ...rest } = props\n  const cloneProps: UnknownRecord = { \n    ...rest, \n    disabled,\n  }\n  cloneProps.onClick = () => { editor.addTrack() }\n  return React.cloneElement(React.Children.only(children), cloneProps)\n}\n", "import React from \"react\"\nimport { ClassSelected, UnknownRecord } from \"@moviemasher/moviemasher.js\"\n\nimport {\n  PropsWithoutChild, ReactResult, WithClassName\n} from \"../../declarations\"\nimport { TimelineContext } from \"./TimelineContext\"\nimport { TrackContext } from \"../../Contexts/TrackContext\"\nimport { View } from \"../../Utilities/View\"\nimport { droppingPositionClass } from \"@moviemasher/client-core\"\n\nexport interface TimelineTrackIconProps extends PropsWithoutChild, WithClassName {\n  icons: UnknownRecord\n}\n/**\n * @parents TimelineTracks\n * @children TimelineTracks, TimelineScrubber, TimelineScrubberElement, TimelineSizer\n */\nexport function TimelineTrackIcon(props: TimelineTrackIconProps): ReactResult {\n  const { className: propsClassName, icons, ...rest } = props\n  const timelineContext = React.useContext(TimelineContext)\n  const trackContext = React.useContext(TrackContext)\n \n\n  const { droppingTrack, droppingPosition, selectedTrack } = timelineContext\n  const { track } = trackContext\n\n  const calculatedClassName = (): string => {\n    const classes: string[] = []\n    if (propsClassName) classes.push(propsClassName)\n    if (track === selectedTrack) classes.push(ClassSelected)\n    if (track === droppingTrack) classes.push(droppingPositionClass(droppingPosition))\n    return classes.join(' ')\n  }\n\n  const className = React.useMemo(\n    calculatedClassName, [droppingPosition, droppingTrack, selectedTrack]\n  )\n\n  if (!track) return null\n\n  const { dense, index } = track\n  \n  const children = dense ? icons.trackDense : icons.track\n\n  const viewProps = { \n    ...rest, className, children, key: `track-icon-${index}`\n  }\n  return <View {...viewProps} />\n}\n", "import React from 'react'\nimport { EventType } from '@moviemasher/moviemasher.js'\n\nimport { ReactResult, PropsAndChild, WithClassName } from \"../../declarations\"\nimport { TimelineContext } from './TimelineContext'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { useListeners } from '../../Hooks/useListeners'\n\nexport interface TimelineZoomProps extends PropsAndChild, WithClassName {\n  zoom: number\n}\n\n/**\n * @parents Timeline\n */\nexport function TimelineZoom(props: TimelineZoomProps): ReactResult {\n  const editor = useEditor()\n  const { zoom, children, ...rest } = props\n  const timelineContext = React.useContext(TimelineContext)\n  const getDisabled = () => !editor.selection.mash\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled())}\n  useListeners({ [EventType.Selection]: updateDisabled })\n\n  const onClick = () => { timelineContext.setZoom(zoom) }\n\n  const buttonOptions = { ...rest, onClick, disabled }\n\n  return React.cloneElement(React.Children.only(children), buttonOptions)\n}\n", "import React from \"react\"\nimport { assertPopulatedString, DefaultContentId, EditorIndex, EventType, UnknownRecord } from \"@moviemasher/moviemasher.js\"\n\nimport { PropsAndChild, ReactResult, WithClassName } from \"../../declarations\"\nimport { useEditor } from \"../../Hooks/useEditor\"\nimport { useListeners } from \"../../Hooks/useListeners\"\nimport { MasherContext } from \"../Masher/MasherContext\"\n\nexport interface TimelineAddClipControlProps extends PropsAndChild, WithClassName {}\n\nexport function TimelineAddClipControl(props:TimelineAddClipControlProps): ReactResult {\n  const editor = useEditor()\n  const editorContext = React.useContext(MasherContext)\n  const { current, drop } = editorContext\n  const getDisabled = () => !editor.selection.mash\n  const [disabled, setDisabled] = React.useState(getDisabled)\n  const updateDisabled = () => { setDisabled(getDisabled())}\n  useListeners({ [EventType.Selection]: updateDisabled })\n  \n  const { children, ...rest } = props\n  const cloneProps: UnknownRecord = { \n    ...rest, \n    disabled,\n  }\n  cloneProps.onClick = () => { \n    const { selection, mashMedia } = editor\n    const { clip, track } = selection\n    const id = current.mediaId || DefaultContentId\n    assertPopulatedString(id)\n    const object = { id }\n    const editorIndex: EditorIndex = {\n      clip: 0, track: -1\n    }\n    if (clip && track) {\n      editorIndex.clip = track.dense ? track.clips.indexOf(clip) : clip.endFrame\n      editorIndex.track = track.index\n    } else {\n      editorIndex.clip = editor.time.scale(mashMedia!.quantize).frame\n    }\n    drop(object, editorIndex)\n  }\n  return React.cloneElement(React.Children.only(children), cloneProps)\n}\n", "import React from 'react'\nimport { EventType } from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from '../../declarations'\nimport { PlayerContext, PlayerContextInterface } from './PlayerContext'\nimport { useListeners } from '../../Hooks/useListeners'\nimport { View } from '../../Utilities/View'\nimport { useEditor } from '../../Hooks/useEditor'\n\nexport interface PlayerProps extends PropsAndChildren, WithClassName {\n  disabled?: boolean\n}\n\n/**\n * @parents Masher\n * @children PlayerContent, PlayerPlaying, PlayerNotPlaying, PlayerTimeControl, PlayerTime, PlayerButton\n */\nexport function Player(props: PlayerProps): ReactResult {\n  const { disabled, ...rest } = props\n  const editor = useEditor()\n  const [paused, setPaused] = React.useState(editor.paused)\n  const [volume, setVolume] = React.useState(editor.volume)\n  const updatePaused = () => { setPaused(editor.paused) }\n  useListeners({\n    [EventType.Pause]: updatePaused, [EventType.Play]: updatePaused,\n    [EventType.Volume]: () => { setVolume(editor.volume) },\n  })\n\n  const changePaused = (value: boolean) => { editor.paused = value }\n  const changeVolume = (value: number) => { editor.volume = value }\n\n  const playerContext: PlayerContextInterface = {\n    paused, disabled, volume, changePaused, changeVolume,\n  }\n  const contextProps = {\n    value: playerContext, children: <View { ...rest } />\n  }\n  return (\n    <PlayerContext.Provider { ...contextProps } />\n  )\n}\n", "import React from 'react'\nimport {\n  Rect, RectZero, Clip, DroppingPosition, EventType, Track, pixelToFrame, Clips, \n  Point, eventStop, EditorIndex, isPositive, assertClip, \n  EffectType, isMediaObject\n} from '@moviemasher/moviemasher.js'\n\nimport { PropsAndChildren, ReactResult } from '../../declarations'\nimport { TimelineContext, TimelineContextInterface } from './TimelineContext'\nimport { useListeners } from '../../Hooks/useListeners'\nimport {\n  dragTypes, isDragOffsetObject, isDragDefinitionObject, isTransferType, \n  dragMediaType, TransferTypeFiles, dragData, pixelPerFrame\n} from '@moviemasher/client-core'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { MasherContext } from '../Masher/MasherContext'\nimport { View } from '../../Utilities/View'\n\n\n\nexport interface TimelineProps extends PropsAndChildren {}\nexport const TimelineDefaultZoom = 1.0\n/**\n * @parents Masher\n * @children TimelineContent, TimelineZoomer\n */\nexport function Timeline(props: TimelineProps): ReactResult {\n  const editor = useEditor()\n  const editorContext = React.useContext(MasherContext)\n  const { drop } = editorContext\n  const currentFrame = () => { return editor.selection.mash?.frame || 0 }\n  const currentFrames = () => { return editor.selection.mash?.frames || 0 }\n  const [frames, setFrames] = React.useState(currentFrames)\n  const [frame, setFrame] = React.useState(currentFrame)\n  const updateFrames = () => { setFrames(currentFrames()) }\n  const updateFrame = () => { setFrame(currentFrame()) }\n\n  const [droppingPosition, setDroppingPosition] = React.useState<DroppingPosition | number>(DroppingPosition.None)\n  const [droppingTrack, setDroppingTrack] = React.useState<Track | undefined>()\n  const [droppingClip, setDroppingClip] = React.useState<Clip | undefined>()\n  const [selectedTrack, setSelectedTrack] = React.useState<Track | undefined>()\n  const [refreshed, setRefreshed] = React.useState(0)\n  const [selectedClip, setSelectedClip] = React.useState<Clip | undefined>()\n  const [zoom, setZoom] = React.useState(TimelineDefaultZoom)\n  const [rect, setRect] = React.useState<Rect>(RectZero)\n  const [scroll, setScroll] = React.useState<Point>(RectZero)\n  const refresh = () => { setRefreshed(value => value + 1) }\n\n  useListeners({\n    [EventType.Loaded]: () => { setZoom(TimelineDefaultZoom) },\n    [EventType.Action]: refresh,\n    [EventType.Selection]: () => {\n      setSelectedClip(editor.selection.clip)\n      setSelectedTrack(editor.selection.track)\n    },\n    [EventType.Time]: updateFrame,\n    [EventType.Duration]: updateFrames,\n  })\n\n  const dragTypeValid = (dataTransfer: DataTransfer, clip?: Clip): boolean => {\n    const types = dragTypes(dataTransfer)\n    // any file can be dropped\n    if (types.includes(TransferTypeFiles)) return true\n\n    const type = types.find(isTransferType)\n    if (!type) return false\n\n    // anything can be dropped on a clip \n    if (clip || type.startsWith('clip')) return true\n\n    // effects can only be dropped on clips\n    const definitionType = dragMediaType(type)\n    return definitionType !== EffectType\n  }\n\n  const onDragLeave = (event: DragEvent) => {\n    eventStop(event)\n    setDroppingPosition(DroppingPosition.None)\n    setDroppingTrack(undefined)\n    setDroppingClip(undefined)\n  }\n\n  const frameToIndex = (frame: number, clips: Clips) => {\n    const { length } = clips\n    if (!length) return 0\n\n    const foundIndex = clips.findIndex(clip => frame < clip.frame + clip.frames)\n    if (foundIndex > -1) return foundIndex\n\n    return length\n  }\n\n  const dropIndex = (dense: boolean, clips: Clips) => {\n    if (!dense) return -1\n    if (!droppingClip) return 0\n\n    const clipIndex = clips.indexOf(droppingClip)\n    if (droppingPosition === DroppingPosition.After) return clipIndex + 1\n    return clipIndex\n  }\n\n  const onDrop = (event: DragEvent) => {\n    eventStop(event)\n    const { dataTransfer, clientX } = event \n    console.log(\"Timeline onDrop\", dataTransfer?.types)\n\n    if (!(dataTransfer && dragTypeValid(dataTransfer, droppingClip))) {\n      console.log(\"Timeline onDrop invalid\", dataTransfer?.types, !!droppingClip)\n      return\n    }\n    console.log(\"Timeline onDrop\", dataTransfer.types, droppingClip)\n\n    const types = dragTypes(dataTransfer)\n    const droppingFiles = types.includes(TransferTypeFiles)\n\n    const dense = !!droppingTrack?.dense\n    const index = droppingTrack ? droppingTrack.index : -1\n    const clips = droppingTrack?.clips || []\n\n    const data = droppingFiles ? {} : dragData(dataTransfer)\n    const draggingItem = !droppingFiles && isDragOffsetObject(data)\n    const offset = draggingItem ? data.offset : 0\n\n    let indexDrop = dropIndex(dense, clips)\n    if (!isPositive(indexDrop)) {\n      const offsetDrop = clientX - rect.x\n      const frame = pixelToFrame(Math.max(0, scroll.x + (offsetDrop - offset)), scale)\n      indexDrop = dense ? frameToIndex(frame, clips) : frame\n    }\n    const editorIndex: EditorIndex = { clip: indexDrop, track: index }\n\n    if (droppingFiles) {\n      drop(dataTransfer.files, editorIndex)\n    } else if (draggingItem) {\n      console.log(\"onDrop\", data)\n      if (isDragDefinitionObject(data)) {\n        const { mediaObject } = data\n        if (isMediaObject(mediaObject)) drop(mediaObject, editorIndex)\n        // console.log(\"Timeline onDrop definition\", definitionObject)\n        \n      } else {\n        const { clip } = editor.selection\n        assertClip(clip)\n        \n        // console.log(\"Timeline onDrop moving clip\", editorIndex, clip.content.definition.label)\n        editor.moveClip(clip, editorIndex)\n      }\n    } \n    onDragLeave(event)\n  }\n\n  const { width } = rect\n\n  const calculatedScale = (): number => {\n    const scale = width ? pixelPerFrame(frames, width, zoom) : 0\n    // console.log(\"calculatedScale\", scale, \"frames\", frames, \"width\", width, 'zoom', zoom)\n    return scale\n  }\n\n  const scale = React.useMemo(calculatedScale, [zoom, width, frames])\n\n  const timelineContext: TimelineContextInterface = {\n    scroll, setScroll,\n    scale, refreshed, refresh,\n    zoom, setZoom,\n    rect, setRect,\n    droppingTrack, setDroppingTrack,\n    droppingClip, setDroppingClip,\n    droppingPosition, setDroppingPosition,\n    onDragLeave, onDrop, dragTypeValid,\n    selectedClip, selectedTrack,\n    frame, frames, \n  }\n\n  const contextProps = {\n    children: <View {...props} />,\n    value: timelineContext\n  }\n  return <TimelineContext.Provider { ...contextProps } />\n}\n", "import React from 'react'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from '../../Utilities/View'\n\nexport interface PanelsProps extends PropsAndChildren, WithClassName {}\n\nexport function Panels(props: PanelsProps): ReactResult {\n  return <View { ...props } />\n}\n", "import { MediaType } from '@moviemasher/moviemasher.js'\nimport React from 'react'\n\nimport { PropsAndChildren, ReactResult } from '../../declarations'\nimport { useEditor } from '../../Hooks/useEditor'\nimport { propsMediaTypes } from '../../Utilities/Props'\n\nexport interface MashingProps extends PropsAndChildren {\n  type?: string\n  types?: string | string[]\n}\n\n/**\n * @parents Masher\n */\nexport function Mashing(props: MashingProps): ReactResult {\n  const { type, types, children } = props\n  const mediaTypes = propsMediaTypes(type, types)\n  const editor = useEditor()\n  return mediaTypes.includes(editor.editType as MediaType) ? <>{children}</> : null\n}\n", "import React from 'react'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from '../../Utilities/View'\n\nexport interface PanelContentProps extends PropsAndChildren, WithClassName { }\n\nexport function PanelContent(props: PanelContentProps): ReactResult {\n  const { children, className } = props\n  if (!children) return null\n  \n  const viewProps = { className, children }\n  return <View {...viewProps} />\n}\n\nexport type PanelContentElement = React.FunctionComponentElement<typeof PanelContent>\n", "import React from 'react'\n\nimport { PropsAndChildren, ReactResult, WithClassName } from \"../../declarations\"\nimport { View } from '../../Utilities/View'\n\nexport interface PanelHeadProps extends PropsAndChildren, WithClassName { }\n\nexport function PanelHead(props: PanelHeadProps): ReactResult {\n  const { children, className } = props\n  if (!children) return null\n  const viewProps = { className, children }\n  return <View {...viewProps} />\n}\n\nexport type PanelHeadElement = React.FunctionComponentElement<typeof PanelHead>\n", "\nexport const sessionGet = (key: string): string => {\n  return globalThis.window.sessionStorage.getItem(key) || ''\n}\n\nexport const sessionSet = (key: string, value: any) => {\n  globalThis.window.sessionStorage.setItem(key, String(value))\n}", "import React from \"react\"\nimport { PropsWithoutChild } from \"../declarations\"\n\n\nexport const VideoView = React.forwardRef<HTMLVideoElement, PropsWithoutChild>((props, ref) =>\n  <video { ...props } ref={ref} />\n)\n"],
  "mappings": "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",
  "names": ["React", "React", "ActivityGroup", "React", "React", "React", "React", "EmptyMethod", "React", "type", "activity", "React", "activity", "React", "React", "React", "React", "children", "React", "React", "React", "React", "labels", "label", "React", "assertTrue", "React", "assertTrue", "React", "assertTrue", "React", "assertTrue", "React", "isPopulatedString", "React", "isPopulatedString", "infos", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "React", "EmptyMethod", "React", "assertDefined", "EventType", "isEventType", "isPopulatedArray", "EventType", "React", "assertDefined", "isEventType", "isPopulatedArray", "types", "type", "React", "assertDefined", "React", "React", "React", "React", "assertDefined", "React", "React", "React", "React", "assertTrue", "React", "React", "assertTrue", "children", "React", "ClassSelected", "assertPopulatedString", "assertTrue", "isString", "string", "assertPopulatedString", "React", "ClassSelected", "assertTrue", "React", "ClassButton", "React", "React", "React", "assertTrue", "ClassSelected", "React", "React", "React", "assertTrue", "current", "ClassSelected", "React", "ClassButton", "React", "React", "DroppingPosition", "ClassSelected", "eventStop", "assertTrue", "sizeAboveZero", "EventType", "isAboveZero", "sizeCeil", "isEventType", "isObject", "DragSuffix", "React", "React", "EmptyMethod", "React", "React", "React", "assertTrue", "isAboveZero", "currentWidth", "isEventType", "EventType", "isObject", "sizeCeil", "eventStop", "DragSuffix", "DroppingPosition", "ClassSelected", "sizeAboveZero", "React", "React", "React", "EventType", "React", "EventType", "React", "MasherAction", "EventType", "React", "EventType", "MasherAction", "React", "EventType", "SelectType", "SelectType", "React", "EventType", "React", "MasherAction", "EventType", "React", "EventType", "MasherAction", "React", "EventType", "MasherAction", "MasherAction", "React", "EventType", "React", "MasherAction", "EventType", "assertMashMedia", "MasherAction", "React", "EventType", "assertMashMedia", "React", "Endpoints", "EventType", "MasherAction", "isEventType", "isSelectType", "assertObject", "isPopulatedString", "isPositive", "assertTrue", "React", "React", "EmptyMethod", "SelectType", "React", "MasherAction", "isEventType", "isSelectType", "assertObject", "isPopulatedString", "isPositive", "EventType", "Endpoints", "described", "object", "editedId", "editedLabel", "children", "assertTrue", "React", "assertMashMedia", "EventType", "React", "EventType", "assertMashMedia", "React", "React", "DataType", "React", "DataType", "React", "DataType", "React", "isMediaType", "assertPopulatedString", "ClassDropping", "DataType", "assertTrue", "eventStop", "assertDefined", "dragTypes", "TransferTypeFiles", "React", "assertTrue", "assertDefined", "assertPopulatedString", "children", "types", "dragTypes", "TransferTypeFiles", "isMediaType", "eventStop", "type", "ClassDropping", "DataType", "React", "assertTrue", "DataType", "React", "assertTrue", "DataType", "React", "DataType", "React", "DataType", "React", "DataType", "React", "value", "DataType", "React", "DataType", "isDefined", "React", "React", "isDefined", "value", "DataType", "React", "DataType", "isDefined", "React", "isDefined", "value", "DataType", "React", "DataType", "React", "DataType", "React", "DataType", "React", "DataType", "DataGroup", "DataGroup", "React", "assertSelectType", "ClassButton", "ClassSelected", "DataGroup", "React", "assertSelectType", "DataGroup", "ClassSelected", "ClassButton", "ClassDropping", "DataGroup", "assertPopulatedObject", "assertDefined", "React", "dropType", "React", "ClassSelected", "isPopulatedString", "DragSuffix", "React", "DragSuffix", "ClassSelected", "isPopulatedString", "React", "React", "isDefined", "isDefined", "React", "React", "ClassButton", "ClassSelected", "React", "React", "ClassButton", "ClassSelected", "assertPopulatedObject", "React", "ClassDropping", "dropType", "assertDefined", "DataGroup", "React", "assertSelectType", "assertTime", "ClassButton", "ClassSelected", "DataGroup", "selectedPropertyObject", "PropertyTweenSuffix", "assertTimeRange", "tweenInputTime", "React", "assertSelectType", "assertTimeRange", "assertTime", "DataGroup", "selectedPropertyObject", "PropertyTweenSuffix", "tweenInputTime", "ClassSelected", "ClassButton", "React", "assertSelectType", "assertTime", "ClassButton", "ClassSelected", "DataGroup", "selectedPropertyObject", "PropertyTweenSuffix", "assertTimeRange", "tweenInputTime", "React", "assertSelectType", "assertTimeRange", "assertTime", "DataGroup", "selectedPropertyObject", "PropertyTweenSuffix", "tweenInputTime", "ClassSelected", "ClassButton", "React", "selectedPropertiesScalarObject", "ClassButton", "ClassSelected", "DataGroup", "PropertyTweenSuffix", "selectedPropertyObject", "assertSelectType", "assertTime", "assertTimeRange", "tweenInputTime", "React", "assertSelectType", "assertTimeRange", "assertTime", "DataGroup", "selectedPropertyObject", "PropertyTweenSuffix", "selectedPropertiesScalarObject", "tweenInputTime", "ClassButton", "ClassSelected", "React", "assertSelectType", "ClassButton", "DataGroup", "selectedPropertyObject", "React", "assertSelectType", "selectedPropertyObject", "selectType", "ClassButton", "DataGroup", "React", "assertSelectType", "EventType", "SelectType", "assertTrue", "assertDataGroup", "isSelectedProperty", "isDefined", "PropertyTweenSuffix", "React", "SelectType", "assertSelectType", "isSelectedProperty", "PropertyTweenSuffix", "assertDataGroup", "isDefined", "EventType", "assertTrue", "React", "React", "React", "ClassButton", "SelectType", "React", "assertPopulatedArray", "React", "assertPopulatedArray", "React", "assertSelectType", "ClassSelected", "isPopulatedString", "assertSelectType", "React", "isPopulatedString", "ClassSelected", "React", "ClassButton", "SelectType", "assertObject", "Endpoints", "eventStop", "EventType", "idGenerate", "isClip", "isEffect", "isMediaObject", "React", "ActivityType", "ReadOperation", "React", "assertObject", "ReadOperation", "Endpoints", "editorIndex", "idGenerate", "ActivityType", "EventType", "isClip", "isEffect", "isMediaObject", "eventStop", "React", "VideoType", "React", "React", "EventType", "eventStop", "isMediaType", "ClassDropping", "sizeAboveZero", "assertObject", "SelectType", "EmptyMethod", "isMediaObject", "dragType", "dragTypes", "TransferTypeFiles", "React", "EmptyMethod", "React", "rect", "EmptyMethod", "sizeAboveZero", "EventType", "dragTypes", "TransferTypeFiles", "isMediaType", "dragType", "eventStop", "assertObject", "isMediaObject", "ClassDropping", "SelectType", "React", "React", "React", "EventType", "isArray", "timeFromArgs", "React", "EventType", "isArray", "timeFromArgs", "React", "React", "React", "React", "ClassButton", "React", "EventType", "React", "EventType", "React", "ClassButton", "React", "React", "pixelFromFrame", "React", "viewProps", "React", "assertTrue", "ClassSelected", "DroppingPosition", "eventStop", "droppingPositionClass", "React", "assertTrue", "ClassSelected", "droppingPositionClass", "children", "eventStop", "DroppingPosition", "React", "React", "React", "EventType", "isArray", "React", "EventType", "isArray", "React", "EventType", "React", "EventType", "React", "ClassDisabled", "eventStop", "EventType", "timeFromArgs", "pixelFromFrame", "React", "EventType", "window", "eventStop", "rect", "timeFromArgs", "ClassDisabled", "viewProps", "width", "pixelFromFrame", "React", "ClassDropping", "DroppingPosition", "eventStop", "EventType", "SelectType", "React", "EventType", "SelectType", "eventStop", "DroppingPosition", "ClassDropping", "React", "EventType", "React", "EventType", "React", "ClassSelected", "droppingPositionClass", "React", "ClassSelected", "React", "EventType", "React", "EventType", "React", "assertPopulatedString", "EventType", "React", "EventType", "assertPopulatedString", "React", "React", "EventType", "React", "EventType", "React", "RectZero", "DroppingPosition", "EventType", "pixelToFrame", "eventStop", "isPositive", "isMediaObject", "dragTypes", "TransferTypeFiles", "dragData", "React", "DroppingPosition", "RectZero", "EventType", "dragTypes", "TransferTypeFiles", "eventStop", "frame", "dragData", "isPositive", "pixelToFrame", "isMediaObject", "scale", "React", "React", "React", "VideoType", "React", "React", "React", "React", "React", "React", "React"]
}
