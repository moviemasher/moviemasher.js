/*! For license information please see main.f0abcf19.js.LICENSE.txt */
!function(){var e={7352:function(e,t,n){var r={"./client-core/esm/client-core.min.mjs":[6094,9,94],"./client-core/esm/client-core.min.mjs.map":[9215,1,215],"./client-core/esm/client-core.mjs":[827,9],"./client-core/esm/client-core.mjs.map":[4815,1,815],"./client-core/package.json":[3393,1,393],"./client-react/esm/client-react.js":[3015,9],"./client-react/esm/client-react.js.map":[9403,1,403],"./client-react/esm/client-react.min.js":[5045,9,45],"./client-react/esm/client-react.min.js.map":[4178,1,178],"./client-react/esm/client-react.min.mjs":[128,9,128],"./client-react/esm/client-react.min.mjs.map":[9811,1,811],"./client-react/esm/client-react.mjs":[7182,9,182],"./client-react/esm/client-react.mjs.map":[2253,1,253],"./client-react/package.json":[3546,1,546],"./moviemasher.js/esm/moviemasher.d.mts":[1770,1,770],"./moviemasher.js/esm/moviemasher.d.mts.map":[1153,1,153],"./moviemasher.js/esm/moviemasher.mjs":[2994,9],"./moviemasher.js/package.json":[1373,1,373],"./moviemasher.js/umd/moviemasher.js":[1982,3,982,24],"./moviemasher.js/umd/moviemasher.min.js":[3133,3,133,685],"./protocol-supabase/esm/protocol-supabase.d.mts":[2263,1,263],"./protocol-supabase/esm/protocol-supabase.d.mts.map":[2058,1,58],"./protocol-supabase/esm/protocol-supabase.mjs":[1617,9],"./protocol-supabase/package.json":[9397,1,397],"./theme-default/esm/theme-default.d.mts":[7526,1,526],"./theme-default/esm/theme-default.d.mts.map":[8665,1,665],"./theme-default/esm/theme-default.mjs":[5083,9],"./theme-default/esm/theme-default.mjs.map":[4779,1,779],"./theme-default/moviemasher.css":[8630,9],"./theme-default/package.json":[1890,1,890],"./theme-default/umd/theme-default.js":[1126,3,126],"./theme-default/umd/theme-default.min.js":[4523,3,523]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(i,16|t[1])}))}i.keys=function(){return Object.keys(r)},i.id=7352,e.exports=i},3015:function(e,t,n){"use strict";n.r(t),n.d(t,{Activity:function(){return xe},ActivityContent:function(){return Ee},ActivityContentContext:function(){return Ce},ActivityContentContextDefault:function(){return Se},ActivityContext:function(){return ye},ActivityContextDefault:function(){return ge},ActivityDefaultProps:function(){return De},ActivityGroup:function(){return he},ActivityGroups:function(){return pe},ActivityItem:function(){return Te},ActivityLabel:function(){return _e},ActivityPicked:function(){return Ie},ActivityPicker:function(){return Oe},ActivityProgress:function(){return je},Bar:function(){return Me},BooleanTypeInput:function(){return Vt},Browser:function(){return et},BrowserContent:function(){return rt},BrowserContext:function(){return Be},BrowserContextDefault:function(){return Ve},BrowserControl:function(){return ct},BrowserDefaultProps:function(){return dt},BrowserPicker:function(){return ut},Button:function(){return nn},ClipContext:function(){return pt},ClipContextDefault:function(){return ht},ClipItem:function(){return wt},ColorGroupInput:function(){return Yt},CreateEditedControl:function(){return xt},DataGroupInputs:function(){return Qt},DataTypeInputs:function(){return Lt},DefinitionContext:function(){return nt},DefinitionContextDefault:function(){return tt},DefinitionDrop:function(){return Bt},DefinitionItem:function(){return ft},DefinitionSelect:function(){return Ht},EditorRedoButton:function(){return St},EditorRemoveButton:function(){return Ct},EditorUndoButton:function(){return Et},EmptyElement:function(){return At},EncodeControl:function(){return Tt},IconTypeInput:function(){return Ut},InputContext:function(){return Dt},InputContextDefault:function(){return Nt},Inspector:function(){return fn},InspectorContent:function(){return dn},InspectorContext:function(){return jt},InspectorContextDefault:function(){return Ot},InspectorDefaultProps:function(){return vn},InspectorMovable:function(){return Xt},InspectorPicked:function(){return hn},InspectorPicker:function(){return pn},InspectorProperties:function(){return tn},InspectorProperty:function(){return en},Masher:function(){return gn},MasherContext:function(){return we},MasherContextDefault:function(){return ke},MasherDefaultProps:function(){return Un},Mashing:function(){return qn},MovablesGroupInput:function(){return rn},NumericTypeInput:function(){return qt},OpacityGroupInput:function(){return an},OptionGroupInput:function(){return cn},OptionTypeInput:function(){return Kt},Panel:function(){return ze},PanelContent:function(){return Wn},PanelFoot:function(){return Ae},PanelHead:function(){return Gn},Panels:function(){return Hn},PercentTypeInput:function(){return Gt},Player:function(){return Dn},PlayerButton:function(){return Zn},PlayerContent:function(){return wn},PlayerContext:function(){return bn},PlayerContextDefault:function(){return yn},PlayerDefaultProps:function(){return Tn},PlayerNotPlaying:function(){return Cn},PlayerPlaying:function(){return Sn},PlayerTime:function(){return En},PlayerTimeControl:function(){return xn},PointGroupInput:function(){return on},Problems:function(){return Pe},RgbTypeInput:function(){return $t},SaveControl:function(){return _t},SelectEditedControl:function(){return Mt},SizeGroupInput:function(){return sn},Slider:function(){return Wt},TextTypeInput:function(){return Jt},Timeline:function(){return Bn},TimelineAddClipControl:function(){return Ln},TimelineAddTrackControl:function(){return zn},TimelineContent:function(){return Fn},TimelineContext:function(){return yt},TimelineContextDefault:function(){return gt},TimelineDefaultProps:function(){return Nn},TimelineDefaultZoom:function(){return Vn},TimelineScrubber:function(){return Mn},TimelineScrubberElement:function(){return _n},TimelineSizer:function(){return In},TimelineTrack:function(){return Pn},TimelineTrackIcon:function(){return An},TimelineTracks:function(){return jn},TimelineZoom:function(){return Rn},TimelineZoomer:function(){return On},TrackContext:function(){return mt},TrackContextDefault:function(){return vt},TweenInputKey:function(){return Rt},VideoView:function(){return Kn},View:function(){return ae},ViewControl:function(){return Ft},activityLabel:function(){return de},assertActivityGroup:function(){return me},elementSetPreviewSize:function(){return mn},isActivityGroup:function(){return ve},labelInterpolate:function(){return fe},labelLookup:function(){return ce},labelObjects:function(){return ue},labelTranslate:function(){return le},labels:function(){return se},panelOptionsStrict:function(){return Fe},propsMediaTypes:function(){return at},propsSelectTypes:function(){return ot},sessionGet:function(){return $n},sessionSet:function(){return Jn},useApiDefinitions:function(){return Qe},useClient:function(){return We},useClip:function(){return Zt},useDefinition:function(){return lt},useEditor:function(){return Ge},useEditorActivity:function(){return Ze},useEditorDefinitions:function(){return qe},useListeners:function(){return bt},useRefresh:function(){return Xe}});var r,i,a,o=n(9142),u=n(4165),s=n(5861),c=n(4942),l=n(2982),f=n(885),d=n(4925),h=n(7762),p=n(1413),v=n(2791),m=n(2994),g=n(827),y=n(5083),b=["initialPicked","initialCollapsed","className"],k=["children"],w=["collapsed"],Z=["id","className","children"],x=["initialPicked"],S=["className","children"],C=["children","type","types","className","id"],E=["children"],T=["className","iconRatio"],_=["className"],P=["children"],I=["children"],O=["children","type"],j=["children"],M=["children"],F=["children"],z=["children"],A=["children"],R=["type","types","children","className"],L=["selectType","selectedItems"],N=["property","className","removeHandler","index","movable","selected","select"],D=["useView","selected"],V=["disabled","className"],B=["movableGenerator","selectedMovable","property"],H=["selectType","selectedItems"],U=["selectType","selectedItems"],q=["selectType","selectedItems"],W=["selectType","selectedItems","dataGroup"],G=["editType","clientOptions","previewSize","icons","mashMedia"],$=["previewSize"],J=["children","className"],K=["className","children"],Q=["className","inactive","styleHeight","styleWidth"],Y=["className"],X=["children"],ee=["className","icons"],te=["zoom","children"],ne=["children"],re=["disabled"],ie=["panels"],ae=v.forwardRef((function(e,t){return v.createElement("div",(0,p.Z)({ref:t},e))})),oe=/{{([a-z0-9_]*)}}/,ue={internal:"Internal Error",client:{internal:"Internal Client Error"},import:{bytes:"Size above {{value}}",extension:"Extension {{value}}",type:"Type {{value}}",size:"Dimensions {{value}}",duration:"Duration {{value}}",render:"{{value}}",displaySize:"{{width}}x{{height}}"}},se={audible:"Audible",clip:"Clip",update:"Save",delete:"Remove {{type}}",unlabeled:"Unlabeled {{type}}",analyze:"Analyzing...",load:"Loading...",complete:"Completed",create:"New",render:"Render",view:"View",open:"Open...",undo:"Undo",redo:"Redo",mash:"Mash"},ce=function(e){var t,n=ue,r=e.split("."),i=(0,h.Z)(r);try{for(i.s();!(t=i.n()).done;){var a=n[t.value];if((0,m.isString)(a))return a;n=a}}catch(o){i.e(o)}finally{i.f()}return""},le=function(e){return e.includes(".")?ce(e):se[e]||e},fe=function(e,t){var n=le(e),r=n.match(oe);return r?(r.forEach((function(e,r){if(r){var i="{{".concat(e,"}}"),a=le(t[e]);n=n.replace(i,a)}})),n):n},de=function(e){if(!(0,m.isObject)(e))return"";e.label;var t=e.error,n=e.type,r=e.value;return t?r?fe(t,{value:r}):le(t):le(n)},he=function(e){return e.Active="active",e.Error="error",e.Complete="complete",e}(he||{}),pe=Object.values(he),ve=function(e){return(0,m.isPopulatedString)(e)&&pe.includes(e)};function me(e,t){ve(e)||(0,m.errorThrow)(e,"ActivityGroup",t)}var ge={label:"",activities:[],allActivities:[],picked:"active",pick:m.EmptyMethod},ye=v.createContext(ge),be=v.createContext({collapsed:!1,changeCollapsed:function(){}}),ke={streaming:!1,setStreaming:m.EmptyMethod,current:{},changeDefinition:m.EmptyMethod,drop:function(){return Promise.resolve([])},editorIndex:{},icons:{}},we=v.createContext(ke),Ze=function(){var e=v.useContext(we).editor;(0,m.assertDefined)(e);var t=v.useRef([]),n=e.eventTarget,r=function(e){var n=e.type;if((0,m.isEventType)(n)&&e instanceof CustomEvent){var r=e.detail,i=r.id,a=r.type,o=t.current,u=o.find((function(e){return e.id===i})),s=u||{id:i,activityGroup:"active",infos:[]};s.infos.unshift(r),a===g.ActivityType.Complete?s.activityGroup="complete":a===g.ActivityType.Error&&(s.activityGroup="error"),u||o.unshift(s)}},i=v.useSyncExternalStore((function(e){return n.addEventListener(m.EventType.Active,e),function(){n.removeEventListener(m.EventType.Active,e)}}),(function(){return t.current})),a=function(){return n.addEventListener(m.EventType.Active,r),function(){n.removeEventListener(m.EventType.Active,r)}};return v.useEffect((function(){return a()}),[]),[e,i]};function xe(e){var t=e.initialPicked,n=void 0===t?"active":t,r=e.initialCollapsed,i=void 0!==r&&r,a=e.className,o=(0,d.Z)(e,b);me(n);var u=v.useState(i),s=(0,f.Z)(u,2),c=s[0],l=s[1],h=v.useState(""),g=(0,f.Z)(h,2),y=g[0],k=(g[1],Ze()),w=(0,f.Z)(k,2),Z=(w[0],w[1]),x=v.useState(n),S=(0,f.Z)(x,2),C=S[0],E=S[1],T={activities:v.useMemo((function(){return Z.filter((function(e){return e.activityGroup===C}))}),[C,Z.length]),allActivities:Z,picked:C,pick:E,label:y},_={collapsed:c,changeCollapsed:l},P=[];a&&P.push(a),c&&P.push(m.ClassCollapsed);var I=(0,p.Z)((0,p.Z)({},o),{},{className:P.join(" ")});return v.createElement(ye.Provider,{value:T},v.createElement(be.Provider,{value:_},v.createElement(ae,(0,p.Z)({},I))))}var Se={infos:[],activityGroup:"active",id:""},Ce=v.createContext(Se);function Ee(e){var t=v.useContext(ye),n=v.useContext(be).collapsed,r=t.activities;if(n)return null;var i=e.children,a=(0,d.Z)(e,k),o=v.Children.only(i);(0,m.assertTrue)(v.isValidElement(o));var u=r.map((function(e){var t={children:v.cloneElement(o),value:e,key:e.id};return v.createElement(Ce.Provider,(0,p.Z)({},t))})),s=(0,p.Z)((0,p.Z)({},a),{},{children:u});return v.createElement(ae,(0,p.Z)({},s))}function Te(e){var t=e.collapsed,n=(0,d.Z)(e,w),r=v.useState(!!t),i=(0,f.Z)(r,2),a={collapsed:i[0],changeCollapsed:i[1]};return v.createElement(be.Provider,{value:a},v.createElement(ae,(0,p.Z)({},n)))}function _e(e){var t=v.useContext(be).collapsed,n=v.useContext(Ce).infos,r=(0,f.Z)(n,1)[0],i=(n.find((function(e){return e.label}))||{label:""}).label||r.type,a=(0,p.Z)({},e);if(t)a.children=i;else{var o=[i].concat((0,l.Z)(n.map((function(e){return de(e)}))));a.children=o.map((function(e,t){return v.createElement(ae,{key:t,children:e})}))}return v.createElement(ae,(0,p.Z)({},a))}var Pe={child:"single child element expected"};function Ie(e){var t=v.useContext(ye),n=e.id,r=e.children;if(me(n),n!==t.picked)return null;var i=v.Children.only(r);return(0,m.assertTrue)(v.isValidElement(i),Pe.child),i}function Oe(e){var t=e.id,n=e.className,r=e.children,i=(0,d.Z)(e,Z);me(t);var a=v.Children.only(r);(0,m.assertTrue)(v.isValidElement(a),Pe.child);var o=v.useContext(ye),u=o.picked,s=o.pick,c=[];n&&c.push(n),t===u&&c.push(m.ClassSelected);var l=(0,p.Z)((0,p.Z)({},i),{},{className:c.join(" "),key:"activity-picker-".concat(t),onClick:function(){return s(t)}});return v.cloneElement(a,l)}function je(e){var t=v.useContext(ye),n=v.useContext(Ce),r=n.infos,i=(n.id,[]),a=0,o=0;if((0,m.isPopulatedArray)(r)){var u=(0,f.Z)(r,1)[0],s=u.step,c=u.steps;(0,m.isPositive)(s)&&(0,m.isAboveZero)(c)&&(o=s,a=c)}else{var l=t.allActivities,d=t.label;(0,m.isPopulatedString)(d)&&i.push(v.createElement("label",{key:"label"},d));var h=l.filter((function(e){return"active"===e.activityGroup}));h.length&&h.forEach((function(e){var t=e.infos,n=(0,f.Z)(t,1)[0];(0,m.assertObject)(n,"info");var r=n.step,i=n.steps;(0,m.isPositive)(i)&&(a+=i),(0,m.isPositive)(r)&&(o+=r)}))}if(a){var g=o/a,y={value:g,max:1,children:"".concat(Math.round(100*g),"%"),key:"progress"};i.push(v.createElement("progress",(0,p.Z)({},y)))}var b=(0,p.Z)((0,p.Z)({},e),{},{key:"activity-progress",children:i});return v.createElement(ae,(0,p.Z)({},b))}function Me(e){var t=e.before,n=e.content,r=e.after,i=e.props,a=void 0===i?{}:i;if(!(t||n||r))return null;var o=[t,n,r].filter(Boolean);return a.children=o,v.createElement(ae,(0,p.Z)({},a))}var Fe=function(e){var t,n,r,i,a,o,u,s,c;return e.header||(e.header={}),(t=e.header).props||(t.props={}),(n=e.header.props).key||(n.key="header"),(r=e.header.props).className||(r.className="head"),e.content||(e.content={}),(i=e.content).props||(i.props={}),(a=e.content.props).key||(a.key="content"),(o=e.content.props).className||(o.className="content"),e.footer||(e.footer={}),(u=e.footer).props||(u.props={}),(s=e.footer.props).key||(s.key="footer"),(c=e.footer.props).className||(c.className="foot"),e.props||(e.props={}),(0,m.assertPopulatedObject)(e.icons),e};function ze(e){var t=e.children,n=e.className,r=e.collapsed,i=v.useState(!!r),a=(0,f.Z)(i,2),o=a[0],u=a[1],s=[];n&&s.push(n),o&&s.push("collapsed");var c={children:t,className:s.join(" ")},l={collapsed:o,changeCollapsed:u};return v.createElement(be.Provider,{value:l},v.createElement(ae,(0,p.Z)({},c)))}function Ae(e){if(v.useContext(be).collapsed)return null;var t=e.before,n=e.content,r=e.after,i=e.props,a=void 0===i?{}:i;if(!(t||n||r))return null;var o=[t,n,r].filter(Boolean);return a.children=o,v.createElement(ae,(0,p.Z)({},a))}function Re(e){var t=v.useContext(be),n=t.collapsed,r=t.changeCollapsed,i=(0,p.Z)((0,p.Z)({},e),{},{onClick:function(){r(!n)}});return v.createElement(ae,(0,p.Z)({},i))}function Le(e){return v.useContext(be).collapsed?null:v.createElement(v.Fragment,null,e.children)}function Ne(e){return v.useContext(be).collapsed?v.createElement(v.Fragment,null,e.children):null}var De=function(){var e,t,n,r,i,a,o=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),u=o.icons;(e=o.props).key||(e.key="activity"),(t=o.props).className||(t.className="panel activity"),(n=o.props).initialPicked||(n.initialPicked="active"),(0,m.isUndefined)(o.props.initialCollapsed)&&(o.props.initialCollapsed=!0),(r=o.header).content||(r.content=[v.createElement(ae,{key:"panel-icon",children:u.activity}),v.createElement(Le,{key:"not-collapsed"},v.createElement(ae,{key:"view"})),v.createElement(Ne,{key:"collapsed"},v.createElement(je,{key:"progress",className:"progress"})),v.createElement(Re,{key:"collapse-control"},v.createElement(Le,{key:"not-collapsed",children:u.collapse}),v.createElement(Ne,{key:"collapsed",children:u.collapsed}))]),(i=o.content).children||(i.children=v.createElement(Te,{className:"item",collapsed:!0},v.createElement(Re,{key:"collapse-control"},v.createElement(Le,{key:"not-collapsed",children:u.collapse}),v.createElement(Ne,{key:"collapsed",children:u.collapsed})),v.createElement(_e,{key:"label",className:"label"}),v.createElement(Ie,{key:"active",id:"active"},v.createElement(je,{key:"progress"})),v.createElement(Ie,{key:"error",id:"error",children:u.error}),v.createElement(Ie,{key:"complete",id:"complete",children:u.complete}))),(a=o.footer).content||(a.content=[v.createElement(Oe,{key:"active",id:"active",className:m.ClassButton,children:u.active}),v.createElement(Oe,{key:"error",id:"error",className:m.ClassButton,children:u.error}),v.createElement(Oe,{key:"complete",id:"complete",className:m.ClassButton,children:u.complete})]);var s=v.createElement(v.Fragment,null,v.createElement(Me,(0,p.Z)({},o.header)),v.createElement(Ee,(0,p.Z)({},o.content.props),o.content.children),v.createElement(Ae,(0,p.Z)({},o.footer)));return(0,p.Z)((0,p.Z)({},o.props),{},{children:s})},Ve={addPicker:m.EmptyMethod,refresh:m.EmptyMethod,definitions:[],pick:m.EmptyMethod,picked:"",removePicker:m.EmptyMethod},Be=v.createContext(Ve),He=m.EventType.Added,Ue=m.EventType.Resize,qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=v.useContext(we).editor;(0,m.assertDefined)(t);var n=t.media,r=v.useRef({}),i=t.eventTarget,a=function(e){var t=e.type;if((0,m.isEventType)(t)&&e instanceof CustomEvent){var n=e.detail.definitionTypes;if((0,m.isPopulatedArray)(n)){var i=n,a=r.current;Object.keys(a).filter((function(e){return i.some((function(t){return e.includes(t)}))})).forEach((function(e){return delete a[e]}))}}},o=v.useSyncExternalStore((function(e){return i.addEventListener(He,e),i.addEventListener(Ue,e),function(){i.removeEventListener(He,e),i.removeEventListener(Ue,e)}}),(function(){var t,i=e.join("-")||"empty";return(t=r.current)[i]||(t[i]=function(){var t=e.map((function(e){return n.byType(e)}));return 1===t.length?t[0]:t.flat()}())})),u=function(){return i.addEventListener(He,a),function(){i.removeEventListener(He,a)}};return v.useEffect((function(){return u()}),[]),o},We=function(){return v.useContext(we).client},Ge=function(){return v.useContext(we).editor},$e="api-definitions",Je="disabled",Ke="empty",Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=We();if(!t.enabled(g.ReadOperation))return[];var n=Ge();(0,m.assertDefined)(n);var r=v.useRef({}),i=n.eventTarget,a=function(n){switch(n){case Ke:case Je:break;default:!function(n){var a={type:e};t.list(a).then((function(e){console.debug("DataDefinitionRetrieveResponse",m.Endpoints.data.definition.retrieve,e),e.error;var t=e.data;if(t){var a=r.current[n];a.push.apply(a,(0,l.Z)(t)),i.dispatchEvent(new CustomEvent($e))}}))}(n)}return[]};return v.useSyncExternalStore((function(e){return i.addEventListener($e,e),function(){i.removeEventListener($e,e)}}),(function(){var t=e.length?e.join("-"):Ke,n=r.current[t];return n||(r.current[t]=a(t))}))},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=qe(e),n=Qe(e).filter((function(e){return!t.some((function(t){return t.id===e.id}))}));return[].concat((0,l.Z)(t),(0,l.Z)(n))},Xe=function(){var e=v.useState(0),t=(0,f.Z)(e,2),n=t[0],r=t[1];return[function(){r((new Date).valueOf())},n]};function et(e){var t=e.initialPicked,n=void 0===t?"container":t,r=(0,d.Z)(e,x),i=v.useState({}),a=(0,f.Z)(i,2),o=a[0],u=a[1],s=v.useContext(we).changeDefinition,l=Xe(),h=(0,f.Z)(l,1)[0],g=v.useState(n),y=(0,f.Z)(g,2),b=y[0],k=y[1],w={value:{refresh:h,definitions:Ye(o[b]),picked:b,pick:function(e){(0,m.assertPopulatedString)(e),s(),k(e)},addPicker:function(e,t){u((function(n){return(0,p.Z)((0,p.Z)({},n),{},(0,c.Z)({},e,t))}))},removePicker:function(e){u((function(t){return(0,p.Z)((0,p.Z)({},t),{},(0,c.Z)({},e,[]))}))}},children:v.createElement(ae,(0,p.Z)({},r))};return v.createElement(Be.Provider,(0,p.Z)({},w))}var tt={},nt=v.createContext(tt);function rt(e){var t=v.useState(!1),n=(0,f.Z)(t,2),r=n[0],i=n[1],a=e.className,o=e.children,u=(0,d.Z)(e,S),s=v.useContext(we),c=v.useContext(Be).definitions||[],l=s.drop,h=function(e){return!!e&&(0,g.dragTypes)(e).includes(g.TransferTypeFiles)},y=function(e){(0,m.eventStop)(e),i(!1)},b=[];a&&b.push(a),r&&b.push(m.ClassDropping);var k=v.Children.only(o);(0,m.assertTrue)(v.isValidElement(k));var w=(0,p.Z)((0,p.Z)({},u),{},{className:b.join(" "),key:"browser-content",children:function(){var e=k.props;return c.map((function(t){var n=(0,p.Z)((0,p.Z)({},e),{},{key:t.id}),r={children:v.cloneElement(k,n),value:{definition:t},key:t.id};return v.createElement(nt.Provider,(0,p.Z)({},r))}))}(),onDrop:function(e){y(e);var t=e.dataTransfer;h(t)&&l(t.files)},onDragOver:function(e){(0,m.eventStop)(e),i(h(e.dataTransfer))},onDragLeave:y});return v.createElement(ae,(0,p.Z)({},w))}var it=function(e,t,n){return e?[e]:t?(0,m.isString)(t)?t.split(",").map((function(e){return e.trim()})):t:n?n.map((function(e){return e.name})):[]},at=function(e,t,n){var r=it(e,t);return n&&!r.length&&r.push(n),r.filter((function(e){return(0,m.isMediaType)(e)})).map((function(e){return e}))},ot=function(e,t,n){var r=it(e,t);return n&&!r.length&&r.push(n),r.filter((function(e){return(0,m.isSelectType)(e)})).map((function(e){return e}))};function ut(e){var t=e.children,n=e.type,r=e.types,i=e.className,a=e.id,o=(0,d.Z)(e,C);(0,m.assertPopulatedString)(a);var u=v.useContext(Be),s=u.pick,c=u.picked,l=u.addPicker,f=u.removePicker,h=[];i&&h.push(i),c===a&&h.push(m.ClassSelected),v.useEffect((function(){return l(a,at(n,r,a)),function(){f(a)}}),[]);var g=(0,p.Z)((0,p.Z)({},o),{},{className:h.join(" "),key:"browser-picker-".concat(a),onClick:function(){s(a)}}),y=v.Children.only(t);return(0,m.assertTrue)(v.isValidElement(y),Pe.child),v.cloneElement(y,g)}var st="upload-control-id";function ct(e){var t=e.children,n=(0,d.Z)(e,E),r=v.useRef(null),i=We(),a=v.useContext(we).drop,o=i.accept(),u=(0,p.Z)({accept:o,multiple:!0,id:st,onChange:function(e){var t=e.currentTarget.files;t&&a(t)},type:"file",key:"browser-control-input",ref:r},n),s=v.createElement("input",(0,p.Z)({},u));if(!v.isValidElement(t))return s;var c={children:[v.Children.only(t),s],key:"browser-control",htmlFor:st};return v.createElement("label",(0,p.Z)({},c))}var lt=function(){return v.useContext(nt).definition};function ft(e){var t=e.className,n=e.iconRatio,r=(0,d.Z)(e,T),i=n||.25,a=v.useRef(null),o=v.useRef(null),c=v.useContext(Be).refresh,l=v.useContext(we),f=l.editor,h=l.changeDefinition,y=l.current;(0,m.assertTrue)(f);var b=lt(),k=b.id,w=b.label,Z=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.rect,(n=a.current)&&(0,m.sizeAboveZero)(t)){e.next=4;break}return e.abrupt("return");case 4:return r=(0,m.sizeCeil)((0,m.sizeScale)((0,m.sizeCopy)(t),i,i)),e.next=7,b.definitionIcon(r);case 7:(o=e.sent)&&n.replaceChildren(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v.useEffect((function(){Z()}),[]),a.current&&Z();var x=function(e){e.stopPropagation(),h(b),c()},S=(0,p.Z)((0,p.Z)({},r),{},{className:t,children:function(){var e=[v.createElement(ae,{key:"icon",ref:a})];return w&&e.unshift(v.createElement("label",{key:"label"},w)),e}(),ref:o,key:k});return e.draggable&&(S.onDragStart=function(e){x(e);var t=o.current.getBoundingClientRect().left,n={offset:e.clientX-t,mediaObject:b.toJSON()},r=JSON.stringify(n),i=e.dataTransfer;i&&(i.effectAllowed="copy",i.setData(b.type+g.DragSuffix,r))},S.onPointerDown=x,S.className=function(){var e=[];return t&&e.push(t),y.mediaId===k&&e.push(m.ClassSelected),e.join(" ")}()),v.createElement(ae,(0,p.Z)({},S))}var dt=function(){var e,t,n,r,i,a,o,u,s=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),c=s.icons;(e=s.props).key||(e.key="browser"),(t=s.props).className||(t.className="panel browser"),(n=s.props).initialPicked||(n.initialPicked="container"),(r=s.header).content||(r.content=[v.createElement(ae,{key:"panel-icon",children:c.browser})]),(i=s.footer).content||(i.content=[v.createElement(ut,{key:"effect",id:"effect",className:m.ClassButton,children:c.effect}),v.createElement(ut,{key:"container",id:"container",className:m.ClassButton,children:c.container}),v.createElement(ut,{key:"content",id:"content",className:m.ClassButton,children:c.content})]),(a=s.footer).before||(a.before=[v.createElement(ut,{key:"video",id:"video",types:"video,videosequence",className:m.ClassButton,children:c.browserVideo}),v.createElement(ut,{key:"audio",id:"audio",className:m.ClassButton,children:c.browserAudio}),v.createElement(ut,{key:"image",id:"image",className:m.ClassButton,children:c.browserImage}),v.createElement(ut,{key:"font",id:"font",className:m.ClassButton,children:c.browserText})]),(o=s.footer).after||(o.after=[v.createElement(ct,{key:"import",children:c.import})]),(u=s.content).children||(u.children=v.createElement(ft,{draggable:!0,className:"definition preview"}));var l=v.createElement(v.Fragment,null,v.createElement(Me,(0,p.Z)({},s.header)),v.createElement(rt,(0,p.Z)({},s.content.props),s.content.children),v.createElement(Me,(0,p.Z)({},s.footer)));return(0,p.Z)((0,p.Z)({},s.props),{},{children:l})},ht={prevClipEnd:0},pt=v.createContext(ht),vt={},mt=v.createContext(vt),gt={dragTypeValid:function(){return!1},frame:0,frames:0,onDragLeave:m.EmptyMethod,onDrop:m.EmptyMethod,rect:m.RectZero,refreshed:0,refresh:m.EmptyMethod,scale:0,scroll:{x:0,y:0},setDroppingClip:m.EmptyMethod,setDroppingPosition:m.EmptyMethod,setDroppingTrack:m.EmptyMethod,setRect:m.EmptyMethod,setScroll:m.EmptyMethod,setZoom:m.EmptyMethod,zoom:1},yt=v.createContext(gt),bt=function(e){var t=Ge().eventTarget,n=function(t){var n=t.type,r=e[n];r&&r(t)},r=function(){return Object.keys(e).forEach((function(e){t.addEventListener(e,n)})),function(){Object.keys(e).forEach((function(e){t.removeEventListener(e,n)}))}};v.useEffect((function(){return r()}),[])},kt=500;function wt(e){var t,n=e.className,r=(0,d.Z)(e,_),i=v.useRef(null),a=v.useRef(null),o=Ge(),u=v.useContext(mt),s=v.useContext(yt),l=Xe(),h=(0,f.Z)(l,2),y=h[0],b=h[1],k=v.useRef({}).current,w=v.useContext(pt),Z=s.droppingPosition,x=s.droppingClip,S=s.scale,C=s.selectedClip,E=s.onDrop,T=s.dragTypeValid,P=s.setDroppingPosition,I=s.setDroppingClip,O=s.setDroppingTrack,j=s.onDragLeave,M=u.track,F=w.clip,z=w.prevClipEnd;(0,m.assertTrue)(F);var A=function(){var e=i.current,t=null===e||void 0===e?void 0:e.parentNode;return t instanceof HTMLDivElement?t.offsetHeight:0},R=v.useState(A),L=(0,f.Z)(R,2),N=L[0],D=L[1],V=F.label,B=F.frame,H=F.frames,U=function(){if(!(0,m.isAboveZero)(S)||!(0,m.isAboveZero)(H))return 0;var e=(0,g.pixelFromFrame)(H,S,"floor"),t=k.width;return e&&e!==t&&(k.width=e,y()),e},q=U();bt((t={},(0,c.Z)(t,m.EventType.Action,(function(e){if(!k.redraw){var t=e.type;if((0,m.isEventType)(t)&&e instanceof CustomEvent&&t===m.EventType.Action){var n=e.detail;if(n){var r=n.action;if(r){var i=r.target;if((0,m.isObject)(i)){switch(i){case F:case F.container:case F.content:break;default:if("color"===r.property)break;return}y()}}}}}})),(0,c.Z)(t,m.EventType.Save,y),t));var W=function(){var e=k.width,t=k.redraw;delete k.timeout,delete k.redraw;var n=i.current,r=o.mashMedia,a=n&&r&&e&&e===U();if((t||!a)&&(y(),!a))return Promise.resolve();var u=function(){var e=o.rect,t={width:N*(e.width/e.height),height:N};return(0,m.sizeCeil)(t)}(),c=function(e){var t=e.width,n=e.height;return{width:Math.max(t,q),height:n}}(u),l=F.clipIcon(c,s.scale,2);return l?l.then((function(t){var i=U();t&&e>=i&&n.replaceChildren(function(e,t,n){var r=(0,m.colorToRgb)(e),i=(0,m.colorRgbDifference)(r),a=(0,m.colorFromRgb)(i),o=(0,m.svgPolygonElement)(t,"",e),u={x:t.width,y:0,width:n,height:t.height},c=(0,m.svgPolygonElement)(u,"",a),l={width:t.width+n,height:t.height},f=(0,m.idGenerate)("pattern"),d=[o,c],h=(0,m.svgPatternElement)(l,f,d),p=(0,m.svgDefsElement)([h]),v={width:s.rect.width,height:N},g=(0,m.svgPolygonElement)(v,"",(0,m.svgUrl)(f));return(0,m.svgSvgElement)(v,[p,g])}(r.color,u,2),t)})):Promise.resolve()};v.useEffect((function(){if(!N)return D(A);var e=i.current,t=o.mashMedia;e&&t&&(k.timeout?k.redraw||(k.redraw=!0):k.timeout=setTimeout(W,kt))}),[b,S,N]);var G=function(e){e.stopPropagation(),o.selection.set(F)},$={width:q};z>-1&&($.marginLeft=(0,g.pixelFromFrame)(B-z,S,"floor"));var J=(0,p.Z)((0,p.Z)({},r),{},{style:$,className:function(){var e=F===C,t=[];return n&&t.push(n),e&&t.push(m.ClassSelected),x===F&&t.push((0,g.droppingPositionClass)(Z)),t.join(" ")}(),onPointerDown:G,onDragStart:function(e){G(e);var t=e.dataTransfer,n=e.clientX,r=a.current;if(t&&r){var i={offset:n-r.getBoundingClientRect().left},o=JSON.stringify(i);t.effectAllowed="move",t.setData("clip"+g.DragSuffix,o)}},onDragEnd:function(e){(0,m.eventStop)(e);var t=e.dataTransfer;t&&("none"===t.dropEffect&&o.removeClip(F))},onDragOver:function(e){(0,m.eventStop)(e);var t=e.dataTransfer;if(t){var n=T(t,F),r=n?m.DroppingPosition.At:m.DroppingPosition.None;O(n?M:void 0),I(n?F:void 0),P(r)}},onDragLeave:j,onDrop:E,onClick:function(e){return e.stopPropagation()},draggable:!0,ref:a,children:function(){var e={key:"clip-previews",ref:i},t={width:q,height:N};if((0,m.sizeAboveZero)(t)){var n=t.width,r=t.height;e.width=n,e.height=r,e.viewBox="0 0 ".concat(n," ").concat(r)}var a=[v.createElement("svg",(0,p.Z)({},e))];return V&&a.unshift(v.createElement("label",{key:"label"},V)),a}()});return v.createElement(ae,(0,p.Z)({},J))}var Zt=function(){return v.useContext(pt).clip};function xt(e){var t,n=e.children,r=(0,d.Z)(e,P),i=Ge(),a=function(){return i.can(m.MasherAction.Save)},o=v.useState(a),u=(0,f.Z)(o,2),s=u[0],l=u[1],h=function(){l(a())};bt((t={},(0,c.Z)(t,m.EventType.Action,h),(0,c.Z)(t,m.EventType.Loaded,h),(0,c.Z)(t,m.EventType.Save,h),t));var g=(0,p.Z)((0,p.Z)({},r),{},{onClick:function(){s||i.create()},disabled:s});return v.cloneElement(v.Children.only(n),g)}function St(e){var t=v.useState(!0),n=(0,f.Z)(t,2),r=n[0],i=n[1],a=Ge();bt((0,c.Z)({},m.EventType.Action,(function(){i(!a.can(m.MasherAction.Redo))})));var o=e.children,u=(0,d.Z)(e,I),s=(0,p.Z)((0,p.Z)({},u),{},{onClick:function(){a.redo()},disabled:r});return v.cloneElement(v.Children.only(o),s)}function Ct(e){var t=e.children,n=e.type,r=(0,d.Z)(e,O),i=n||m.SelectType.Clip;(0,m.assertSelectType)(i);var a=Ge(),o=v.useState(!a.selection[i]),u=(0,f.Z)(o,2),s=u[0],l=u[1];bt((0,c.Z)({},m.EventType.Selection,(function(){l(!a.selection[i])})));var h=v.Children.only(t),g=(0,p.Z)((0,p.Z)((0,p.Z)({},r),h.props),{},{onClick:function(){if(!s){var e=a.selection[i];(0,m.isEffect)(e)?a.removeEffect(e):(0,m.isClip)(e)?a.removeClip(e):(0,m.isTrack)(e)&&a.removeTrack(e)}},disabled:s});return v.cloneElement(h,g)}function Et(e){var t=Ge(),n=v.useState(!0),r=(0,f.Z)(n,2),i=r[0],a=r[1];bt((0,c.Z)({},m.EventType.Action,(function(){a(!t.can(m.MasherAction.Undo))})));var o=e.children,u=(0,d.Z)(e,j),s=(0,p.Z)((0,p.Z)({},u),{},{onClick:function(){t.undo()},disabled:i});return v.cloneElement(v.Children.only(o),s)}function Tt(e){var t,n=We(),r=e.children,i=(0,d.Z)(e,M),a=Ge(),o=function(){return!a.can(m.MasherAction.Render)},u=v.useState(o),s=(0,f.Z)(u,2),l=s[0],h=s[1],y=function(){return h(o())};if(bt((t={},(0,c.Z)(t,m.EventType.Save,y),(0,c.Z)(t,m.EventType.Loaded,y),(0,c.Z)(t,m.EventType.Action,y),t)),!n.enabled(g.EncodeOperation))return null;var b=(0,p.Z)((0,p.Z)({},i),{},{onClick:function(){if(!l){var e=a.mashMedia;(0,m.assertMashMedia)(e),h(!0),n.encode(e)}},disabled:l});return v.cloneElement(v.Children.only(r),b)}function _t(e){var t,n=Ge(),r=We(),i=function(){return!n.can(m.MasherAction.Save)},a=v.useState(i),o=(0,f.Z)(a,2),u=o[0],s=o[1],l=function(){s(i())};if(bt((t={},(0,c.Z)(t,m.EventType.Action,l),(0,c.Z)(t,m.EventType.Save,l),t)),!r.enabled(g.WriteOperation))return null;var h=e.children,y=(0,d.Z)(e,F),b=(0,p.Z)((0,p.Z)({},y),{},{onClick:function(){if(!u){s(!0);var e=n.mashMedia;(0,m.assertMashMedia)(e),r.save(e)}},disabled:u});return v.cloneElement(v.Children.only(h),b)}var Pt={enabled:!1,servers:{},endpointPromise:function(){return Promise.resolve({})}},It=v.createContext(Pt),Ot={actionCount:0,selectedInfo:{tweenDefined:{},tweenSelected:{},selectedType:m.SelectType.None,selectTypes:[]},selectedItems:[],changeSelected:m.EmptyMethod,changeTweening:m.EmptyMethod},jt=v.createContext(Ot);function Mt(e){var t,n,r,i=Ge(),a=v.useState(!1),o=(0,f.Z)(a,2),u=o[0],s=o[1],h=v.useState((function(){return[]})),g=(0,f.Z)(h,2),y=g[0],b=g[1],k=v.useState((null===(t=i.mashMedia)||void 0===t?void 0:t.id)||""),w=(0,f.Z)(k,2),Z=w[0],x=w[1],S=v.useContext(It),C=v.useContext(jt).selectedInfo.selectedType,E=v.useState((null===(n=i.mashMedia)||void 0===n?void 0:n.label)||""),T=(0,f.Z)(E,2),_=T[0],P=T[1],I=function(){return i.can(m.MasherAction.Save)},O=v.useState(I),j=(0,f.Z)(O,2),M=j[0],F=j[1],A=S.enabled,R=S.servers,L=S.endpointPromise,N=function(){F(I())};bt((r={},(0,c.Z)(r,m.EventType.Action,(function(){var e=i.mashMedia;(0,m.assertObject)(e,"mashMedia");var t=e.label;_!==t&&(b((function(e){return(0,l.Z)(e)})),P(t)),N()})),(0,c.Z)(r,m.EventType.Loaded,(function(e){var t=e.type;if((0,m.isEventType)(t)&&(0,m.isSelectType)(t)&&t===C){var n=i.mashMedia;(0,m.assertObject)(n,"mashMedia");var r=n.id,a=n.label;b((function(e){var t=e.filter((function(e){return(0,m.isPopulatedString)(e.label)})),i=t.findIndex((function(e){return e.id===r}));return(0,m.isPositive)(i)?t.splice(i,1,n):t.push(n),x(r),P(a),t}))}})),(0,c.Z)(r,m.EventType.Save,N),r));if(v.useEffect((function(){if(A&&R[m.ServerType.Data]&&!u){s(!0);var e={partial:!0},t=m.Endpoints.data[i.editType].retrieve;console.debug("RetrieveRequest",t,e),L(t,e).then((function(e){console.debug("RetrieveResponse",t,e);var n=e.described,r=e.error;r?console.error("RetrieveResponse",t,r):b((function(e){var t=(0,l.Z)(e);return n.forEach((function(e){var n=e.id,r=e.label;!t.find((function(e){return e.id===n}))&&(0,m.isPopulatedString)(r)&&t.push(e)})),t}))}))}}),[R,A]),y.length<2)return null;var D=e.children,V=(0,d.Z)(e,z),B=v.Children.only(D);(0,m.assertTrue)(v.isValidElement(B));var H={key:"mashMedia-select",onChange:function(e){if(!M){var t=e.target.selectedIndex,n=y[t];(0,m.assertObject)(n,"described[selectedIndex]");var r={id:n.id},a=i.editType,o=m.Endpoints.data[a].get;console.debug("GetRequest",o,r),L(o,r).then((function(e){console.debug("GetResponse",o,e);var t=e.error,n=e.mash;if(!t)return i.load(n);console.error("GetResponse",o,t)}))}},disabled:M,children:function(){var e=i.editType,t=i.mashMedia,n=[v.createElement("optgroup",{key:"group",label:le("open")})];if(!t)return n;var r=t.id,a=t.label;return n.push.apply(n,(0,l.Z)(y.map((function(t){var n=t.label,i=t.id,o=i===r?a:n,u={children:(0,m.isPopulatedString)(o)?o:fe("unlabeled",{type:e}),value:i,key:i};return v.createElement("option",(0,p.Z)({},u))})))),n}(),value:Z},U=(0,p.Z)((0,p.Z)({},V),{},{children:[B,v.createElement("select",(0,p.Z)({},H))]});return v.createElement(ae,(0,p.Z)({},U))}function Ft(e){var t,n=Ge(),r=function(){var e=n.mashMedia;return!(0,m.isMashMedia)(e)||!e.encodings.length},i=v.useState(r),a=(0,f.Z)(i,2),o=a[0],u=a[1],s=function(){return u(r())};bt((t={},(0,c.Z)(t,m.EventType.Render,s),(0,c.Z)(t,m.EventType.Loaded,s),t));var l=e.children,h=(0,d.Z)(e,A),g=(0,p.Z)((0,p.Z)({},h),{},{onClick:function(){if(!o){var e=n.mashMedia;(0,m.assertMashMedia)(e);var t=e.encodings,r=(0,f.Z)(t,1)[0].request.endpoint;(0,m.assertEndpoint)(r);var i=(0,m.endpointUrl)(r);window.open(i)}},disabled:o});return v.cloneElement(v.Children.only(l),g)}function zt(e){return null}var At=v.createElement(zt,{key:"empty"}),Rt="tween-input-key",Lt=(r={},(0,c.Z)(r,m.DataType.Boolean,At),(0,c.Z)(r,m.DataType.ContainerId,At),(0,c.Z)(r,m.DataType.ContentId,At),(0,c.Z)(r,m.DataType.DefinitionId,At),(0,c.Z)(r,m.DataType.FontId,At),(0,c.Z)(r,m.DataType.Frame,At),(0,c.Z)(r,m.DataType.Icon,At),(0,c.Z)(r,m.DataType.Number,At),(0,c.Z)(r,m.DataType.Percent,At),(0,c.Z)(r,m.DataType.Rgb,At),(0,c.Z)(r,m.DataType.String,At),(0,c.Z)(r,m.DataType.Option,At),r),Nt={value:"",name:"",property:{type:m.DataType.String,name:"",defaultValue:""}},Dt=v.createContext(Nt);function Vt(){var e=v.useContext(Dt),t=e.changeHandler,n=e.property,r=e.value,i=e.name;if(!n)return null;var a={type:"checkbox",name:i,checked:!!r};return t?a.onChange=function(e){t(i,e.target.checked)}:a.disabled=!0,v.createElement("input",(0,p.Z)({},a))}function Bt(e){var t=e.type,n=e.types,r=e.children,i=e.className,a=(0,d.Z)(e,R),o=v.Children.only(r);(0,m.assertTrue)(v.isValidElement(o));var c=v.useState(!1),l=(0,f.Z)(c,2),h=l[0],y=l[1],b=v.useContext(Dt),k=v.useContext(we),w=k.drop,Z=k.editor;(0,m.assertDefined)(Z);var x=b.changeHandler,S=b.value,C=b.name;(0,m.assertTrue)(x);var E=Z.media,T=at(t,n),_=function(e){var t=e.dataTransfer;if((0,m.assertTrue)(t),(0,g.dragTypes)(t).includes(g.TransferTypeFiles))return!0;var n=(0,g.dragType)(t);return!!(0,m.isMediaType)(n)&&T.includes(n)},P=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,i,a,o,s,c,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.eventStop)(t),y(!1),_(t)){e.next=4;break}return e.abrupt("return");case 4:if(n=t.dataTransfer,(0,m.assertTrue)(n),!(0,g.dragTypes)(n).includes(g.TransferTypeFiles)){e.next=11;break}return e.next=10,w(n.files).then((function(e){if(e.length){var t="containerId"===C?e.filter(m.isContainerDefinition):e,n=(0,f.Z)(t,1)[0];n&&((0,m.assertTrue)(E.installed(n.id),"".concat(n.type," installed")),x(C,n.id))}}));case 10:return e.abrupt("return");case 11:if(r=(0,g.dropType)(n),i=n.getData(r),a=JSON.parse(i),o=a.mediaObject,!(0,m.isMediaObject)(o)){e.next=20;break}if(s=E.define(o),c=(0,f.Z)(s,1),l=c[0],"containerId"!==C||(0,m.isContainerDefinition)(l)){e.next=19;break}return e.abrupt("return");case 19:x(C,o.id);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=v.useMemo((function(){var e=[];return i&&e.push(i),h&&e.push(m.ClassDropping),e.join(" ")}),[h]),O=(0,p.Z)((0,p.Z)({},a),{},{className:I,children:function(){if(!S)return null;(0,m.assertPopulatedString)(S);var e=E.fromId(S);(0,m.assertMedia)(e);var t={definition:e,key:e.id},n={children:v.cloneElement(o,t),value:{definition:e}};return v.createElement(nt.Provider,(0,p.Z)({},n))}(),onDragLeave:function(){y(!1)},onDragOver:function(e){var t=_(e);y(t),t&&e.preventDefault()},onDrop:P,value:String(S),key:"".concat(C,"-drop")});return v.createElement(ae,(0,p.Z)({},O))}function Ht(){var e=v.useContext(Dt),t=e.changeHandler,n=e.value,r=e.name,i=Ge().media;(0,m.assertTrue)(t);var a={children:i.byType(m.FontType).map((function(e){var t=e.id,n={value:t,children:e.label,key:t};return v.createElement("option",(0,p.Z)({},n))})),name:r,onChange:function(e){t(r,e.target.value)},value:String(n),key:"".concat(r,"-select")};return v.createElement("select",(0,p.Z)({},a))}function Ut(){var e=v.useContext(Dt),t=v.useContext(we).icons,n=Object.keys(t),r=e.changeHandler,i=e.property,a=e.value,o=e.name;if(!i)return null;var u={children:n.map((function(e){var t={value:e,children:e,key:e};return v.createElement("option",(0,p.Z)({},t))})),name:o,value:String(a),key:"".concat(o,"-select")};return r?u.onChange=function(e){r(o,e.target.value)}:u.disabled=!0,v.createElement("select",(0,p.Z)({},u))}function qt(){var e=v.useContext(Dt),t=Ge(),n=e.changeHandler,r=e.property,i=e.value,a=e.name,o=e.time;if(!r)return null;var c=r.min,l=r.max,f=r.step,d={type:"number",name:a,value:String(i)};return(0,m.isDefined)(c)&&(d.min=c),(0,m.isDefined)(l)&&(d.max=l),(0,m.isDefined)(f)&&(d.step=f),n?d.onChange=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(r){var i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.target.value,!o){e.next=4;break}return e.next=4,t.goToTime(o);case 4:n(a,i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():d.disabled=!0,v.createElement("input",(0,p.Z)({},d))}function Wt(e){var t=e.className,n=e.onChange,r=(0,p.Z)({},e),i=["slider"];if(t&&i.push(t),r.className=i.join(" "),n){r.onChange=function(e){n(e,e.currentTarget.valueAsNumber)}}return v.createElement("input",(0,p.Z)({type:"range"},r))}function Gt(){var e=Ge(),t=v.useContext(Dt),n=t.changeHandler,r=t.property,i=t.value,a=t.name,o=t.time,c=t.defaultValue;if(!r)return null;var l=r.max,f=r.min,d=r.step,h=r.defaultValue,g={value:(0,m.isDefined)(i)?i:(0,m.isDefined)(c)?c:h,min:(0,m.isNumber)(f)?f:0,max:(0,m.isNumber)(l)?l:1,step:(0,m.isNumber)(d)?d:.01,name:a};if(n){var y=function(){var t=(0,s.Z)((0,u.Z)().mark((function t(r,i){var s;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(0,m.isArray)(i)?i[0]:i,!o){t.next=4;break}return t.next=4,e.goToTime(o);case 4:n(a,s);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();g.onChange=y}else g.disabled=!0;return v.createElement(Wt,(0,p.Z)({className:"slider"},g))}function $t(){v.useContext(we).icons;var e=v.useContext(Dt),t=Ge(),n=e.changeHandler,r=e.property,i=e.value,a=e.name,o=e.time,c=e.defaultValue;if(!r)return null;var l=r.defaultValue,f=(0,m.isDefined)(i)?i:(0,m.isDefined)(c)?c:l,d={type:"color",name:a,value:String(f)};return n?d.onChange=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(r){var i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.target.value,!o){e.next=4;break}return e.next=4,t.goToTime(o);case 4:n(a,i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():d.disabled=!0,v.createElement("input",(0,p.Z)({},d))}function Jt(){var e=v.useContext(Dt),t=e.changeHandler,n=e.property,r=e.value,i=e.name;if(!n)return null;var a={name:i,type:"text",value:String(r)};return t?a.onChange=function(e){t(i,e.target.value)}:a.disabled=!0,v.createElement("input",(0,p.Z)({},a))}function Kt(){var e=v.useContext(Dt),t=e.changeHandler,n=e.property,r=e.value,i=e.name,a=n.options;(0,m.assertPopulatedArray)(a);var o={children:a.map(String).map((function(e){var t={value:e,children:e,key:e};return v.createElement("option",(0,p.Z)({},t))})),name:i,value:String(r),key:"".concat(i,"-select")};return t?o.onChange=function(e){t(i,e.target.value)}:o.disabled=!0,v.createElement("select",(0,p.Z)({},o))}Lt[m.DataType.Boolean]=v.createElement(Vt,null),Lt[m.DataType.ContainerId]=v.createElement(Bt,{types:m.ContainerTypes,className:"definition-drop"},v.createElement(ft,{className:"definition preview"})),Lt[m.DataType.ContentId]=v.createElement(Bt,{types:m.ContentTypes,className:"definition-drop"},v.createElement(ft,{className:"definition preview"})),Lt[m.DataType.FontId]=v.createElement(Ht,null),Lt[m.DataType.Icon]=v.createElement(Ut,null),Lt[m.DataType.Number]=v.createElement(qt,null),Lt[m.DataType.Frame]=v.createElement(qt,null),Lt[m.DataType.Percent]=v.createElement(Gt,null),Lt[m.DataType.Rgb]=v.createElement($t,null),Lt[m.DataType.String]=v.createElement(Jt,null),Lt[m.DataType.Option]=v.createElement(Kt,null);var Qt=(i={},(0,c.Z)(i,m.DataGroup.Size,At),(0,c.Z)(i,m.DataGroup.Point,At),(0,c.Z)(i,m.DataGroup.Opacity,At),(0,c.Z)(i,m.DataGroup.Color,At),(0,c.Z)(i,m.DataGroup.Effects,At),(0,c.Z)(i,m.DataGroup.Timing,At),i);function Yt(e){var t=v.useContext(we).icons,n=Ge(),r=e.selectType,i=e.selectedItems,a=(0,d.Z)(e,L);(0,m.assertSelectType)(r);var o=v.useContext(jt),u=i||o.selectedItems,s=o.changeTweening,c=o.selectedInfo,l=c.tweenDefined,f=c.tweenSelected,h=c.onEdge,g=c.time,y=c.nearStart,b=c.timeRange;(0,m.assertTimeRange)(b),(0,m.assertTime)(g);var k=l[m.DataGroup.Color],w=f[m.DataGroup.Color],Z=(0,m.selectedPropertyObject)(u,m.DataGroup.Color,r),x=Z.color,S=Z["color".concat(m.PropertyTweenSuffix)],C=w?S:x,E=C.property,T=C.changeHandler,_=C.value,P=C.name,I=E.type,O=E.name,j=P||O,M=Lt[I],F={property:E,value:_,name:j,changeHandler:T};F.time=(0,m.tweenInputTime)(b,h,y,k,w),w&&(F.defaultValue=x.value);var z=[m.ClassSelected,m.ClassButton].join(" "),A={children:t.start,className:w?m.ClassButton:z,key:"start",onClick:function(){n.goToTime(b.startTime),s(m.DataGroup.Color,!1)}},R={key:"end",className:w?z:m.ClassButton,children:k?t.end:t.endUndefined,onClick:function(){n.goToTime(b.lastTime),s(m.DataGroup.Color,!0)}},N={key:"context",value:F,children:M},D=(0,p.Z)((0,p.Z)({},a),{},{key:"inspector-".concat(r,"-").concat(j),children:[t.color,v.createElement(Dt.Provider,(0,p.Z)({},N)),v.createElement(ae,{className:"start-end",key:"start-end"},v.createElement(ae,(0,p.Z)({},A)),v.createElement(ae,(0,p.Z)({},R)))]});return v.createElement(ae,(0,p.Z)({},D))}function Xt(e){var t=e.property,n=e.className,r=e.removeHandler,i=e.index,a=e.movable,o=e.selected,u=e.select,s=(0,d.Z)(e,N),c=o===a,l=v.useContext(we).icons,f=function(){c||u(a)},h=[n||"movable"];c&&h.push(m.ClassSelected);var y=[],b=a.value("label"),k=a.value("icon");if((0,m.isPopulatedString)(k)){var w=l[k];w&&y.push(w)}(0,m.isPopulatedString)(b)&&y.push(b);var Z=(0,p.Z)((0,p.Z)({},s),{},{children:y,className:h.join(" "),onMouseDown:f,onDragStart:function(e){c||f();var n={index:i},r=JSON.stringify(n),a=e.dataTransfer;a&&(a.effectAllowed="move",a.setData("".concat(t).concat(g.DragSuffix),r))},onDragEnd:function(e){var t=e.dataTransfer;t&&("none"===t.dropEffect&&r(a))},onClick:function(e){return e.stopPropagation()},draggable:!0});return v.createElement(ae,(0,p.Z)({},Z))}function en(e){var t=e.defaultValue,n=e.changeHandler,r=e.time,i=e.property,a=e.value,o=e.name,u=i.type,s=i.defaultValue,c={key:"context",value:{property:i,value:a,changeHandler:n,name:o,time:r,defaultValue:(0,m.isDefined)(t)?t:s},children:Lt[u]};return v.createElement(Dt.Provider,(0,p.Z)({},c))}function tn(e){var t=v.useContext(we).icons,n=v.useContext(jt),r=e.selectedItems,i=n.selectedItems,a=r||i,o=[],u=[],s={};return a.forEach((function(n){if((0,m.isSelectedProperty)(n)){var r=n.property,i=n.changeHandler,c=n.selectType,l=n.value,f=n.name,d=r.name,h=r.group;if(h){var g=[h,c].join("-");return void(s[g]||(s[g]=!0,u.push(v.cloneElement(Qt[h],{selectType:c,selectedItems:a}))))}var y=f||d,b=(0,p.Z)({key:"inspector-".concat(c,"-").concat(y),property:r,value:l,changeHandler:i,name:y},e),k=t[y],w=v.createElement(en,(0,p.Z)({},b));if(k){var Z=[w];Z.unshift(k);var x={children:Z,className:"row",key:"icon-".concat(c,"-").concat(y)};o.push(v.createElement(ae,(0,p.Z)({},x)))}else o.push(w)}else{var S=n.name;(0,m.assertDataGroup)(S);var C={key:"inspector-".concat(S),selectedMovable:n};u.push(v.cloneElement(Qt[S],C))}})),v.createElement(v.Fragment,null,o,u)}function nn(e){var t=e.useView,n=e.selected,r=(0,d.Z)(e,D);if(!t)return v.createElement("button",(0,p.Z)({},r));var i=r.disabled,a=r.className,o=(0,d.Z)(r,V),u=[m.ClassButton];a&&u.push(a),i?u.push(m.ClassDisabled):n&&u.push(m.ClassSelected);var s=(0,p.Z)((0,p.Z)({},o),{},{className:u.join(" ")});return v.createElement(ae,(0,p.Z)({},s))}function rn(e){var t=e.movableGenerator,n=e.selectedMovable,r=e.property,i=(0,d.Z)(e,B);(0,m.assertPopulatedObject)(n);var a=Ge(),o=v.useContext(we),u=v.useState(!1),s=(0,f.Z)(u,2),c=s[0],l=s[1],h=v.useState(null),y=(0,f.Z)(h,2),b=y[0],k=y[1],w=v.useRef(null),Z=v.useMemo((function(){var e=["list"];return c&&e.push(m.ClassDropping),e.join(" ")}),[c]),x=o.icons,S=n.value,C=n.addHandler,E=n.removeHandler,T=n.moveHandler,_=b&&S.includes(b)?b:null;_!==b&&k(_);var P=function(e){var t;return!(null===(t=(0,g.dropType)(e.dataTransfer))||void 0===t||!t.startsWith(r))},I={children:S.map((function(e,t){var n={key:e.id,selected:_,select:k,movable:e,index:t,removeHandler:E,property:r};return v.createElement(Xt,(0,p.Z)({},n))})),ref:w,onDragLeave:function(){l(!1)},onDragOver:function(e){var t=P(e);l(t),t&&e.preventDefault()},onDrop:function(e){if(l(!1),P(e)){e.preventDefault();var t=e.dataTransfer;if(t){var n=(0,g.dropType)(t),r=t.getData(n),i=JSON.parse(r).index,a=function(e){var t=e.target;if(t&&t instanceof HTMLDivElement){var n=t.getAttribute("index");if(n)return Number(n)}return S.length}(e);a!==i&&((0,m.assertDefined)(_),T(_,a))}}},onClick:function(){k(null)},key:"view",className:Z},O={disabled:!_,onClick:function(){E(_)},key:"remove-button",children:x.remove},j=[x[r],v.createElement(nn,(0,p.Z)({},O))];if(t){var M={key:"add-button",children:x.add,onClick:function(){C(t({}))}};j.push(v.createElement(nn,(0,p.Z)({},M)))}var F={className:"icons",children:j,key:"icons"},z=(0,p.Z)((0,p.Z)({},i),{},{key:"".concat(r,"s-view"),className:"row",children:[v.createElement(ae,(0,p.Z)({},F)),v.createElement(ae,(0,p.Z)({},I))]}),A=v.createElement(ae,(0,p.Z)({},z));if(!_)return A;var R={selectedItems:_.selectedItems(a.actions),key:"movable-properties"};return v.createElement(v.Fragment,null,A,v.createElement(tn,(0,p.Z)({},R)))}function an(e){var t=v.useContext(we).icons,n=Ge(),r=e.selectType,i=e.selectedItems,a=(0,d.Z)(e,H);(0,m.assertSelectType)(r);var o=v.useContext(jt),u=i||o.selectedItems,s=o.changeTweening,c=o.selectedInfo,l=c.tweenDefined,f=c.tweenSelected,h=c.onEdge,g=c.time,y=c.nearStart,b=c.timeRange;(0,m.assertTimeRange)(b),(0,m.assertTime)(g);var k=l[m.DataGroup.Opacity],w=f[m.DataGroup.Opacity],Z=(0,m.selectedPropertyObject)(u,m.DataGroup.Opacity,r),x=Z.opacity,S=Z["opacity".concat(m.PropertyTweenSuffix)],C=w?S:x,E=C.property,T=C.changeHandler,_=C.value,P=C.name,I=E.type,O=E.name,j=P||O,M=Lt[I],F={property:E,value:_,name:j,changeHandler:T};F.time=(0,m.tweenInputTime)(b,h,y,k,w),w&&(F.defaultValue=x.value);var z=[m.ClassSelected,m.ClassButton].join(" "),A={children:t.start,className:w?m.ClassButton:z,key:"start",onClick:function(){n.goToTime(b.startTime),s(m.DataGroup.Opacity,!1)}},R={key:"end",className:w?z:m.ClassButton,children:k?t.end:t.endUndefined,onClick:function(){n.goToTime(b.lastTime),s(m.DataGroup.Opacity,!0)}},L={key:"context",value:F,children:M},N=(0,p.Z)((0,p.Z)({},a),{},{key:"inspector-".concat(r,"-").concat(j),children:[t.opacity,v.createElement(Dt.Provider,(0,p.Z)({},L)),v.createElement(ae,{className:"start-end",key:"start-end"},v.createElement(ae,(0,p.Z)({},A)),v.createElement(ae,(0,p.Z)({},R)))]});return v.createElement(ae,(0,p.Z)({},N))}function on(e){var t=v.useContext(we).icons,n=Ge(),r=e.selectType,i=e.selectedItems,a=(0,d.Z)(e,U);(0,m.assertSelectType)(r);var o=v.useContext(jt),u=i||o.selectedItems,s=o.changeTweening,c=o.selectedInfo,l=c.tweenDefined,f=c.tweenSelected,h=c.onEdge,g=c.time,y=c.nearStart,b=c.timeRange;(0,m.assertTimeRange)(b),(0,m.assertTime)(g);var k=l[m.DataGroup.Point],w=f[m.DataGroup.Point],Z=(0,m.selectedPropertyObject)(u,m.DataGroup.Point,r),x=(0,m.selectedPropertiesScalarObject)(Z),S=Z.offE,C=Z.offW,E=Z.offN,T=Z.offS,_=Z.x,P=Z.y,I=Z["x".concat(m.PropertyTweenSuffix)],O=Z["y".concat(m.PropertyTweenSuffix)],j=w?I:_,M=w?O:P,F=x.offE,z=x.offW,A=x.offN,R=x.offS,L={},N=[j,M],D=(0,m.tweenInputTime)(b,h,y,k,w);N.forEach((function(e){if(e){var t=e.property,n=e.changeHandler,i=e.value,a=e.name,o=t.type,u=t.name,s=a||u,c=s.replace(m.PropertyTweenSuffix,""),l=Lt[o],f="inspector-".concat(r,"-").concat(s),d={property:t,value:i,name:s,changeHandler:n,time:D};w&&(d.defaultValue=x[c]);var h={key:f,value:d,children:l};L[c]=v.createElement(Dt.Provider,(0,p.Z)({},h))}else console.error("PointInput",j,M)}));var V=[m.ClassSelected,m.ClassButton].join(" "),B={children:t.start,className:w?m.ClassButton:V,key:"start",onClick:function(){n.goToTime(b.startTime),s(m.DataGroup.Point,!1)}},H={key:"end",className:w?V:m.ClassButton,children:k?t.end:t.endUndefined,onClick:function(){n.goToTime(b.lastTime),s(m.DataGroup.Point,!0)}},q=[t.point,v.createElement(ae,{className:"start-end",key:"".concat(r,"-point-start-end")},v.createElement(ae,(0,p.Z)({},B)),v.createElement(ae,(0,p.Z)({},H)))],W=[v.createElement(ae,{key:"horz-icon",children:t.horz,className:m.ClassButton})],G=[v.createElement(ae,{key:"vert-icon",children:t.vert,className:m.ClassButton})];if(S){var $={key:"lock-east",className:m.ClassButton,children:F?t.unlock:t.lock,onClick:function(){S.changeHandler("offE",!F)}},J=v.createElement(ae,(0,p.Z)({},$));W.push(J)}if(W.push(L.x),C){var K={key:"lock-west",className:m.ClassButton,children:z?t.unlock:t.lock,onClick:function(){C.changeHandler("offW",!z)}},Q=v.createElement(ae,(0,p.Z)({},K));W.push(Q)}if(E){var Y={key:"lock-north",className:m.ClassButton,children:A?t.unlock:t.lock,onClick:function(){E.changeHandler("offN",!A)}},X=v.createElement(ae,(0,p.Z)({},Y));G.push(X)}if(G.push(L.y),T){var ee={key:"lock-south",className:m.ClassButton,children:R?t.unlock:t.lock,onClick:function(){T.changeHandler("offS",!R)}},te=v.createElement(ae,(0,p.Z)({},ee));G.push(te)}var ne=[v.createElement(ae,{key:"x",children:W}),v.createElement(ae,{key:"y",children:G})],re=(0,p.Z)({},a);return v.createElement("fieldset",(0,p.Z)({},re),v.createElement("legend",{key:"legend"},v.createElement(ae,null,q)),ne)}Qt[m.DataGroup.Color]=v.createElement(Yt,{className:"color tween row",key:"color-group-input"}),Qt[m.DataGroup.Effects]=v.createElement(rn,{property:"effect",key:"effects-group-input"}),Qt[m.DataGroup.Opacity]=v.createElement(an,{className:"opacity tween row",key:"opacity-group-input"}),Qt[m.DataGroup.Point]=v.createElement(on,{key:"point-input"});var un=(a={},(0,c.Z)(a,m.Orientation.H,"width"),(0,c.Z)(a,m.Orientation.V,"height"),a);function sn(e){var t=v.useContext(we).icons,n=Ge(),r=e.selectType,i=e.selectedItems,a=(0,d.Z)(e,q);(0,m.assertSelectType)(r,"selectType");var o=v.useContext(jt),u=i||o.selectedItems,s=o.selectedInfo,c=o.changeTweening,l=s.tweenDefined,f=s.tweenSelected,h=s.onEdge,g=s.time,y=s.nearStart,b=s.timeRange;(0,m.assertTimeRange)(b),(0,m.assertTime)(g);var k=l[m.DataGroup.Size],w=f[m.DataGroup.Size],Z=(0,m.selectedPropertyObject)(u,m.DataGroup.Size,r),x=Z.lock,S=Z.width,C=Z.height,E=Z["width".concat(m.PropertyTweenSuffix)],T=Z["height".concat(m.PropertyTweenSuffix)],_=w?E:S,P=w?T:C,I=(0,m.selectedPropertiesScalarObject)(Z),O=I.lock;(0,m.assertString)(O,"lockValue");var j=(0,m.isOrientation)(O)?O:void 0,M={},F=[_,P],z=(0,m.tweenInputTime)(b,h,y,k,w);F.forEach((function(e){var t=e.property,n=e.changeHandler,i=e.value,a=e.name,o=t.type,u=t.name,s=a||u,c=s.replace(m.PropertyTweenSuffix,""),l=Lt[o],f="inspector-".concat(r,"-").concat(s),d={property:t,value:i,name:s,time:z};w&&(d.defaultValue=I[c]),j&&c===un[j]||(d.changeHandler=n);var h={key:f,value:d,children:l};M[c]=v.createElement(Dt.Provider,(0,p.Z)({},h))}));var A={key:"lock-width",className:m.ClassButton,children:j===m.Orientation.H?t.lock:t.unlock,onClick:function(){var e=j===m.Orientation.H?"":m.Orientation.H;x.changeHandler("lock",e)}},R=v.createElement(ae,(0,p.Z)({},A)),L={key:"lock-height",className:m.ClassButton,children:j===m.Orientation.V?t.lock:t.unlock,onClick:function(){var e=j===m.Orientation.V?"":m.Orientation.V;x.changeHandler("lock",e)}},N=[m.ClassSelected,m.ClassButton].join(" "),D=v.createElement(ae,(0,p.Z)({},L)),V={children:t.start,className:w?m.ClassButton:N,key:"start",onClick:function(){n.goToTime(b.startTime),c(m.DataGroup.Size,!1)}},B={key:"end",className:w?N:m.ClassButton,children:k?t.end:t.endUndefined,onClick:function(){n.goToTime(b.lastTime),c(m.DataGroup.Size,!0)}},H=[t.size,v.createElement(ae,{className:"start-end",key:"".concat(r,"-size-start-end")},v.createElement(ae,(0,p.Z)({},V)),v.createElement(ae,(0,p.Z)({},B)))],U=[v.createElement(ae,{key:"width-icon",children:t.width,className:m.ClassButton}),M.width,R],W=[v.createElement(ae,{key:"height-icon",children:t.height,className:m.ClassButton}),M.height,D],G=[v.createElement(ae,{key:"width",children:U}),v.createElement(ae,{key:"height",children:W})],$=(0,p.Z)({},a);return v.createElement("fieldset",(0,p.Z)({},$),v.createElement("legend",{key:"legend"},v.createElement(ae,null,H)),G)}function cn(e){var t=v.useContext(we).icons,n=e.selectType,r=e.selectedItems,i=e.dataGroup,a=(0,d.Z)(e,W);(0,m.assertSelectType)(n);var u=v.useContext(jt),s=r||u.selectedItems,c=(0,m.selectedPropertyObject)(s,i,n),l=Object.fromEntries(Object.entries(c).map((function(t){var n=(0,f.Z)(t,2),r=n[0],i=n[1],a=i.property,o=i.changeHandler,u=i.selectType,s=i.value,c=i.name,l=a.name,d=c||l,h=(0,p.Z)({key:"inspector-".concat(u,"-group-").concat(d),property:a,value:s,changeHandler:o,name:d},e);return[r,v.createElement(en,(0,p.Z)({},h))]}))),h=l[i],g=(0,d.Z)(l,[i].map(o.Z)),y=t[i];if(!(0,m.isPopulatedObject)(g)){var b={key:i,children:[y,h],className:"row"};return v.createElement(ae,(0,p.Z)({},b))}var k=[y];h&&k.push(h);var w=Object.entries(g).map((function(e){var n=(0,f.Z)(e,2),r=n[0],i=n[1],a=t[r],o=[i];a&&o.unshift(v.createElement(ae,{key:"".concat(r,"-icon"),children:a,className:m.ClassButton}));var u={key:"".concat(r,"-view"),children:o};return v.createElement(ae,(0,p.Z)({},u))})),Z=(0,p.Z)({},a);return v.createElement("fieldset",(0,p.Z)({},Z),v.createElement("legend",{key:"legend"},v.createElement(ae,null,k)),w)}Qt[m.DataGroup.Size]=v.createElement(sn,{key:"size-group-input"});var ln={dataGroup:m.DataGroup.Timing,key:"".concat(m.DataGroup.Timing,"-group-input")};function fn(e){var t,n=Ge(),r=v.useState((function(){return 0})),i=(0,f.Z)(r,2),a=i[0],o=i[1],u=v.useRef({tweenDefined:{},tweenSelected:{},selectedType:m.SelectType.None,selectTypes:[]}),s=v.useState((function(){return m.SelectTypes})),d=(0,f.Z)(s,2),h=d[0],g=d[1],y=v.useState((function(){return[]})),b=(0,f.Z)(y,2),k=b[0],w=b[1],Z=function(){o((function(e){return e+1}))},x=function(){var e=n.selection,t=e.selectTypes,r=e.clip,i=e.mash,a=u.current,o=a.selectedType,s=a.selectTypes,c=h.find((function(e){return t.includes(e)}));(0,m.assertSelectType)(c),c!==o&&(a.selectedType=c),(0,m.arraySet)(s,t);var l=n.selection.selectedItems([c]),d={};if(r&&i){var p=l.filter((function(e){if((0,m.isSelectedProperty)(e)){var t=e.property,n=e.name,r=t.tweenable,i=t.group;if(r&&i&&n)return n.endsWith(m.PropertyTweenSuffix)}}));if(p.forEach((function(e){var t=e.property,n=e.value,r=t.group;(0,m.assertDataGroup)(r),d[r]=(0,m.isDefined)(n)})),p.length){var v=i.time,g=i.quantize,y=r.timeRange(g);a.time=v,a.timeRange=y;var b=y.frame+Math.round(y.frames/2),k=(0,m.timeFromArgs)(b,g),x=(0,m.timeEqualizeRates)(k,v),S=(0,f.Z)(x,2),C=S[0],E=S[1];a.nearStart=C.frame>E.frame;var T=a.nearStart?y.startTime:y.lastTime;a.onEdge=v.equalsTime(T)}}a.tweenDefined=d,w(l),Z()};bt((t={},(0,c.Z)(t,m.EventType.Action,Z),(0,c.Z)(t,m.EventType.Selection,x),t));var S=v.useCallback((function(e){(0,m.assertSelectType)(e),g((function(t){var n=t.indexOf(e);(0,m.assertPositive)(n);var r=[e];return n&&r.push.apply(r,(0,l.Z)(t.slice(0,n))),n<t.length-1&&r.push.apply(r,(0,l.Z)(t.slice(n+1))),(0,m.assertTrue)(r.length===t.length,"type lengths match"),(0,m.arraySet)(t,r),x(),t})),u.current.selectedType=e,w(n.selection.selectedItems([e]))}),[]),C=(0,p.Z)((0,p.Z)({},Ot),{},{actionCount:a,selectedItems:k,changeSelected:S,changeTweening:function(e,t){u.current.tweenSelected[e]=t,x()},selectedInfo:u.current});return v.createElement(jt.Provider,{value:C},v.createElement(ae,(0,p.Z)({},e)))}function dn(e){return v.createElement(ae,(0,p.Z)({},e))}function hn(e){var t=v.useContext(jt).selectedInfo.selectedType,n=e.type,r=e.types,i=e.children,a=ot(n,r);return(0,m.assertPopulatedArray)(a),a.includes(t)?v.createElement(v.Fragment,null,i):null}function pn(e){var t=e.id,n=e.children,r=e.className;(0,m.assertSelectType)(t);var i=v.useContext(jt),a=i.changeSelected,o=i.selectedInfo,u=o.selectTypes,s=o.selectedType;if(!u.includes(t))return null;var c=[];(0,m.isPopulatedString)(r)&&c.push(r),s===t&&c.push(m.ClassSelected);var l={children:n,onClick:function(){a(t)},className:c.join(" ")};return v.createElement(ae,(0,p.Z)({},l))}Qt[m.DataGroup.Timing]=v.createElement(cn,(0,p.Z)({},ln));var vn=function(){var e,t,n,r,i,a=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),o=a.icons;(e=a.props).key||(e.key="inspector"),(t=a.props).className||(t.className="panel inspector"),(n=a.header).content||(n.content=[v.createElement(ae,{key:"panel-icon",children:o.inspector}),v.createElement(Et,{key:"undo"},v.createElement(nn,null,o.undo,le("undo"))),v.createElement(St,{key:"redo"},v.createElement(nn,null,o.redo,le("redo")))]),(r=a.footer).content||(r.content=[v.createElement(pn,{key:"mash",className:m.ClassButton,id:"mash"},o.mmTube),v.createElement(pn,{key:"clip",className:m.ClassButton,id:"clip"},o.clip),v.createElement(pn,{key:"container",className:m.ClassButton,id:"container"},o.container),v.createElement(pn,{key:"content",className:m.ClassButton,id:"content"},o.content)]);var u=[v.createElement(tn,{key:"properties"})],s=[m.SelectType.Clip,m.SelectType.Track];u.push(v.createElement(hn,{type:"mash",key:"inspector-mash"},v.createElement(ae,null,v.createElement(Tt,{key:"render-process"},v.createElement(nn,null,le("render"),o.render)),v.createElement(Ft,{key:"view-control"},v.createElement(nn,null,le("view"),o.view))))),s.forEach((function(e){u.push(v.createElement(hn,{key:"".concat(e,"-delete"),type:e},v.createElement(Ct,{type:e},v.createElement(nn,null,fe("delete",{type:e}),o.remove))))})),(i=a.content).children||(i.children=v.createElement(v.Fragment,null,u));var c=v.createElement(v.Fragment,null,v.createElement(Me,(0,p.Z)({},a.header)),v.createElement(dn,(0,p.Z)({},a.content.props),a.content.children),v.createElement(Me,(0,p.Z)({},a.footer)));return(0,p.Z)((0,p.Z)({},a.props),{},{children:c})},mn=function(e,t){if(t&&e){var n=t.width,r=t.height;e.style.setProperty("--preview-width","".concat(n,"px")),e.style.setProperty("--preview-height","".concat(r,"px"))}};function gn(e){var t=e.editType,n=void 0===t?m.VideoType:t,r=e.clientOptions,i=void 0===r?g.ClientDisabledArgs:r,a=e.previewSize,o=e.icons,u=void 0===o?{}:o,s=e.mashMedia,c=(0,d.Z)(e,G);console.log("Masher",n,a);var l=v.useRef((0,g.clientInstance)(i)),h=v.useRef((0,m.editorInstance)({editType:n})),y=v.useRef({}),b=v.useRef({}),k=v.useRef(null),w=v.useRef(null),Z=v.useContext(It),x=v.useState(!1),S=(0,f.Z)(x,2),C=S[0],E=S[1],T=v.useState(!1),_=(0,f.Z)(T,2),P=_[0],I=_[1],O=l.current,j=h.current,M=y.current,F=b.current,z=(Z.enabled,Z.endpointPromise),A=Z.servers;v.useEffect((function(){mn(w.current,a)}),[a]);var R=function(e){var t=e||s||{mash:{id:(0,m.idTemporary)(),media:[]}};console.log("Masher.editorLoad",e,s,t);var n=k.current;(0,m.assertObject)(n,"svg"),j.svgElement=n;var r=t.mash;j.load(r)};v.useEffect((function(){if(console.debug("Masher useEffect",C),O.enabled(g.ReadOperation)){if(!C){E(!0);m.MashType;var e={};console.debug("DataDefaultRequest",m.Endpoints.data[n].default,e),z(m.Endpoints.data[n].default,e).then((function(e){var t,r;console.debug("DataDefaultResponse",m.Endpoints.data[n].default,e);e.previewSize,(0,d.Z)(e,$);console.log("Masher DataDefaultResponse",null===(t=A.file)||void 0===t?void 0:t.prefix),null!==(r=A.file)&&void 0!==r&&r.prefix&&((0,m.urlBaseInitialize)(String(A.file.prefix)),console.log("Masher DataDefaultResponse",A.file.prefix)),R(e)}))}}else R()}),[C]);var L=function(e){F.mediaId=null===e||void 0===e?void 0:e.id},N={client:O,editor:j,streaming:P,setStreaming:I,current:F,editorIndex:M,drop:function(e,t){return console.log("Masher drop",e,t),e?(console.log("Masher drop editorIndex = ",t),(0,m.isClip)(e)?(console.log("Masher drop Clip"),Promise.resolve([])):(0,m.isEffect)(e)?(console.log("Masher drop Effect"),Promise.resolve([])):(0,m.isMediaObject)(e)?(console.log("Masher drop DefinitionObject"),function(e,t){return j.addMedia(e,t)}(e,t)):(0,m.isMashAndMediaObject)(e)?(console.log("Masher drop MashAndMediaObject"),Promise.resolve([])):function(e,t){var n=(0,g.dropFilesFromList)(e,A.file);if(n.length){var r=[],i=[],a=j.eventTarget;if(n.forEach((function(e){e instanceof File?i.push(e):r.push(e)})),r.length&&r.forEach((function(e){var t=(0,m.idGenerate)("activity-error"),n=(0,p.Z)({id:t,type:g.ActivityType.Error},e);a.emit(m.EventType.Active,n)})),i.length)return j.addFiles(i,t)}else console.log("Masher.dropFiles no info");return Promise.resolve([])}(e,t).then((function(e){console.log("Masher.dropFiles",e);var t=(0,f.Z)(e,1)[0];return(0,m.isMedia)(t)&&L(t),e}))):Promise.resolve([])},changeDefinition:L,icons:u},D=(0,p.Z)((0,p.Z)({},c),{},{onDrop:m.eventStop,ref:w});return v.createElement(we.Provider,{value:N},v.createElement(ae,(0,p.Z)({},D)),v.createElement("svg",{style:{display:"none"},ref:k}))}var yn={paused:!1,changePaused:m.EmptyMethod,changeVolume:m.EmptyMethod,volume:0},bn=v.createContext(yn),kn=10;function wn(e){var t,n=e.children,r=e.className,i=(0,d.Z)(e,J),a=Ge(),o=v.useState((function(){return(0,m.rectCopy)(a.rect)})),u=(0,f.Z)(o,2),s=u[0],h=u[1],y=v.useRef(null),b=v.useRef(null),k=v.useContext(we),w=v.useState(!1),Z=(0,f.Z)(w,2),x=Z[0],S=Z[1],C=v.useContext(bn).disabled,E=k.drop,T=v.useRef({}).current,_=v.useState(new ResizeObserver((function(){var e=b.current;if(e){var t=(0,m.rectRound)(e.getBoundingClientRect());h((function(){return a.rect=t,(0,m.rectCopy)(t)}))}}))),P=(0,f.Z)(_,1)[0];v.useEffect((function(){var e=b.current;return e&&P.observe(e),function(){P.disconnect()}}),[]);var I=function(){var e=T.redraw;return delete T.timeout,delete T.redraw,a.previewItems(!C).then((function(t){!function(e){var t=y.current;t&&t.replaceChildren.apply(t,(0,l.Z)(e))}(t),e&&j()}))},O=function(){I().then(m.EmptyMethod)},j=function(){var e=y.current,t=a.rect;e&&(0,m.sizeAboveZero)(t)&&(T.timeout?T.redraw=!0:T.timeout=setTimeout(O,kn))};bt((t={},(0,c.Z)(t,m.EventType.Draw,j),(0,c.Z)(t,m.EventType.Selection,j),t));var M=function(e){return!!e&&(!!(0,g.dragTypes)(e).includes(g.TransferTypeFiles)||(0,m.isMediaType)((0,g.dragType)(e)))},F=function(e){(0,m.eventStop)(e),S(!1)},z=[];r&&z.push(r),x&&z.push(m.ClassDropping);var A=(0,p.Z)((0,p.Z)({},i),{},{ref:b,className:z.join(" "),key:"player-content",onDragOver:function(e){(0,m.eventStop)(e),S(M(e.dataTransfer))},onDrop:function(e){F(e);var t=e.dataTransfer;if(M(t)){var n=a.mashMedia;(0,m.assertObject)(n,"mashMedia");var r={clip:a.time.scale(n.quantize).frame,track:-1};if((0,g.dragTypes)(t).includes(g.TransferTypeFiles))E(t.files,r);else{var i=(0,g.dragType)(t);(0,m.assertMediaType)(i);var o=(0,g.dragData)(t,i);(0,g.assertDragDefinitionObject)(o);var u=o.mediaObject;(0,m.isMediaObject)(u)&&E(u,r)}}},onDragLeave:F,onPointerDown:function(){a.selection.unset(m.SelectType.Clip)}});if((0,m.sizeAboveZero)(s)){var R={ref:y,key:"svg",className:"svgs"},L=[v.createElement("div",(0,p.Z)({},R))];if(n){var N=v.Children.only(n);v.isValidElement(N)&&L.push(N)}A.children=L}return v.createElement(ae,(0,p.Z)({},A))}function Zn(e){var t=v.useContext(bn),n=t.paused,r=t.changePaused,i=(0,p.Z)((0,p.Z)({},e),{},{key:"player-button",onClick:function(){r(!n)}});return v.createElement(ae,(0,p.Z)({},i))}function xn(e){var t,n=Ge(),r=function(){return n.timeRange.timeRange},i=v.useState(r),a=(0,f.Z)(i,2),o=a[0],u=a[1],s=function(){u(r())};bt((t={},(0,c.Z)(t,m.EventType.Time,s),(0,c.Z)(t,m.EventType.Duration,s),t));var l=(0,p.Z)({value:o.frame,min:0,max:o.frames,step:1,onChange:function(e,t){var r=(0,m.isArray)(t)?t[0]:t;n.time=(0,m.timeFromArgs)(r,o.fps)},className:"frame slider"},e);return v.createElement(Wt,(0,p.Z)({},l))}function Sn(e){return v.useContext(bn).paused?null:e.children}function Cn(e){return v.useContext(bn).paused?e.children:null}function En(e){var t,n=Ge(),r=function(){return n.timeRange},i=v.useState(r),a=(0,f.Z)(i,2),o=a[0],u=a[1],s=function(){u(r())};bt((t={},(0,c.Z)(t,m.EventType.Time,s),(0,c.Z)(t,m.EventType.Duration,s),t));var l=o.seconds,d=o.fps,h=o.lengthSeconds,g=[(0,m.stringSeconds)(l,d,h),"/",(0,m.stringSeconds)(h,d,h)],y=(0,p.Z)((0,p.Z)({},e),{},{key:"player-time",children:g});return v.createElement(ae,(0,p.Z)({},y))}var Tn=function(){var e,t,n,r,i,a=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),o=a.icons;(e=a.props).key||(e.key="player"),(t=a.props).className||(t.className="panel player"),(n=a.content).children||(n.children=v.createElement(wn,(0,p.Z)({},a.content.props),v.createElement(ae,{key:"drop-box",className:"drop-box"}))),(r=a.header).content||(r.content=[v.createElement(ae,{key:"panel-icon",children:o.app}),v.createElement(Mt,{key:"select-mashMedia",className:"row",children:o.document}),v.createElement(_t,{key:"save-process"},v.createElement(nn,{key:"button"},le("update"),o.document)),v.createElement(xt,{key:"create-mashMedia"},v.createElement(nn,null,le("create"),o.document))]),(i=a.footer).content||(i.content=[v.createElement(Zn,{key:"play-button",className:m.ClassButton},v.createElement(Sn,{key:"playing"},o.pause),v.createElement(Cn,{key:"not-playing"},o.play)),v.createElement(xn,{key:"time-slider"}),v.createElement(En,{key:"time",className:"time"})]);var u=v.createElement(v.Fragment,null,v.createElement(Me,(0,p.Z)({},a.header)),a.content.children,v.createElement(Me,(0,p.Z)({},a.footer)));return(0,p.Z)((0,p.Z)({},a.props),{},{children:u})};function _n(e){var t=v.useContext(yt),n=t.scale,r=t.frame,i=v.useMemo((function(){return(0,p.Z)((0,p.Z)({},e),{},{style:{left:(0,g.pixelFromFrame)(r,n)}})}),[r,n]);return v.createElement(ae,(0,p.Z)({},i))}function Pn(e){var t=Ge().selection.mash,n=e.className,r=e.children,i=(0,d.Z)(e,K),a=v.Children.only(r);(0,m.assertTrue)(v.isValidElement(a));var o=v.useContext(mt),u=v.useContext(yt),s=o.track,c=u.dragTypeValid,l=u.onDragLeave,f=u.onDrop,h=u.droppingTrack,y=u.setDroppingTrack,b=u.droppingPosition,k=u.setDroppingPosition,w=u.setDroppingClip,Z=u.selectedTrack,x=v.useMemo((function(){var e=s===Z,t=[];return n&&t.push(n),e&&t.push(m.ClassSelected),h===s&&t.push((0,g.droppingPositionClass)(b)),t.join(" ")}),[b,h,Z]);if(!t||!s)return null;var S=s.clips,C=s.dense,E=s.index,T=(0,p.Z)((0,p.Z)({},i),{},{className:x,children:function(){var e=C?-1:0,t=a.props;return S.map((function(n){var r=(0,p.Z)((0,p.Z)({},t),{},{key:n.id}),i={children:v.cloneElement(a,r),value:{clip:n,prevClipEnd:e},key:n.id},o=v.createElement(pt.Provider,(0,p.Z)({},i));return C||(e=n.frames+n.frame),o}))}(),onDragLeave:l,onDragOver:function(e){(0,m.eventStop)(e);var t=e.dataTransfer;if(t){var n=c(t),r=n?m.DroppingPosition.At:m.DroppingPosition.None;w(),y(n?s:void 0),k(r)}},onDrop:f,key:"track-".concat(E)});return v.createElement(ae,(0,p.Z)({},T))}function In(e){var t=v.useRef(null),n=v.useContext(yt),r=v.useState(new ResizeObserver((function(){(0,n.setRect)(t.current.getBoundingClientRect())}))),i=(0,f.Z)(r,1)[0];v.useEffect((function(){var e=t.current;return e&&i.observe(e),function(){i.disconnect()}}),[t.current]);var a=(0,p.Z)((0,p.Z)({},e),{},{ref:t});return v.createElement(ae,(0,p.Z)({},a))}function On(e){var t=Ge(),n=v.useContext(yt),r=function(){return!t.selection.mash},i=v.useState(r),a=(0,f.Z)(i,2),o=a[0],u=a[1];bt((0,c.Z)({},m.EventType.Selection,(function(){u(r())})));var s=(0,p.Z)({disabled:o,key:"time-slider",value:n.zoom,min:0,max:1,step:.01,onChange:function(e,t){var r=(0,m.isArray)(t)?t[0]:t;n.zoom!==r&&n.setZoom(r)}},e);return v.createElement(Wt,(0,p.Z)({className:"zoom slider"},s))}function jn(e){var t,n=v.useState((function(){return 0})),r=(0,f.Z)(n,2),i=r[0],a=r[1],o=function(){a((function(e){return e+1}))},u=Ge();bt((t={},(0,c.Z)(t,m.EventType.Loaded,o),(0,c.Z)(t,m.EventType.Track,o),t));var s=e.children,l={key:"track-content",children:v.useMemo((function(){var e=u.selection.mash;if(!e)return[];var t=e.tracks;return(0,m.arrayReversed)(t).map((function(e,t){var n=e.identifier,r=e.index,i={children:v.Children.map(s,(function(e){if(!v.isValidElement(e))throw"TimelineTracks";return v.cloneElement(e,{key:"track-clone-".concat(t,"-").concat(r,"-").concat(n)})})),value:{track:e},key:"track-context-".concat(t,"-").concat(r,"-").concat(n)};return v.createElement(mt.Provider,(0,p.Z)({},i))}))}),[i])};return v.createElement(v.Fragment,(0,p.Z)({},l))}function Mn(e){var t=Ge(),n=v.useRef(-1),r=v.useRef(null),i=v.useContext(yt),a=i.frames,o=i.scale,u=i.rect,s=e.className,l=e.inactive,h=e.styleHeight,y=e.styleWidth,b=(0,d.Z)(e,Q),k=function(){return!t.selection.mash},w=v.useState(k),Z=(0,f.Z)(w,2),x=Z[0],S=Z[1];bt((0,c.Z)({},m.EventType.Selection,(function(){S(k())})));var C=u.width,E=u.height,T=v.useMemo((function(){var e=[];s&&e.push(s),x&&e.push(m.ClassDisabled);var i=(0,p.Z)((0,p.Z)({},b),{},{ref:r,className:e.join(" ")});if(y||h){var u={};if(h&&(u.minHeight=E),y){var c=(0,g.pixelFromFrame)(a,o,"ceil");u.minWidth=Math.max(c,c)}i.style=u}return l||x||(i.onPointerDown=function(){var e=globalThis.window,i=function(){e.removeEventListener("pointermove",a),e.removeEventListener("pointerup",u)},a=function(e){(0,m.eventStop)(e);var i=r.current;if(i&&t.selection.mash){var a=e.clientX;if(n.current!==a){n.current=a;var u=i.getBoundingClientRect(),s=Math.max(0,Math.min(u.width,a-u.x)),c=(0,m.pixelToFrame)(s,o,"floor");t.time=(0,m.timeFromArgs)(c,t.selection.mash.quantize)}}},u=function(e){a(e),i()};return function(t){t.stopPropagation(),n.current=-1,e.addEventListener("pointermove",a),e.addEventListener("pointerup",u),a(t)}}()),i}),[a,o,C,E,x]);return v.createElement(ae,(0,p.Z)({},T))}function Fn(e){var t=e.className,n=(0,d.Z)(e,Y),r=v.useContext(yt),i=r.dragTypeValid,a=r.onDrop,o=r.setScroll,u=r.setDroppingClip,s=r.setDroppingTrack,l=r.setDroppingPosition,h=v.useRef(null),g=v.useState(!1),y=(0,f.Z)(g,2),b=y[0],k=y[1],w=Ge();bt((0,c.Z)({},m.EventType.Loaded,(function(){var e;null===(e=h.current)||void 0===e||e.scrollTo(0,0)})));var Z=function(e){(0,m.eventStop)(e),k(!1)},x=[];t&&x.push(t),b&&x.push(m.ClassDropping);var S=(0,p.Z)((0,p.Z)({className:x.join(" ")},n),{},{onPointerDown:function(){w.selection.unset(m.SelectType.Track)},onScroll:function(){var e=h.current;if(e){var t=e.scrollLeft,n=e.scrollTop;o({x:t,y:n})}},onDragOver:function(e){(0,m.eventStop)(e);var t=e.dataTransfer;if(t){var n=i(t),r=n?m.DroppingPosition.At:m.DroppingPosition.None;u(),s(),l(r),k(n)}},onDragLeave:Z,onDrop:function(e){Z(e),a(e)},ref:h});return v.createElement(ae,(0,p.Z)({},S))}function zn(e){var t=Ge(),n=function(){return!t.selection.mash},r=v.useState(n),i=(0,f.Z)(r,2),a=i[0],o=i[1];bt((0,c.Z)({},m.EventType.Selection,(function(){o(n())})));var u=e.children,s=(0,d.Z)(e,X),l=(0,p.Z)((0,p.Z)({},s),{},{disabled:a});return l.onClick=function(){t.addTrack()},v.cloneElement(v.Children.only(u),l)}function An(e){var t=e.className,n=e.icons,r=(0,d.Z)(e,ee),i=v.useContext(yt),a=v.useContext(mt),o=i.droppingTrack,u=i.droppingPosition,s=i.selectedTrack,c=a.track,l=v.useMemo((function(){var e=[];return t&&e.push(t),c===s&&e.push(m.ClassSelected),c===o&&e.push((0,g.droppingPositionClass)(u)),e.join(" ")}),[u,o,s]);if(!c)return null;var f=c.dense,h=c.index,y=f?n.trackDense:n.track,b=(0,p.Z)((0,p.Z)({},r),{},{className:l,children:y,key:"track-icon-".concat(h)});return v.createElement(ae,(0,p.Z)({},b))}function Rn(e){var t=Ge(),n=e.zoom,r=e.children,i=(0,d.Z)(e,te),a=v.useContext(yt),o=function(){return!t.selection.mash},u=v.useState(o),s=(0,f.Z)(u,2),l=s[0],h=s[1];bt((0,c.Z)({},m.EventType.Selection,(function(){h(o())})));var g=(0,p.Z)((0,p.Z)({},i),{},{onClick:function(){a.setZoom(n)},disabled:l});return v.cloneElement(v.Children.only(r),g)}function Ln(e){var t=Ge(),n=v.useContext(we),r=n.current,i=n.drop,a=function(){return!t.selection.mash},o=v.useState(a),u=(0,f.Z)(o,2),s=u[0],l=u[1];bt((0,c.Z)({},m.EventType.Selection,(function(){l(a())})));var h=e.children,g=(0,d.Z)(e,ne),y=(0,p.Z)((0,p.Z)({},g),{},{disabled:s});return y.onClick=function(){var e=t.selection,n=t.mashMedia,a=e.clip,o=e.track,u=r.mediaId||m.DefaultContentId;(0,m.assertPopulatedString)(u);var s={id:u},c={clip:0,track:-1};a&&o?(c.clip=o.dense?o.clips.indexOf(a):a.endFrame,c.track=o.index):c.clip=t.time.scale(n.quantize).frame,i(s,c)},v.cloneElement(v.Children.only(h),y)}var Nn=function(){var e,t,n,r,i,a=Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),o=a.icons;(e=a.props).key||(e.key="timeline"),(t=a.props).className||(t.className="panel timeline"),(n=a.header).content||(n.content=[v.createElement(ae,{key:"panel-icon",children:o.timeline})]),(r=a.footer).content||(r.content=[v.createElement(Ln,{key:"add-clip"},v.createElement(nn,{children:o.add})),v.createElement(zn,{key:"add-track"},v.createElement(nn,{children:[o.add,o.trackDense]})),v.createElement(Rn,{key:"zoom-out",zoom:0},v.createElement(nn,{useView:!0},o.zoomLess)),v.createElement(On,{key:"zoomer"}),v.createElement(Rn,{key:"zoom-in",zoom:1},v.createElement(nn,{useView:!0},o.zoomMore))]),(i=a.content).children||(i.children=v.createElement(v.Fragment,null,v.createElement(Mn,{styleWidth:!0,inactive:!0,styleHeight:!0,className:"scrubber-bar"},v.createElement(_n,{className:"scrubber-element-bar"})),v.createElement(Mn,{styleWidth:!0,className:"scrubber-icon"},v.createElement(_n,{className:"scrubber-element-icon"})),v.createElement(jn,null,v.createElement(An,{className:"track-icon",icons:o}),v.createElement(Pn,{className:"track"},v.createElement(wt,{className:"clip preview"}))),v.createElement(In,{className:"drop-box"})));var u=v.createElement(v.Fragment,null,v.createElement(Me,(0,p.Z)({},a.header)),v.createElement(Fn,(0,p.Z)({},a.content.props),a.content.children),v.createElement(Me,(0,p.Z)({},a.footer)));return(0,p.Z)((0,p.Z)({},a.props),{},{children:u})};function Dn(e){var t,n=e.disabled,r=(0,d.Z)(e,re),i=Ge(),a=v.useState(i.paused),o=(0,f.Z)(a,2),u=o[0],s=o[1],l=v.useState(i.volume),h=(0,f.Z)(l,2),g=h[0],y=h[1],b=function(){s(i.paused)};bt((t={},(0,c.Z)(t,m.EventType.Pause,b),(0,c.Z)(t,m.EventType.Play,b),(0,c.Z)(t,m.EventType.Volume,(function(){y(i.volume)})),t));var k={value:{paused:u,disabled:n,volume:g,changePaused:function(e){i.paused=e},changeVolume:function(e){i.volume=e}},children:v.createElement(ae,(0,p.Z)({},r))};return v.createElement(bn.Provider,(0,p.Z)({},k))}var Vn=1;function Bn(e){var t,n=Ge(),r=v.useContext(we).drop,i=function(){var e;return(null===(e=n.selection.mash)||void 0===e?void 0:e.frame)||0},a=function(){var e;return(null===(e=n.selection.mash)||void 0===e?void 0:e.frames)||0},o=v.useState(a),u=(0,f.Z)(o,2),s=u[0],l=u[1],d=v.useState(i),h=(0,f.Z)(d,2),y=h[0],b=h[1],k=v.useState(m.DroppingPosition.None),w=(0,f.Z)(k,2),Z=w[0],x=w[1],S=v.useState(),C=(0,f.Z)(S,2),E=C[0],T=C[1],_=v.useState(),P=(0,f.Z)(_,2),I=P[0],O=P[1],j=v.useState(),M=(0,f.Z)(j,2),F=M[0],z=M[1],A=v.useState(0),R=(0,f.Z)(A,2),L=R[0],N=R[1],D=v.useState(),V=(0,f.Z)(D,2),B=V[0],H=V[1],U=v.useState(Vn),q=(0,f.Z)(U,2),W=q[0],G=q[1],$=v.useState(m.RectZero),J=(0,f.Z)($,2),K=J[0],Q=J[1],Y=v.useState(m.RectZero),X=(0,f.Z)(Y,2),ee=X[0],te=X[1],ne=function(){N((function(e){return e+1}))};bt((t={},(0,c.Z)(t,m.EventType.Loaded,(function(){G(Vn)})),(0,c.Z)(t,m.EventType.Action,ne),(0,c.Z)(t,m.EventType.Selection,(function(){H(n.selection.clip),z(n.selection.track)})),(0,c.Z)(t,m.EventType.Time,(function(){b(i())})),(0,c.Z)(t,m.EventType.Duration,(function(){l(a())})),t));var re=function(e,t){var n=(0,g.dragTypes)(e);if(n.includes(g.TransferTypeFiles))return!0;var r=n.find(g.isTransferType);return!!r&&(!(!t&&!r.startsWith("clip"))||(0,g.dragMediaType)(r)!==m.EffectType)},ie=function(e){(0,m.eventStop)(e),x(m.DroppingPosition.None),T(void 0),O(void 0)},oe=K.width,ue=v.useMemo((function(){return oe?(0,g.pixelPerFrame)(s,oe,W):0}),[W,oe,s]),se={scroll:ee,setScroll:te,scale:ue,refreshed:L,refresh:ne,zoom:W,setZoom:G,rect:K,setRect:Q,droppingTrack:E,setDroppingTrack:T,droppingClip:I,setDroppingClip:O,droppingPosition:Z,setDroppingPosition:x,onDragLeave:ie,onDrop:function(e){(0,m.eventStop)(e);var t=e.dataTransfer,i=e.clientX;if(console.log("Timeline onDrop",null===t||void 0===t?void 0:t.types),t&&re(t,I)){console.log("Timeline onDrop",t.types,I);var a=(0,g.dragTypes)(t).includes(g.TransferTypeFiles),o=!(null===E||void 0===E||!E.dense),u=E?E.index:-1,s=(null===E||void 0===E?void 0:E.clips)||[],c=a?{}:(0,g.dragData)(t),l=!a&&(0,g.isDragOffsetObject)(c),f=l?c.offset:0,d=function(e,t){if(!e)return-1;if(!I)return 0;var n=t.indexOf(I);return Z===m.DroppingPosition.After?n+1:n}(o,s);if(!(0,m.isPositive)(d)){var h=i-K.x,p=(0,m.pixelToFrame)(Math.max(0,ee.x+(h-f)),ue);d=o?function(e,t){var n=t.length;if(!n)return 0;var r=t.findIndex((function(t){return e<t.frame+t.frames}));return r>-1?r:n}(p,s):p}var v={clip:d,track:u};if(a)r(t.files,v);else if(l)if(console.log("onDrop",c),(0,g.isDragDefinitionObject)(c)){var y=c.mediaObject;(0,m.isMediaObject)(y)&&r(y,v)}else{var b=n.selection.clip;(0,m.assertClip)(b),n.moveClip(b,v)}ie(e)}else console.log("Timeline onDrop invalid",null===t||void 0===t?void 0:t.types,!!I)},dragTypeValid:re,selectedClip:B,selectedTrack:F,frame:y,frames:s},ce={children:v.createElement(ae,(0,p.Z)({},e)),value:se};return v.createElement(yt.Provider,(0,p.Z)({},ce))}function Hn(e){return v.createElement(ae,(0,p.Z)({},e))}var Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.className||(e.className="editor masher"),e.icons||(e.icons=y.Icons);var t=e.panels,n=void 0===t?{}:t,r=(0,d.Z)(e,ie),i=n.player,a=void 0===i?{}:i,o=n.browser,u=void 0===o?{}:o,s=n.timeline,c=void 0===s?{}:s,l=n.inspector,f=void 0===l?{}:l,h=n.activity,g=void 0===h?{}:h,b=[];if(a&&(a.icons||(a.icons=e.icons),b.push(v.createElement(Dn,(0,p.Z)({},Tn(a))))),u&&(u.icons||(u.icons=e.icons),b.push(v.createElement(et,(0,p.Z)({},dt(u))))),f||g){var k=[];g&&(g.icons||(g.icons=e.icons),k.push(v.createElement(xe,(0,p.Z)({},De(g))))),f&&(f.icons||(f.icons=e.icons),k.push(v.createElement(fn,(0,p.Z)({},vn(f)))));var w={children:k,key:"panels",className:"panels"};b.push(v.createElement(Hn,(0,p.Z)({},w)))}return c&&(c.icons||(c.icons=e.icons),b.push(v.createElement(Bn,(0,p.Z)({},Nn(c))))),(0,p.Z)((0,p.Z)({className:"editor masher"},r),{},{editType:m.VideoType,children:b})};function qn(e){var t=e.type,n=e.types,r=e.children,i=at(t,n),a=Ge();return i.includes(a.editType)?v.createElement(v.Fragment,null,r):null}function Wn(e){var t=e.children,n=e.className;if(!t)return null;var r={className:n,children:t};return v.createElement(ae,(0,p.Z)({},r))}function Gn(e){var t=e.children,n=e.className;if(!t)return null;var r={className:n,children:t};return v.createElement(ae,(0,p.Z)({},r))}var $n=function(e){return globalThis.window.sessionStorage.getItem(e)||""},Jn=function(e,t){globalThis.window.sessionStorage.setItem(e,String(t))},Kn=v.forwardRef((function(e,t){return v.createElement("video",(0,p.Z)((0,p.Z)({},e),{},{ref:t}))}))},4255:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function s(e){this.map={},e instanceof s?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function f(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=l(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(e,t){e=a(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},s.prototype.delete=function(e){delete this.map[a(e)]},s.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},s.prototype.set=function(e,t){this.map[a(e)]=o(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},s.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},s.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},n.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=function(e){var t=e.toUpperCase();return p.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function g(e){var t=new s;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},h.call(v.prototype),h.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];y.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(w){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,r){return new Promise((function(i,a){var o=new v(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function s(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:g(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;i(new y(t,e))},u.onerror=function(){a(new TypeError("Network request failed"))},u.ontimeout=function(){a(new TypeError("Network request failed"))},u.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},u.open(o.method,o.url,!0),"include"===o.credentials?u.withCredentials=!0:"omit"===o.credentials&&(u.withCredentials=!1),"responseType"in u&&n.blob&&(u.responseType="blob"),o.headers.forEach((function(e,t){u.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",s),u.onreadystatechange=function(){4===u.readyState&&o.signal.removeEventListener("abort",s)}),u.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=s,e.Request=v,e.Response=y),t.Headers=s,t.Request=v,t.Response=y,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},4210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),Z=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var A,R=Object.assign;function L(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var N=!1;function D(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function V(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case Z:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){Q(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ae(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ze=null,xe=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Ze)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ze(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function _e(e,t){return e(t)}function Pe(){}var Ie=!1;function Oe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return _e(e,t,n)}finally{Ie=!1,(null!==xe||null!==Se)&&(Pe(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(l)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(le){Me=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ae=!1,Re=null,Le=!1,Ne=null,De={onError:function(e){Ae=!0,Re=e}};function Ve(e,t,n,r,i,a,o,u,s){Ae=!1,Re=null,ze.apply(De,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Be(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ue(i),e;if(o===r)return Ue(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Qe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Zt,xt,St,Ct,Et=!1,Tt=[],_t=null,Pt=null,It=null,Ot=new Map,jt=new Map,Mt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function At(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Zt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Zt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Nt(e,t,n){Lt(e)&&n.delete(t)}function Dt(){Et=!1,null!==_t&&Lt(_t)&&(_t=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==It&&Lt(It)&&(It=null),Ot.forEach(Nt),jt.forEach(Nt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Vt(_t,e),null!==Pt&&Vt(Pt,e),null!==It&&Vt(It,e),Ot.forEach(t),jt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Mt.shift()}var Ht=k.ReactCurrentBatchConfig,Ut=!0;function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Gt(e,t,n,r){if(Ut){var i=Jt(e,t,n,r);if(null===i)Ur(e,t,r,$t,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=At(_t,e,t,n,r,i),!0;case"dragenter":return Pt=At(Pt,e,t,n,r,i),!0;case"mouseover":return It=At(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,At(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,At(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Ur(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=R({},cn,{view:0,detail:0}),dn=an(fn),hn=R({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(R({},hn,{dataTransfer:0})),mn=an(R({},fn,{relatedTarget:0})),gn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return Sn}var En=R({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),_n=an(R({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(R({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=R({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(On),Mn=[9,13,27,32],Fn=l&&"CompositionEvent"in window,zn=null;l&&"documentMode"in document&&(zn=document.documentMode);var An=l&&"TextEvent"in window&&!zn,Rn=l&&(!Fn||zn&&8<zn&&11>=zn),Ln=String.fromCharCode(32),Nn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function $n(e){Lr(e,0)}function Jn(e){if(G(ki(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];qn(t,Gn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Cr(e){if(xr[e])return xr[e];if(!Zr[e])return e;var t,n=Zr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),_r=Cr("animationstart"),Pr=Cr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Ir.set(e,t),s(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Fr=Or[Mr];jr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}jr(Er,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(_r,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Ae){if(!Ae)throw Error(a(198));var l=Re;Ae=!1,Re=null,Le||(Le=!0,Ne=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}}}if(Le)throw e=Ne,Le=!1,Ne=null,e}function Nr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Dr(t,!1,e),Dr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Dr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Kt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ir.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Er:case Tr:case _r:s=gn;break;case Pr:s=In;break;case"scroll":s=dn;break;case"wheel":s=jn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=je(p,d))&&l.push(qr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=_n,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&$r(o,u,s,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Kn;else if(Un(u))if(Qn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?ki(r):window,e){case"focusin":(Un(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(g=Wr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Fn&&Dn(e,t)?(e=en(),Xt=Yt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Lr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(qr(e,a,i)),null!=(a=je(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=je(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var Zi=[],xi=-1;function Si(e){return{current:e}}function Ci(e){0>xi||(e.current=Zi[xi],Zi[xi]=null,xi--)}function Ei(e,t){xi++,Zi[xi]=e.current,e.current=t}var Ti={},_i=Si(Ti),Pi=Si(!1),Ii=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ci(Pi),Ci(_i)}function Fi(e,t,n){if(_i.current!==Ti)throw Error(a(168));Ei(_i,t),Ei(Pi,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return R({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ii=_i.current,Ei(_i,e),Ei(Pi,Pi.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=zi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(_i),Ei(_i,e)):Ci(Pi),Ei(Pi,n)}var Li=null,Ni=!1,Di=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Bi(){if(!Di&&null!==Li){Di=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Xe,Bi),i}finally{bt=t,Di=!1}}return null}var Hi=[],Ui=0,qi=null,Wi=0,Gi=[],$i=0,Ji=null,Ki=1,Qi="";function Yi(e,t){Hi[Ui++]=Wi,Hi[Ui++]=qi,qi=e,Wi=t}function Xi(e,t,n){Gi[$i++]=Ki,Gi[$i++]=Qi,Gi[$i++]=Ji,Ji=e;var r=Ki;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Ki=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Ui],Hi[Ui]=null,Wi=Hi[--Ui],Hi[Ui]=null;for(;e===Ji;)Ji=Gi[--$i],Gi[$i]=null,Qi=Gi[--$i],Gi[$i]=null,Ki=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Ki,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function Za(e){var t=ga.current;Ci(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function _a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ps)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=R({},f,d);break e;case 2:Ia=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rs|=o,e.lanes=o,e.memoizedState=f}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Na=(new r.Component).refs;function Da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ma(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(rc(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ma(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(rc(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ma(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(rc(t,e,r,n),za(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=ji(t)?Ii:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ua(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=ji(t)?Ii:_i.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ra(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Na&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&$a(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=zc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case Z:return(t=Nc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case Z:return n.key===i?l(e,t,n,r):null;case j:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Z:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),ia&&Yi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Yi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Yi(i,v),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Yi(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return ia&&Yi(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Yi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Ac(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=zc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case Z:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Nc(o,r.mode,s)).return=r,r=a}return u(r);case j:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(z(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ka=Ja(!0),Qa=Ja(!1),Ya={},Xa=Si(Ya),eo=Si(Ya),to=Si(Ya);function no(e){if(e===Ya)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Xa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Xa),Ei(Xa,t)}function io(){Ci(Xa),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Xa,n))}function oo(e){eo.current===e&&(Ci(Xa),Ci(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function Zo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function _o(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Rs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Rs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function jo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Uo(zo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,No(9,Fo.bind(null,n,r,i,t),void 0,null),null===Is)throw Error(a(349));0!==(30&po)||Mo(n,t,i)}return i}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fo(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ro(e)}function zo(e,t,n){return n((function(){Ao(t)&&Ro(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ro(e){var t=Pa(e,1);null!==t&&rc(t,e,1,-1)}function Lo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}vo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function Uo(e,t){return Bo(2048,8,e,t)}function qo(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Jo(){}function Ko(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Rs|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=_a(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=_a(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Ca,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useInsertionEffect:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useMutableSource:Zo,useSyncExternalStore:Zo,useId:Zo,unstable_isNewReconciler:!1},uu={readContext:Ca,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Lo,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Xo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Is)throw Error(a(349));0!==(30&po)||Mo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(zo.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Fo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Is.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ca,useCallback:Ko,useContext:Ca,useEffect:Uo,useImperativeHandle:$o,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Po,useRef:Do,useState:function(){return Po(_o)},useDebugValue:Jo,useDeferredValue:function(e){return Yo(To(),mo.memoizedState,e)},useTransition:function(){return[Po(_o)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:jo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ca,useCallback:Ko,useContext:Ca,useEffect:Uo,useImperativeHandle:$o,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Qo,useReducer:Io,useRef:Do,useState:function(){return Io(_o)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Yo(t,mo.memoizedState,e)},useTransition:function(){return[Io(_o)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:jo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ws=r),du(0,t)},n}function vu(e,t,n){(n=Ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Ka(t,e.child,n,r)}function Zu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Co(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Fc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Cu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Fs,Ms),Ms|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Fs,Ms),Ms|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Fs,Ms),Ms|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Fs,Ms),Ms|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=ji(n)?Ii:_i.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Co(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function _u(e,t,n,r,i){if(ji(n)){var a=!0;Ai(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Uu(e,t),Ha(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Oi(t,c=ji(n)?Ii:_i.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ua(t,o,r,c),Ia=!1;var d=t.memoizedState;o.state=d,Ra(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Pi.current||Ia?("function"===typeof l&&(Da(t,n,l,r),s=t.memoizedState),(u=Ia||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ca(s):s=Oi(t,s=ji(n)?Ii:_i.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ua(t,o,r,s),Ia=!1,d=t.memoizedState,o.state=d,Ra(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Pi.current||Ia?("function"===typeof h&&(Da(t,n,h,r),p=t.memoizedState),(c=Ia||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pu(e,t,n,r,a,i)}function Pu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),qu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var ju,Mu,Fu,zu,Au={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Rc(s,i,0,null),e=Ac(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Au,e):Nu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Du(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Ac(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,u),t.child.memoizedState=Ru(u),t.memoizedState=Au,o);if(0===(1&t.mode))return Du(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Du(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Is)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rc(r,e,i,-1))}return mc(),Du(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Ki,Gi[$i++]=Qi,Gi[$i++]=Ji,Ki=e.id,Qi=e.overflow,Ji=t),t=Nu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Fc(r,u):(u=Ac(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Ru(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Au,i}return e=(u=e.child).sibling,i=Fc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Nu(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){return null!==r&&pa(r),Ka(t,e.child,null,n),(e=Nu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $u(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return ji(t.type)&&Mi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ci(Pi),Ci(_i),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Mu(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Fu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Nr(zr[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":K(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":ie(r,o),Nr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Nr("scroll",r)}switch(n){case"input":W(r),X(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,ju(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Nr(zr[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":K(e,r),i=J(e,r),Nr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Nr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Nr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)zu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ci(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===zs&&(zs=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Mu(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return Za(t.type._context),Gu(t),null;case 19:if(Ci(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==zs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Hs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Qe()-o.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ms)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ju(e,t){switch(ta(t),t.tag){case 1:return ji(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Pi),Ci(_i),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(uo),null;case 4:return io(),null;case 10:return Za(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}ju=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mu=function(){},Fu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Nr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},zu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ku=!1,Qu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Qu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Qu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Qu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Cc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Qu=(r=Qu)||null!==n.memoizedState,hs(e,t,n),Qu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),ys(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Cc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Q(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(ms(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(ms(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:ms(t,e),ys(e);break;case 13:ms(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Qe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qu=(l=Qu)||f,ms(t,e),Qu=l):ms(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(d=Xu=f;null!==Xu;){switch(p=(h=Xu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){Zs(d);continue}}null!==p?(p.return=h,Xu=p):Zs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Cc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),ys(e),4&r&&vs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Cc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ku;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Qu;u=Ku;var c=Qu;if(Ku=o,(Qu=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Ku=u,Qu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ws(e)}}function ws(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Qu||512&t.flags&&as(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function Zs(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Cc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Cc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Cc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Cc(t,o,s)}}}catch(s){Cc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Ss,Cs=Math.ceil,Es=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,_s=k.ReactCurrentBatchConfig,Ps=0,Is=null,Os=null,js=0,Ms=0,Fs=Si(0),zs=0,As=null,Rs=0,Ls=0,Ns=0,Ds=null,Vs=null,Bs=0,Hs=1/0,Us=null,qs=!1,Ws=null,Gs=null,$s=!1,Js=null,Ks=0,Qs=0,Ys=null,Xs=-1,ec=0;function tc(){return 0!==(6&Ps)?Qe():-1!==Xs?Xs:Xs=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ps)&&0!==js?js&-js:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rc(e,t,n,r){if(50<Qs)throw Qs=0,Ys=null,Error(a(185));gt(e,n,r),0!==(2&Ps)&&e===Is||(e===Is&&(0===(2&Ps)&&(Ls|=n),4===zs&&sc(e,js)),ic(e,r),1===n&&0===Ps&&0===(1&t.mode)&&(Hs=Qe()+500,Ni&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Is?js:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ni=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Ps)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xs=-1,ec=0,0!==(6&Ps))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Is?js:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ps;Ps|=2;var o=vc();for(Is===e&&js===t||(Us=null,Hs=Qe()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Es.current=o,Ps=i,null!==Os?t=0:(Is=null,js=0,t=zs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=As,hc(e,0),sc(e,r),ic(e,Qe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=As,hc(e,0),sc(e,r),ic(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Zc(e,Vs,Us);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Zc.bind(null,e,Vs,Us),t);break}Zc(e,Vs,Us);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ri(Zc.bind(null,e,Vs,Us),r);break}Zc(e,Vs,Us);break;default:throw Error(a(329))}}}return ic(e,Qe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Ds;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~Ns,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ps))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return ic(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=As,hc(e,0),sc(e,t),ic(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zc(e,Vs,Us),ic(e,Qe()),null}function lc(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Hs=Qe()+500,Ni&&Bi())}}function fc(e){null!==Js&&0===Js.tag&&0===(6&Ps)&&xc();var t=Ps;Ps|=1;var n=_s.transition,r=bt;try{if(_s.transition=null,bt=1,e)return e()}finally{bt=r,_s.transition=n,0===(6&(Ps=t))&&Bi()}}function dc(){Ms=Fs.current,Ci(Fs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:io(),Ci(Pi),Ci(_i),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(uo);break;case 10:Za(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Is=e,Os=e=Fc(e.current,null),js=Ms=t,zs=0,As=null,Ns=Ls=Rs=0,Vs=Ds=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){zs=1,As=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=js,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==zs&&(zs=2),null===Ds?Ds=[o]:Ds.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Aa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==zs&&3!==zs&&2!==zs||(zs=4),null===Is||0===(268435455&Rs)&&0===(268435455&Ls)||sc(Is,js)}function gc(e,t){var n=Ps;Ps|=2;var r=vc();for(Is===e&&js===t||(Us=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Ps=n,Es.current=r,null!==Os)throw Error(a(261));return Is=null,js=0,zs}function yc(){for(;null!==Os;)kc(Os)}function bc(){for(;null!==Os&&!Je();)kc(Os)}function kc(e){var t=Ss(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$u(n,t,Ms)))return void(Os=n)}else{if(null!==(n=Ju(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return zs=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===zs&&(zs=5)}function Zc(e,t,n){var r=bt,i=_s.transition;try{_s.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Js);if(0!==(6&Ps))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Is&&(Os=Is=null,js=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$s||($s=!0,Ic(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=bt;bt=1;var s=Ps;Ps|=4,Ts.current=null,function(e,t){if(ei=Ut,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ns,ns=!1}(e,n),gs(n,e),pr(ti),Ut=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ke(),Ps=s,bt=u,_s.transition=o}else e.current=n;if($s&&($s=!1,Js=e,Ks=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ws,Ws=null,e;0!==(1&Ks)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ys?Qs++:(Qs=0,Ys=e):Qs=0,Bi()}(e,t,n,r)}finally{_s.transition=i,bt=r}return null}function xc(){if(null!==Js){var e=kt(Ks),t=_s.transition,n=bt;try{if(_s.transition=null,bt=16>e?16:e,null===Js)var r=!1;else{if(e=Js,Js=null,Ks=0,0!==(6&Ps))throw Error(a(331));var i=Ps;for(Ps|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Xu=d;else for(;null!==Xu;){var h=(f=Xu).sibling,p=f.return;if(os(f),f===l){Xu=null;break}if(null!==h){h.return=p,Xu=h;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xu=y;break e}Xu=o.return}}var b=e.current;for(Xu=b;null!==Xu;){var k=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Xu=k;else e:for(u=b;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(Z){Cc(s,s.return,Z)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Ps=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(Z){}r=!0}return r}finally{bt=n,_s.transition=t}}return!1}function Sc(e,t,n){e=Fa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Fa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(js&n)===n&&(4===zs||3===zs&&(130023424&js)===js&&500>Qe()-Bs?hc(e,0):Ns|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Pa(e,t))&&(gt(e,t,n),ic(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ic(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Mc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Ac(n.children,i,o,t);case S:u=8,i|=8;break;case C:return(e=jc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case P:return(e=jc(13,n,t,i)).elementType=P,e.lanes=o,e;case I:return(e=jc(19,n,t,i)).elementType=I,e.lanes=o,e;case M:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case _:u=11;break e;case O:u=14;break e;case j:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ac(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Dc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return zi(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ma(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Uc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(rc(e,i,o,a),za(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),ha();break;case 5:ao(t);break;case 1:ji(t.type)&&Ai(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lu(e,t,n):(Ei(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return qu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uu(e,t),e=t.pendingProps;var i=Oi(t,_i.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Ai(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Pu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=Zu(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Ra(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Lu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Zu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Pi.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ma(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ca(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Uu(e,t),t.tag=1,ji(r)?(e=!0,Ai(t)):e=!1,Sa(t,n),Ha(t,r,i),qa(t,r,i,n),Pu(null,t,r,!0,e,n);case 19:return Hu(e,t,n);case 22:return Cu(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=qc(o);u.call(e)}}Uc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=qc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Uc(t,s,n,r)})),s}(n,t,e,i,r);return qc(o)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Uc(null,e,null,null)})),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Qe()),0===(6&Ps)&&(Hs=Qe()+500,Bi()))}break;case 13:fc((function(){var t=Pa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Zt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Pa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ze=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=lc,Pe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Z,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,Z=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)Z.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+_(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+_(u=e[c],c);s+=P(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=P(u=u.value,t,i,l=a+_(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},M={transition:null},F={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:M,ReactCurrentOwner:x};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)Z.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,M(Z);else{var t=r(l);null!==t&&F(w,t.startTime-e)}}function Z(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&F(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,C=null,E=-1,T=5,_=-1;function P(){return!(t.unstable_now()-_<T)}function I(){if(null!==C){var e=t.unstable_now();_=e;var n=!0;try{n=C(!0,e)}finally{n?x():(S=!1,C=null)}}else S=!1}if("function"===typeof b)x=function(){b(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,j=O.port2;O.port1.onmessage=I,x=function(){j.postMessage(null)}}else x=function(){g(I,0)};function M(e){C=e,S||(S=!0,x())}function F(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,M(Z))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,F(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,M(Z))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},5087:function(e,t,n){var r;if("object"===typeof globalThis)r=globalThis;else try{r=n(4210)}catch(u){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,a=n(1496);function o(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?o:null,version:a}},1496:function(e,t,n){e.exports=n(9794).version},8630:function(e,t,n){"use strict";n.r(t),t.default={}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var u=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new T(r||[]);return a(o,"_invoke",{value:x(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};l(g,u,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(_([])));b&&b!==t&&n.call(b,u)&&(g=b);var k=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function Z(e,t){function i(a,o,u,s){var c=d(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=m,a(k,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(Z.prototype),l(Z.prototype,s,(function(){return this})),e.AsyncIterator=Z,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new Z(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8415:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),i=n(9611);var a=n(8814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function u(e){var t="function"===typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},u(e)}},827:function(e,t,n){"use strict";n.r(t),n.d(t,{ActivityType:function(){return X},ClientClass:function(){return Z},ClientDefaultArgs:function(){return w},ClientDisabledArgs:function(){return k},Config:function(){return S},DecodeOperation:function(){return g},DragElementPoint:function(){return $},DragElementRect:function(){return G},DragSuffix:function(){return z},EncodeOperation:function(){return m},Operations:function(){return y},ReadOperation:function(){return h},TranscodeOperation:function(){return v},TransferTypeFiles:function(){return D},WriteOperation:function(){return p},assertDragDefinitionObject:function(){return N},assertDragOffsetObject:function(){return R},audioBufferPromise:function(){return _},audioDataPromise:function(){return T},clientInstance:function(){return x},config:function(){return E},dragData:function(){return W},dragMediaType:function(){return H},dragType:function(){return U},dragTypes:function(){return q},dropFilesFromList:function(){return J},dropType:function(){return B},droppingPositionClass:function(){return K},fetchPromise:function(){return I},imageDataPromise:function(){return O},isDragDefinitionObject:function(){return L},isDragOffsetObject:function(){return A},isOperation:function(){return b},isTransferType:function(){return V},jsonPromise:function(){return P},pixelFromFrame:function(){return Y},pixelPerFrame:function(){return Q},videoDataPromise:function(){return j}});var r,i,a,o,u=n(885),s=n(1413),c=n(5671),l=n(3144),f=n(4942),d=n(2994),h="read",p="write",v="transcode",m="encode",g="decode",y=[h,p,v,m,g],b=function(e){return y.includes(e)},k=(r={},(0,f.Z)(r,h,!1),(0,f.Z)(r,p,!1),(0,f.Z)(r,g,!1),(0,f.Z)(r,m,!1),(0,f.Z)(r,v,!1),r),w=(a={},(0,f.Z)(a,g,{autoDecode:(i={},(0,f.Z)(i,d.AudioType,[{type:d.ProbeType,options:{types:[d.DurationProbe]}}]),(0,f.Z)(i,d.ImageType,[{type:d.ProbeType,options:{types:[d.AlphaProbe,d.SizeProbe]}}]),(0,f.Z)(i,d.VideoType,[{type:d.ProbeType,options:{types:[d.DurationProbe,d.SizeProbe,d.AlphaProbe,d.AudibleProbe]}}]),i)}),(0,f.Z)(a,m,{}),(0,f.Z)(a,h,{autoGet:{type:d.MashType,order:{created_at:d.OrderDecending}},getRequest:{endpoint:{pathname:d.Endpoints.data.definition.get}},listRequest:{endpoint:{pathname:d.Endpoints.data.definition.retrieve}}}),(0,f.Z)(a,v,{autoTranscode:(0,f.Z)({},d.AudioType,[{type:d.AudioType,options:{outputType:d.AudioType}}])}),(0,f.Z)(a,p,{accept:d.RawTypes.map((function(e){return"".concat(e,"/*")})),saveRequest:{endpoint:{pathname:d.Endpoints.data.definition.put}},deleteRequest:{endpoint:{pathname:d.Endpoints.data.definition.delete}},uploadRequest:{endpoint:{pathname:d.Endpoints.data.definition.retrieve}},uploadResponseIsRequest:!0,uploadCookedTypes:[]}),a),Z=function(){function e(t){(0,c.Z)(this,e),this.options=t}return(0,l.Z)(e,[{key:"accept",value:function(e){var t=this.clientArgs(e).write;if(t){var n=t.accept;return(0,d.isArray)(n)?n.join(","):n}}},{key:"enabled",value:function(e){return(b(e)?[e]:y).every((function(e){}))}},{key:"get",value:function(e){throw new Error("Method not implemented.")}},{key:"list",value:function(e){throw new Error("Method not implemented.")}},{key:"save",value:function(e,t){var n=this.clientArgs(t);if((0,d.isMashMedia)(e))return this.saveMash(e,n);var r={step:0,steps:2,media:e,completed:0};this.saveMedia(e,r,n);return Promise.resolve({})}},{key:"clientArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.options,n=void 0===t?{}:t;return(0,s.Z)((0,s.Z)((0,s.Z)({},w),n),e)}},{key:"saveMash",value:function(e,t){var n=this,r=e.definitionIds.filter(d.idIsTemporary).map((function(t){return e.media.fromId(t)})),i={step:0,steps:1,mash:e,media:e,completed:0};return this.saveMedias(r,i,t).then((function(r){return r.error?r:n.saveMediaRow(e,i,t)}))}},{key:"errorPromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.ErrorName.Internal;return Promise.resolve((0,d.error)(e))}},{key:"saveMediaRow",value:function(e,t,n){var r=e.id,i=(e.type,n[p]);if(!i)return this.errorPromise();var a=i.saveRequest;if(!a)return this.errorPromise();var o=(0,s.Z)({},a);o.init||(o.init={});var u={definition:(0,s.Z)({id:r},e.toJSON())};return o.init.body=u,(0,d.requestRecordPromise)(o).then((function(n){(0,d.assertIdentified)(n);n.id;var r=n.error;return t.step++,{error:r,data:e}}))}},{key:"saveAutoDecodings",value:function(e,t,n){return Promise.resolve((0,d.error)(d.ErrorName.ClientDisabledDelete))}},{key:"upload",value:function(e,t,n){return Promise.resolve((0,d.error)(d.ErrorName.ClientDisabledDelete))}},{key:"saveUpload",value:function(e,t,n){var r=e.id;return(0,d.idIsTemporary)(r)?this.upload(e,t,n):this.saveMediaRow(e,t,n)}},{key:"saveAutoTranscodings",value:function(e,t,n){return Promise.resolve((0,d.error)(d.ErrorName.ClientDisabledDelete))}},{key:"saveMedia",value:function(e,t,n){return Promise.resolve((0,d.error)(d.ErrorName.ClientDisabledDelete))}},{key:"updateMedia",value:function(e,t,n){var r=e.id,i=e.id||n.id;(0,d.assertPopulatedString)(i);var a=n||t.media.fromId(r),o=a.id,u=o!==i;return console.log(this.constructor.name,"updateDefinition",u,e),u&&(t.media.updateDefinitionId(a.id,i),console.log(this.constructor.name,"updateDefinition called updateDefinitionId",a.id,i),Object.assign(a,e),(0,d.isMedia)(a)&&(delete a.file,delete a.request.response,(0,d.isVideoMedia)(a)?delete a.loadedVideo:(0,d.isUpdatableDurationDefinition)(a)?delete a.loadedAudio:(0,d.isImageMedia)(a)&&delete a.loadedImage)),u?(t.tracks.flatMap((function(e){return e.clips})).forEach((function(e){e.containerId===o&&e.setValue(r,"containerId"),e.contentId===o&&e.setValue(r,"contentId")})),t.reload()||Promise.resolve()):Promise.resolve()}},{key:"saveMedias",value:function(e,t,n){var r=this,i=Promise.resolve({});return e.forEach((function(e){i=i.then((function(i){return i.error?i:r.saveMedia(e,t,n)}))})),i}},{key:"decode",value:function(e){return Promise.resolve({type:d.ProbeType})}},{key:"encode",value:function(e,t){throw new Error("Method not implemented.")}},{key:"transcode",value:function(e){var t={type:d.VideoType,id:"",request:{endpoint:{}}},n=(0,d.transcodingInstance)(t);return Promise.resolve(n)}}]),e}(),x=function(){return new Z(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},S=function(e){return e.SUPABASE_PROJECT_URL="MOVIEMASHER_SUPABASE_PROJECT_URL",e.SUPABASE_ANON_KEY="MOVIEMASHER_SUPABASE_ANON_KEY",e.SUPABASE_BUCKET="MOVIEMASHER_SUPABASE_BUCKET",e.SUPABASE_EXPIRES="MOVIEMASHER_SUPABASE_EXPIRES",e.SUPABASE_TABLE="MOVIEMASHER_SUPABASE_TABLE",e}(S||{}),C=(o={},(0,f.Z)(o,"MOVIEMASHER_SUPABASE_PROJECT_URL",""),(0,f.Z)(o,"MOVIEMASHER_SUPABASE_BUCKET","media"),(0,f.Z)(o,"MOVIEMASHER_SUPABASE_TABLE","media"),(0,f.Z)(o,"MOVIEMASHER_SUPABASE_ANON_KEY",""),(0,f.Z)(o,"MOVIEMASHER_SUPABASE_EXPIRES",60),o),E=function(e,t){return((0,d.isString)(t)||(0,d.isNumber)(t))&&(C[e]=t),C[e]||""},T=function(e){var t=e.endpoint;(0,d.assertEndpoint)(t);var n=(0,d.endpointUrl)(t);(0,d.assertPopulatedString)(n,"url");var r=function(e){return fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))}))}(n);return r.then(_)},_=function(e){return d.AudibleContextInstance.decode(e).then((function(e){return{data:e}})).catch((function(e){return(0,d.errorCaught)(e)}))},P=function(e){return I(e).then((function(e){return e.json()}))},I=function(e){var t,n=e.endpoint,r=e.init,i=void 0===r?{}:r;(0,d.assertEndpoint)(n);var a="Content-Type",o="application/json";switch(i.method||(i.method="POST"),i.headers||(i.headers={}),(t=i.headers)[a]||(t[a]=o),i.headers[a]){case o:i.body=JSON.stringify(i.body);break;case"multipart/form-data":var s=new FormData;Object.entries(i.body).forEach((function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];(0,d.isUndefined)(r)||s.set(n,r instanceof Blob?r:String(r))})),i.body=s,delete i.headers[a]}var c=(0,d.urlForEndpoint)(n);return fetch(c,i)},O=function(e){var t=e.endpoint;(0,d.assertEndpoint)(t);var n=(0,d.endpointUrl)(t),r=new Image;return r.src=n,new Promise((function(e){r.onerror=function(){e((0,d.error)(d.ErrorName.Url))},r.onload=function(){e({data:r})}}))},j=function(e){var t=e.endpoint;(0,d.assertEndpoint)(t);var n=(0,d.endpointUrl)(t);return new Promise((function(e){var t=function(e){var t=globalThis.document;t||(0,d.errorThrow)(d.ErrorName.Environment);var n=t.createElement("video");return n.src=e,n}(n);t.oncanplay=function(){t.oncanplay=null,t.onerror=null;var n=t.videoWidth,r=t.clientWidth,i=t.videoHeight,a=t.clientHeight,o=n||r,u=i||a;t.width=o,t.height=u,e({data:t})},t.onerror=function(t){e((0,d.errorCaught)(t))},t.autoplay=!1,t.load()}))},M=function(e,t){return fetch(e,t).then((function(e){return e.arrayBuffer()}))},F=function(e,t){var n=e.endpoint,r=e.init;(0,d.assertEndpoint)(n);var i={init:r,endpoint:(0,d.endpointAbsolute)(n)};switch(t){case d.ImageType:return O(i);case d.AudioType:return function(e){var t=e.endpoint,n=e.init;(0,d.assertEndpoint)(t);var r=(0,d.endpointUrl)(t);return M(r,n).then(_)}(i);case d.VideoType:return j(i);case d.FontType:return function(e){var t=e.endpoint,n=e.init;(0,d.assertEndpoint)(t);var r=(0,d.endpointUrl)(t),i=fetch(r,n).then((function(e){var t=e.headers.get("content-type")||"";return!(0,d.isPopulatedString)(t)||t.startsWith(d.FontType)?e.arrayBuffer():((0,d.assertTrue)(t.startsWith(d.CssContentType)),e.text().then((function(e){var t=(0,d.urlFromCss)(e);return M(t)})))})),a=function(e){return e.replaceAll(/[^a-z0-9]/gi,"_")}(r);return i.then((function(e){return new FontFace(a,e).load()})).then((function(e){var t=globalThis.document.fonts;return t.add(e),t.ready.then((function(){return{data:e}}))}))}(i);case d.RecordType:case d.RecordsType:return P(i)}(0,d.errorThrow)(t,"LoadType","type")};d.Plugins[d.ProtocolType][d.HttpProtocol]={promise:F,type:d.HttpProtocol},d.Plugins[d.ProtocolType][d.HttpsProtocol]={promise:F,type:d.HttpsProtocol};d.Plugins[d.ProtocolType][d.BlobProtocol]={promise:function(e,t){switch(t){case d.AudioType:return T(e);case d.ImageType:return O(e);case d.VideoType:return j(e);case d.JsonType:return P(e);default:return Promise.resolve({path:""})}},type:d.BlobProtocol};var z="/x-moviemasher",A=function(e){return(0,d.isObject)(e)&&"offset"in e};function R(e){A(e)||(0,d.errorThrow)(e,"DragOffsetObject")}var L=function(e){return A(e)&&"mediaObject"in e&&(0,d.isObject)(e.mediaObject)};function N(e){L(e)||(0,d.errorThrow)(e,"DragDefinitionObject")}var D="Files",V=function(e){return(0,d.isString)(e)&&e.endsWith(z)},B=function(e){if(e)return e.types.find(V)},H=function(e){var t=e.split("/"),n=(0,u.Z)(t,1)[0];return(0,d.assertMediaType)(n),n},U=function(e){var t=B(e);if(t){var n=t.split("/"),r=(0,u.Z)(n,1)[0];return(0,d.isMediaType)(r)?r:void 0}},q=function(e){return e.types.filter((function(e){return e===D||V(e)}))},W=function(e,t){var n=t?"".concat(t).concat(z):q(e).find(V);if(!n)return{};var r=e.getData(n);return r?JSON.parse(r):{}},G=function(e){return e.getBoundingClientRect()},$=function(e,t){var n=t instanceof Element?G(t):t,r=n.x,i=n.y,a=e.clientY;return{x:e.clientX-r,y:a-i}},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=e.length;if(!r)return n;for(var i=(0,d.isPopulatedObject)(t),a=t.extensions,o=void 0===a?{}:a,u=t.uploadLimits,s=o,c=void 0===u?{}:u,l=0;l<r;l++){var f=e.item(l);if(f){var h=f.name,p=f.size,v=f.type,m=(0,d.mediaTypeFromMime)(v);if((0,d.isRawType)(m)){var g=c[m];if(!i||(0,d.isAboveZero)(g)&&1024*g*1024>p){var y=h.toLowerCase().split(".").pop(),b=(0,d.isPopulatedString)(y),k=s[m];!i&&b||b&&(0,d.isArray)(k)&&k.includes(y)?n.push(f):n.push({label:h,value:y,error:"import.extension"})}else n.push({label:h,value:"".concat(g,"MB"),error:"import.bytes"})}else n.push({label:h,value:m,error:"import.type"})}}return console.log("dropFilesFromList infos",n),n},K=function(e){if((0,d.isUndefined)(e))return"";switch(e){case d.DroppingPosition.After:return d.ClassDroppingAfter;case d.DroppingPosition.Before:return d.ClassDroppingBefore;case d.DroppingPosition.None:return""}return d.ClassDropping},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!t)return 0;var r=t/e,i=Math.min(1,r),a=Math.max(1,r);return 1===n?a:n?i+(a-i)*n:i},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ceil";if(!e||!t)return 0;var r=e*t;return(0,d.roundWithMethod)(r,n)},X=function(e){return e.Analyze="analyze",e.Complete="complete",e.Error="error",e.Load="load",e.Render="render",e}(X||{})},2994:function(e,t,n){"use strict";n.r(t),n.d(t,{AVType:function(){return Ct},Action:function(){return ra},ActionFactory:function(){return Za},ActionType:function(){return St},Actions:function(){return xa},AddClipToTrackAction:function(){return ca},AddTrackAction:function(){return sa},AlphaProbe:function(){return gd},AlphamergeFilter:function(){return Qs},Anchor:function(){return Qt},Anchors:function(){return nn},ApiVersion:function(){return Zn},AudibleContext:function(){return Qi},AudibleContextInstance:function(){return Yi},AudibleProbe:function(){return yd},AudioClass:function(){return mf},AudioMediaClass:function(){return gf},AudioPreviewClass:function(){return Yl},AudioStreamType:function(){return Je},AudioType:function(){return Be},BlobProtocol:function(){return Cc},ChangeAction:function(){return fa},ChangeFramesAction:function(){return pa},ChangeMultipleAction:function(){return ga},ChromaKeyFilter:function(){return Ps},ClassButton:function(){return Gn},ClassCollapsed:function(){return $n},ClassDisabled:function(){return qn},ClassDropping:function(){return Kn},ClassDroppingAfter:function(){return Yn},ClassDroppingBefore:function(){return Qn},ClassItem:function(){return Wn},ClassSelected:function(){return Jn},Clicking:function(){return yn},Clickings:function(){return wn},ClipClass:function(){return vl},ClipSelectTypes:function(){return Ft},ColorChannelMixerFilter:function(){return Ms},ColorContentClass:function(){return ul},ColorContentDefinitionClass:function(){return sl},ColorFilter:function(){return Os},ColorizeFilter:function(){return Is},Component:function(){return kn},ContainerDefinitionMixin:function(){return Kc},ContainerMixin:function(){return Bc},ContainerTypes:function(){return gt},ContentDefinitionMixin:function(){return Jo},ContentMixin:function(){return al},ContentTypes:function(){return kt},ContextFactory:function(){return Xi},ConvolutionFilter:function(){return Fs},CookedTypes:function(){return ot},CropFilter:function(){return Us},CssContentType:function(){return Ln},CssExtension:function(){return zn},DataGroup:function(){return bo},DataGroups:function(){return Eo},DataType:function(){return Vt},DataTypes:function(){return qt},DecodeType:function(){return lc},DecodingClass:function(){return Gc},DecodingTypes:function(){return Rl},Default:function(){return vo},DefaultContainerId:function(){return Lo},DefaultContentId:function(){return qo},DefaultFontId:function(){return wl},Direction:function(){return $t},Directions:function(){return Yt},DroppingPosition:function(){return xt},Duration:function(){return hn},DurationProbe:function(){return bd},EditTypes:function(){return Tt},EditorClass:function(){return lf},EditorSelectionClass:function(){return ko},EffectClass:function(){return Hc},EffectMediaClass:function(){return Qc},EffectType:function(){return He},Emitter:function(){return qa},EmptyMethod:function(){return Nn},EncodeType:function(){return fc},EncodingClass:function(){return El},EncodingTypes:function(){return Rt},Endpoints:function(){return En},ErrorName:function(){return A},ErrorNames:function(){return R},EventType:function(){return an},EventTypes:function(){return fn},ExtJpeg:function(){return jn},FileProtocol:function(){return Ec},FillType:function(){return At},FillTypes:function(){return Nt},FilterClass:function(){return Gu},FilterDefinitionClass:function(){return $u},FilterIdPrefix:function(){return ec},FilterType:function(){return vc},Filters:function(){return Hu},FontClass:function(){return Pf},FontMediaClass:function(){return If},FontType:function(){return Ue},FpsFilter:function(){return Js},Frame:function(){return Ji},GraphFileType:function(){return Lt},GraphFileTypes:function(){return Bt},HttpProtocol:function(){return xc},HttpsProtocol:function(){return Sc},IdPrefix:function(){return Hn},IdSuffix:function(){return Un},ImageClass:function(){return qf},ImageMediaClass:function(){return Wf},ImageType:function(){return qe},JsonExtension:function(){return Mn},JsonType:function(){return Qe},LanguageEnglish:function(){return Ed},LanguageType:function(){return pc},LoadTypes:function(){return lt},MashMediaClass:function(){return ef},MashType:function(){return We},MasherAction:function(){return cn},MediaBase:function(){return Jc},MediaCollection:function(){return Fi},MediaDefaults:function(){return ji},MediaFactories:function(){return Ii},MediaInstanceBase:function(){return Vu},MediaTypes:function(){return et},MoveAction:function(){return ya},MoveClipAction:function(){return va},MoveType:function(){return sn},Mp4Extension:function(){return An},NamespaceLink:function(){return Bn},NamespaceSvg:function(){return Dn},NamespaceXhtml:function(){return Vn},NonePreview:function(){return kl},OpacityFilter:function(){return Gs},OrderAscending:function(){return In},OrderDecending:function(){return On},Orientation:function(){return Ut},Orientations:function(){return Jt},OutputFormat:function(){return Mt},OverlayFilter:function(){return qs},Parameter:function(){return Bu},Plugins:function(){return gc},PngExtension:function(){return Rn},PointZero:function(){return Xo},PreviewClass:function(){return pl},ProbeKinds:function(){return wd},ProbeType:function(){return Al},PropertiedClass:function(){return ki},PropertyTweenSuffix:function(){return bi},PropertyTypesNumeric:function(){return hi},ProtocolType:function(){return hc},RawTypes:function(){return st},RecordType:function(){return Ye},RecordsType:function(){return Xe},RectZero:function(){return su},RemoveClipAction:function(){return ma},RequestableClass:function(){return Zi},ResolveType:function(){return mc},Resolvers:function(){return Td},ScaleFilter:function(){return Ws},SelectType:function(){return Et},SelectTypes:function(){return It},SequenceClass:function(){return Xf},SequenceMediaClass:function(){return ed},SequenceType:function(){return Ge},ServerType:function(){return ln},ServerTypes:function(){return vn},SetptsFilter:function(){return Ks},SetsarFilter:function(){return $s},ShapeContainerClass:function(){return xf},ShapeContainerDefinitionClass:function(){return Sf},SizeIcon:function(){return Na},SizeOutput:function(){return Ra},SizePreview:function(){return La},SizeProbe:function(){return kd},SizeZero:function(){return Ta},Sizing:function(){return mn},SizingMediaTypes:function(){return ht},Sizings:function(){return bn},StandardErrorName:function(){return L},TextContainerId:function(){return No},TextExtension:function(){return Fn},TextFilter:function(){return Xs},TimeClass:function(){return Ka},TimeRangeClass:function(){return Qa},Timing:function(){return pn},TimingMediaTypes:function(){return vt},Timings:function(){return gn},TrackClass:function(){return gl},TrackFactory:function(){return bl},TrackPreviewClass:function(){return hl},TrackPreviewHandleSize:function(){return fl},TrackPreviewLineSize:function(){return dl},TranscodeType:function(){return dc},TranscodingClass:function(){return qc},TranscodingTypes:function(){return rt},TransformType:function(){return rn},TriggerType:function(){return tn},TriggerTypes:function(){return on},TrimFilter:function(){return Ys},TweenableDefinitionMixin:function(){return Uc},TweenableMixin:function(){return ac},UpdatableDurationDefinitionMixin:function(){return Hl},UpdatableDurationMediaTypes:function(){return _l},UpdatableDurationMixin:function(){return zl},UpdatableSizeDefinitionMixin:function(){return Ql},UpdatableSizeMediaType:function(){return Ul},UpdatableSizeMixin:function(){return Kl},VideoClass:function(){return ad},VideoMediaClass:function(){return ld},VideoStreamType:function(){return Ke},VideoType:function(){return $e},actionInstance:function(){return wa},arrayLast:function(){return Xn},arrayReversed:function(){return tr},arraySet:function(){return er},arrayUnique:function(){return nr},assertAboveZero:function(){return me},assertAction:function(){return aa},assertArray:function(){return ye},assertBoolean:function(){return ne},assertChangeAction:function(){return ha},assertClientAudio:function(){return Bi},assertClientFont:function(){return Ui},assertClientImage:function(){return Di},assertClientMedia:function(){return $i},assertClientVideo:function(){return Li},assertClip:function(){return yo},assertContainer:function(){return Uo},assertContainerObject:function(){return Vo},assertContainerType:function(){return bt},assertContent:function(){return Go},assertContentType:function(){return Zt},assertConvolutionServerFilter:function(){return As},assertDataGroup:function(){return _o},assertDataType:function(){return Gt},assertDecodeOutput:function(){return md},assertDecoding:function(){return Dl},assertDefined:function(){return oe},assertDirection:function(){return en},assertEditType:function(){return Pt},assertEffect:function(){return co},assertEndpoint:function(){return Sr},assertFilterDefinition:function(){return qu},assertFont:function(){return xl},assertFontMedia:function(){return Cl},assertIdentified:function(){return Pn},assertInteger:function(){return le},assertLoadType:function(){return dt},assertLoaderType:function(){return Wi},assertMashMedia:function(){return na},assertMedia:function(){return _i},assertMediaType:function(){return nt},assertMethod:function(){return ie},assertMoveAction:function(){return ka},assertNumber:function(){return ee},assertObject:function(){return J},assertPlugin:function(){return bc},assertPoint:function(){return Qo},assertPopulatedArray:function(){return xe},assertPopulatedObject:function(){return Ce},assertPopulatedString:function(){return we},assertPositive:function(){return he},assertProbeOptions:function(){return xd},assertProbeOutput:function(){return Cd},assertProbing:function(){return Bl},assertProperty:function(){return Io},assertRect:function(){return ou},assertRequest:function(){return Or},assertRgb:function(){return Pe},assertSelectType:function(){return jt},assertSize:function(){return Ca},assertSizeAboveZero:function(){return Aa},assertString:function(){return Q},assertTime:function(){return Oe},assertTimeRange:function(){return Me},assertTrack:function(){return ho},assertTranscodingType:function(){return at},assertTrue:function(){return Te},assertTweenable:function(){return ao},assertTweenableDefinition:function(){return uo},assertTyped:function(){return Ai},assertUpdatableDuration:function(){return Il},assertUpdatableDurationDefinition:function(){return Ml},assertUpdatableSize:function(){return Wl},assertUpdatableSizeDefinition:function(){return Jl},assertValue:function(){return Ae},assertValueObject:function(){return Le},assertVideo:function(){return cc},assertVideoMedia:function(){return uc},audioDefinition:function(){return yf},audioDefinitionFromId:function(){return bf},audioFromId:function(){return wf},audioInstance:function(){return kf},audioPreviewInstance:function(){return Xl},centerPoint:function(){return hu},clipInstance:function(){return ml},colorBlack:function(){return Gr},colorBlackOpaque:function(){return Yr},colorBlackTransparent:function(){return Kr},colorBlue:function(){return ni},colorFromRgb:function(){return ci},colorGreen:function(){return Xr},colorMixRbg:function(){return di},colorMixRbga:function(){return fi},colorRed:function(){return ti},colorRgbDifference:function(){return li},colorRgbKeys:function(){return Ur},colorRgbToHex:function(){return ri},colorRgbaKeys:function(){return qr},colorRgbaToHex:function(){return ii},colorToRgb:function(){return ui},colorToRgba:function(){return si},colorTransparent:function(){return Wr},colorValid:function(){return ai},colorValidHex:function(){return oi},colorWhite:function(){return $r},colorWhiteOpaque:function(){return Qr},colorWhiteTransparent:function(){return Jr},colorYellow:function(){return ei},commandFilesInput:function(){return Du},commandFilesInputIndex:function(){return Nu},decodingInstance:function(){return $c},editorArgs:function(){return ff},editorInstance:function(){return df},editorSelectionInstance:function(){return wo},editorSingleton:function(){return uf},effectDefinition:function(){return Xc},effectDefinitionFromId:function(){return el},effectFromId:function(){return nl},effectInstance:function(){return tl},encodingInstance:function(){return Tl},endpointAbsolute:function(){return Pr},endpointFromAbsolute:function(){return Er},endpointFromUrl:function(){return Tr},endpointIsAbsolute:function(){return _r},endpointUrl:function(){return Cr},error:function(){return U},errorCaught:function(){return q},errorMessage:function(){return D},errorName:function(){return H},errorObject:function(){return V},errorObjectCaught:function(){return B},errorPromise:function(){return W},errorThrow:function(){return G},eventStop:function(){return ll},filePromises:function(){return cf},filterDefinition:function(){return tc},filterDefinitionFromId:function(){return nc},filterFromId:function(){return ic},filterInstance:function(){return rc},fontDefault:function(){return Hf},fontDefinition:function(){return Bf},fontDefinitionFromId:function(){return Uf},fontFind:function(){return Vf},idGenerate:function(){return zo},idGenerateString:function(){return Fo},idIsTemporary:function(){return Ro},idTemporary:function(){return Ao},imageDefinition:function(){return Jf},imageDefinitionFromId:function(){return Kf},imageFromId:function(){return Yf},imageFromVideoPromise:function(){return cd},imageInstance:function(){return Qf},isAboveZero:function(){return ve},isAction:function(){return ia},isActionEvent:function(){return ua},isActionInit:function(){return oa},isArray:function(){return ge},isAudio:function(){return rl},isAudioMedia:function(){return il},isBelowOne:function(){return pe},isBoolean:function(){return te},isChangeAction:function(){return da},isChangeActionObject:function(){return la},isClientAudio:function(){return Vi},isClientFont:function(){return Hi},isClientImage:function(){return Ni},isClientMedia:function(){return Gi},isClientVideo:function(){return Ri},isClip:function(){return go},isClipObject:function(){return mo},isClipSelectType:function(){return zt},isColorContent:function(){return ol},isContainer:function(){return Ho},isContainerDefinition:function(){return Bo},isContainerObject:function(){return Do},isContainerType:function(){return yt},isContent:function(){return Wo},isContentDefinition:function(){return $o},isContentType:function(){return wt},isConvolutionServerFilter:function(){return zs},isCookedType:function(){return ut},isDataGroup:function(){return To},isDataType:function(){return Wt},isDecodeOutput:function(){return vd},isDecoding:function(){return Nl},isDecodingType:function(){return Ll},isDefined:function(){return ae},isDefiniteError:function(){return Ve},isDirection:function(){return Xt},isEditType:function(){return _t},isEffect:function(){return so},isEffectMedia:function(){return lo},isEndpoint:function(){return xr},isErrorName:function(){return N},isEventType:function(){return dn},isFillType:function(){return Dt},isFilterDefinition:function(){return Uu},isFloat:function(){return fe},isFont:function(){return Zl},isFontMedia:function(){return Sl},isGraphFileType:function(){return Ht},isIdentified:function(){return _n},isImage:function(){return rf},isImageMedia:function(){return af},isInteger:function(){return ce},isJsonRecord:function(){return Ne},isJsonRecords:function(){return De},isLoadType:function(){return ft},isLoaderType:function(){return qi},isMashAndMediaObject:function(){return ea},isMashMedia:function(){return ta},isMedia:function(){return Ti},isMediaInstance:function(){return Ci},isMediaInstanceObject:function(){return Si},isMediaObject:function(){return Ei},isMediaType:function(){return tt},isMethod:function(){return re},isMoveAction:function(){return ba},isNan:function(){return ue},isNumber:function(){return se},isNumberOrNaN:function(){return X},isNumeric:function(){return Ee},isObject:function(){return $},isOrientation:function(){return Kt},isOutput:function(){return Tn},isPlugin:function(){return yc},isPoint:function(){return Ko},isPopulatedArray:function(){return Ze},isPopulatedObject:function(){return Se},isPopulatedString:function(){return ke},isPositive:function(){return de},isProbeOptions:function(){return Zd},isProbeOutput:function(){return Sd},isProbing:function(){return Vl},isPropertied:function(){return wi},isProperty:function(){return Po},isRawMedia:function(){return Ki},isRawType:function(){return ct},isRect:function(){return au},isRequest:function(){return Ir},isRequestable:function(){return Mr},isRequestableObject:function(){return jr},isRgb:function(){return _e},isSelectType:function(){return Ot},isSelectedProperty:function(){return hf},isShapeContainer:function(){return Zf},isSize:function(){return Sa},isSizingMediaType:function(){return pt},isString:function(){return K},isTime:function(){return Ie},isTimeRange:function(){return je},isTimingMediaType:function(){return mt},isTrack:function(){return fo},isTranscodeOutput:function(){return jd},isTranscoding:function(){return xi},isTranscodingType:function(){return it},isTriggerType:function(){return un},isTrueValue:function(){return ze},isTweenable:function(){return io},isTweenableDefinition:function(){return oo},isTyped:function(){return zi},isUndefined:function(){return Y},isUpdatableDuration:function(){return Pl},isUpdatableDurationDefinition:function(){return jl},isUpdatableDurationType:function(){return Ol},isUpdatableSize:function(){return ql},isUpdatableSizeDefinition:function(){return $l},isUpdatableSizeType:function(){return Gl},isValue:function(){return Fe},isValueObject:function(){return Re},isVideo:function(){return sc},isVideoMedia:function(){return oc},mashDefault:function(){return tf},mashMedia:function(){return nf},mediaDefinition:function(){return Oi},mediaInfo:function(){return sf},mediaTypeFromMime:function(){return of},pixelToFrame:function(){return cl},plugin:function(){return wc},pluginId:function(){return kc},pluginPromise:function(){return Zc},pointCopy:function(){return eu},pointNegate:function(){return iu},pointRound:function(){return tu},pointString:function(){return nu},pointValueString:function(){return ru},pointsEqual:function(){return Yo},propertyInstance:function(){return Oo},propertyTypeCoerce:function(){return yi},propertyTypeDefault:function(){return mi},propertyTypeIsString:function(){return vi},propertyTypeValid:function(){return gi},protocolLoadPromise:function(){return Tc},rectCopy:function(){return fu},rectFromSize:function(){return cu},rectRound:function(){return du},rectString:function(){return pu},rectsEqual:function(){return uu},rectsFromSizes:function(){return lu},requestAudioPromise:function(){return Oc},requestExtension:function(){return Pc},requestFontPromise:function(){return jc},requestImagePromise:function(){return Mc},requestMediaPromise:function(){return Dc},requestPromise:function(){return Vc},requestProtocol:function(){return Ic},requestProtocolPromise:function(){return Fc},requestRawPromise:function(){return Nc},requestRecordPromise:function(){return Rc},requestRecordsPromise:function(){return Lc},requestVideoPromise:function(){return Ac},resolverExtension:function(){return Od},resolverLoad:function(){return _d},resolverPathPromise:function(){return Id},resolverPromise:function(){return Pd},roundMethod:function(){return Wa},roundWithMethod:function(){return Ga},selectedPropertiesScalarObject:function(){return vf},selectedPropertyObject:function(){return pf},sequenceDefinition:function(){return td},sequenceDefinitionFromId:function(){return nd},sequenceFromId:function(){return id},sequenceInstance:function(){return rd},sizeAboveZero:function(){return za},sizeCeil:function(){return Oa},sizeCopy:function(){return Da},sizeCover:function(){return Fa},sizeEven:function(){return Pa},sizeFloor:function(){return ja},sizeFromElement:function(){return Ua},sizeLock:function(){return Va},sizeLockNegative:function(){return Ha},sizeRound:function(){return Ia},sizeScale:function(){return Ma},sizeString:function(){return Ba},sizedEven:function(){return _a},sizesEqual:function(){return Ea},sortByFrame:function(){return Zo},sortByIndex:function(){return xo},sortByLabel:function(){return Co},sortByTrack:function(){return So},stringFamilySizeRect:function(){return Ef},stringPluralize:function(){return Tf},stringSeconds:function(){return Cf},svgAddClass:function(){return bs},svgAppend:function(){return ds},svgDefsElement:function(){return ps},svgDifferenceDefs:function(){return gs},svgElement:function(){return Ku},svgElementInitialize:function(){return Qu},svgFeImageElement:function(){return vs},svgFilter:function(){return fs},svgFilterElement:function(){return ms},svgFunc:function(){return Ss},svgGroupElement:function(){return es},svgId:function(){return Yu},svgImageElement:function(){return ss},svgImagePromise:function(){return Es},svgImagePromiseWithOptions:function(){return _s},svgMaskElement:function(){return ls},svgPathElement:function(){return cs},svgPatternElement:function(){return hs},svgPolygonElement:function(){return is},svgRectPoints:function(){return rs},svgSet:function(){return ys},svgSetBox:function(){return as},svgSetChildren:function(){return Cs},svgSetDimensions:function(){return ts},svgSetDimensionsLock:function(){return us},svgSetTransform:function(){return ws},svgSetTransformPoint:function(){return ns},svgSetTransformRects:function(){return xs},svgSvgElement:function(){return os},svgText:function(){return Ts},svgTransform:function(){return Zs},svgUrl:function(){return Xu},svgUseElement:function(){return ks},timeEqualizeRates:function(){return Ja},timeFromArgs:function(){return no},timeFromSeconds:function(){return ro},timeRangeFromArgs:function(){return Ya},timeRangeFromSeconds:function(){return Xa},timeRangeFromTime:function(){return eo},timeRangeFromTimes:function(){return to},trackInstance:function(){return yl},transcodingInstance:function(){return Wc},tweenColorStep:function(){return gu},tweenColors:function(){return bu},tweenCoverPoints:function(){return ju},tweenCoverSizes:function(){return Ou},tweenInputTime:function(){return Lu},tweenMaxSize:function(){return wu},tweenMinMax:function(){return Ru},tweenMinSize:function(){return Zu},tweenNumberObject:function(){return Eu},tweenNumberStep:function(){return mu},tweenOption:function(){return xu},tweenOverPoint:function(){return _u},tweenOverRect:function(){return Tu},tweenOverSize:function(){return Pu},tweenPad:function(){return vu},tweenPosition:function(){return Cu},tweenRectLock:function(){return Mu},tweenRectStep:function(){return yu},tweenRects:function(){return ku},tweenRectsLock:function(){return Fu},tweenScaleSizeRatioLock:function(){return zu},tweenScaleSizeToRect:function(){return Iu},tweenableRects:function(){return Su},tweeningPoints:function(){return Au},urlBase:function(){return ir},urlBaseInitialize:function(){return ar},urlBaseInitialized:function(){return or},urlCombine:function(){return dr},urlEndpoint:function(){return ur},urlExtension:function(){return kr},urlFilename:function(){return wr},urlForEndpoint:function(){return vr},urlFromCss:function(){return Zr},urlFromEndpoint:function(){return pr},urlHasProtocol:function(){return fr},urlIsBlob:function(){return lr},urlIsHttp:function(){return cr},urlIsObject:function(){return sr},urlOptions:function(){return yr},urlOptionsObject:function(){return gr},urlPrependProtocol:function(){return br},urlProtocol:function(){return mr},urlResolve:function(){return hr},videoDefinition:function(){return fd},videoDefinitionFromId:function(){return dd},videoFromId:function(){return pd},videoInstance:function(){return hd}});var r=n(7762),i=n(8737),a=n(8415);function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=(0,a.Z)(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}var u,s,c,l,f,d,h,p,v,m,g=n(1120),y=n(4925),b=n(7326),k=n(136),w=n(7277),Z=n(5671),x=n(3144),S=n(2982),C=n(885),E=n(4942),T=n(1413),_=["response"],P=["undoSelection","redoSelection","type"],I=["type","name","defaultValue"],O=["filter"],j=["lock"],M=["clip"],F=["contentColors"],z=["contentColors"],A={Environment:"error.environment",DecodeProbe:"decode.probe",Unknown:"error.unknown",Internal:"error.internal",Type:"error.type",Reference:"error.reference",Range:"error.range",Syntax:"error.syntax",Url:"error.url",Evaluation:"error.evaluation",ClientDisabledDelete:"client.disabled.delete",ClientDisabledGet:"client.disabled.get",ClientDisabledList:"client.disabled.list",ClientDisabledSave:"client.disabled.save",ImportType:"import.type",ImportDuration:"import.duration",ImportSize:"import.size",ImportFile:"import.file",ServerAuthentication:"server.authentication",ServerAuthorization:"server.authorization",FilterId:"filter.id",MediaId:"media.id",Unimplemented:"error.unimplemented",Frame:"error.frame",OutputDuration:"output.duration",OutputDimensions:"output.dimensions"},R=Object.values(A),L={Error:A.Unknown,EvalError:A.Evaluation,InternalError:A.Internal,RangeError:A.Range,ReferenceError:A.Reference,SyntaxError:A.Syntax,TypeError:A.Type,URIError:A.Url},N=function(e){return"string"===typeof e&&R.includes(e)},D=function(e,t){return"string"===typeof t?t:e},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Internal,n=arguments.length>2?arguments[2]:void 0,r=new Error(e);return Object.assign(r,{name:t,cause:n}),r},B=function(e){if(N(e))return H(e);if("string"===typeof e)return V(e);var t=e.message,n=void 0===t?"":t,r=e.name,i=void 0===r?A.Internal:r,a=n||String(i);return V(a,i,e)},H=function(e,t){return{name:e,message:D(e,t)}},U=function(e,t){return{error:H(e,t)}},q=function(e){return{error:B(e)}},W=function(e,t){return Promise.resolve(U(e,t))},G=function(e,t,n){var r=t?function(e,t,n){var r=typeof e,i="undefined"!==r,a="object"===r,o=[n||(i?r:"value"),"is"];return o.push(a?e.constructor.name:r),i&&o.push(a?JSON.stringify(e):"'".concat(e,"'")),o.push("instead of",t),V(o.join(" "),A.Type)}(e,t,n):B(e),i=r.message,a=r.name,o=r.cause,u=V(i,a,o);throw console.trace(u.toString()),u},$=function(e){return"object"===typeof e};function J(e,t){$(e)||G(e,"Object",t)}var K=function(e){return"string"===typeof e};function Q(e,t){K(e)||G(e,"String",t)}var Y=function(e){return"undefined"===typeof e},X=function(e){return"number"===typeof e};function ee(e,t){X(e)||G(e,"Number",t)}var te=function(e){return"boolean"===typeof e};function ne(e,t){te(e)||G(e,"Boolean",t)}var re=function(e){return"function"===typeof e};function ie(e,t){re(e)||G(e,"Method",t)}var ae=function(e){return!Y(e)};function oe(e,t){ae(e)||G(e,"Defined",t)}var ue=function(e){return X(e)&&Number.isNaN(e)},se=function(e){return X(e)&&!Number.isNaN(e)},ce=function(e){return Number.isInteger(e)};function le(e,t){ce(e)||G(e,"Integer",t)}var fe=function(e){return se(e)&&!ce(e)},de=function(e){return se(e)&&e>=0};function he(e,t){de(e)||G(e,">= 0",t)}var pe=function(e){return se(e)&&e<1},ve=function(e){return se(e)&&e>0};function me(e,t){ve(e)||G(e,"> zero",t)}var ge=function(e){return ae(Array.isArray)?Array.isArray(e):e instanceof Array};function ye(e,t){ge(e)||G(e,"Array",t)}var be=function(e){return!!e.length},ke=function(e){return K(e)&&be(String(e))};function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";ke(e)||G(e,"populated string",t)}var Ze=function(e){return ge(e)&&be(e)};function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";Ze(e)||G(e,"populated array",t)}var Se=function(e){return $(e)&&be(Object.keys(e))};function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";Se(e)||G(e,"populated array",t)}var Ee=function(e){return(se(e)||ke(e))&&!ue(Number(e))};function Te(e){e||G(e,"true",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value")}var _e=function(e){return $(e)&&"r"in e&&"g"in e&&"b"in e};function Pe(e,t){_e(e)||G(e,"Rgb",t)}var Ie=function(e){return $(e)&&"isRange"in e};function Oe(e,t){Ie(e)||G(e,"Time",t)}var je=function(e){return Ie(e)&&e.isRange};function Me(e,t){je(e)||G(e,"TimeRange",t)}var Fe=function(e){return se(e)||K(e)},ze=function(e){return!!Fe(e)&&(Ee(e)?!!Number(e):ke(e))};function Ae(e,t){Fe(e)||G(e,"Value",t)}var Re=function(e){return $(e)&&Object.values(e).every((function(e){return Fe(e)}))};function Le(e,t){Re(e)||G(e,"ValueRecord",t)}var Ne=function(e){return $(e)&&!("error"in e)},De=function(e){return ge(e)},Ve=function(e){return $(e)&&"error"in e&&$(e.error)},Be="audio",He="effect",Ue="font",qe="image",We="mash",Ge="sequence",$e="video",Je="audiostream",Ke="videostream",Qe="json",Ye="record",Xe="records",et=[Be,He,Ue,qe,We,Ge,$e],tt=function(e){return et.includes(e)};function nt(e,t){tt(e)||G(e,"MediaType",t)}var rt=[Ue,qe,$e,Ge],it=function(e){return rt.includes(e)};function at(e,t){it(e)||G(e,"TranscodingType",t)}var ot=[He,We],ut=function(e){return K(e)&&ot.includes(e)},st=[Be,qe,$e],ct=function(e){return K(e)&&st.includes(e)},lt=[].concat(st,[Ue,Qe]),ft=function(e){return lt.includes(e)};function dt(e,t){ft(e)||G(e,"LoadType",t)}var ht=[Ue,qe,$e,Ge],pt=function(e){return ht.includes(e)},vt=[Be,$e,Ge],mt=function(e){return vt.includes(e)},gt=[Ue,qe,Ge],yt=function(e){return gt.includes(e)};function bt(e,t){yt(e)||G(e,"ContainerType",t)}var kt=[qe,$e,Ge,Be],wt=function(e){return kt.includes(e)};function Zt(e,t){wt(e)||G(e,"ContentType",t)}var xt,St,Ct,Et,Tt=[qe,$e,Ge,Be],_t=function(e){return Tt.includes(e)};function Pt(e,t){_t(e)||G(e,"EditType",t)}!function(e){e.At="at",e.After="after",e.Before="before",e.None="none"}(xt||(xt={})),function(e){e.AddClipToTrack="addClipToTrack",e.AddTrack="addTrack",e.Change="change",e.ChangeFrame="changeFrame",e.ChangeMultiple="changeMultiple",e.Move="move",e.MoveClip="moveClip",e.RemoveClip="removeClip"}(St||(St={})),function(e){e.Audio="audio",e.Both="both",e.Video="video"}(Ct||(Ct={})),function(e){e.Clip="clip",e.Container="container",e.Content="content",e.Mash="mash",e.None="none",e.Track="track"}(Et||(Et={}));var It=Object.values(Et),Ot=function(e){return It.includes(e)};function jt(e,t){Ot(e)||G(e,"SelectType",t)}var Mt,Ft=[Et.Content,Et.Container],zt=function(e){return Ot(e)&&Ft.includes(e)};!function(e){e.AudioConcat="wav",e.Flv="flv",e.Hls="hls",e.Jpeg="jpeg",e.Mdash="mdash",e.Mp3="mp3",e.Mp4="mp4",e.Png="image2",e.Rtmp="rtmp",e.VideoConcat="yuv4mpegpipe"}(Mt||(Mt={}));var At,Rt=[Be,qe,$e,Ue];!function(e){e.Color="color",e.Fill="fill"}(At||(At={}));var Lt,Nt=Object.values(At),Dt=function(e){return Nt.includes(e)};!function(e){e.Svg="svg",e.SvgSequence="svgsequence",e.Txt="txt"}(Lt||(Lt={}));var Vt,Bt=Object.values(Lt),Ht=function(e){return ke(e)&&Bt.includes(e)};!function(e){e.Boolean="boolean",e.ContainerId="containerid",e.ContentId="contentid",e.DefinitionId="definitionid",e.FontId="fontid",e.Frame="frame",e.Icon="icon",e.Number="number",e.Percent="percent",e.Rgb="rgb",e.String="string",e.Option="option"}(Vt||(Vt={}));var Ut,qt=Object.values(Vt),Wt=function(e){return qt.includes(e)};function Gt(e,t){Wt(e)||G(e,"DataType",t)}!function(e){e.H="H",e.V="V"}(Ut||(Ut={}));var $t,Jt=Object.values(Ut),Kt=function(e){return ke(e)&&Jt.includes(e)};!function(e){e.E="E",e.N="N",e.S="S",e.W="W"}($t||($t={}));var Qt,Yt=Object.values($t),Xt=function(e){return Yt.includes(e)};function en(e,t){Xt(e)||G(e,"Direction",t)}!function(e){e.E="E",e.N="N",e.NE="NE",e.NW="NW",e.S="S",e.SE="SE",e.SW="SW",e.W="W"}(Qt||(Qt={}));var tn,nn=Object.values(Qt);!function(e){e.Init="init",e.Stop="stop",e.Start="start"}(tn||(tn={}));var rn,an,on=Object.values(tn),un=function(e){return on.includes(e)};!function(e){e.Scale="scale",e.Translate="translate"}(rn||(rn={})),function(e){e.Action="action",e.Active="active",e.Added="added",e.Cast="cast",e.Draw="draw",e.Duration="durationchange",e.Ended="ended",e.Frame="frame",e.Fps="ratechange",e.Loaded="loadeddata",e.Pause="pause",e.Play="play",e.Playing="playing",e.Render="render",e.Resize="resize",e.Save="save",e.Seeked="seeked",e.Seeking="seeking",e.Selection="selection",e.Time="timeupdate",e.Track="track",e.Volume="volumechange",e.Waiting="waiting"}(an||(an={}));var sn,cn,ln,fn=Object.values(an),dn=function(e){return fn.includes(e)};!function(e){e.Audio="audio",e.Effect="effect",e.Video="video"}(sn||(sn={})),function(e){e.Redo="redo",e.Remove="remove",e.Render="render",e.Save="save",e.Undo="undo"}(cn||(cn={})),function(e){e.Api="api",e.Data="data",e.File="file",e.Rendering="rendering",e.Web="web"}(ln||(ln={}));var hn,pn,vn=Object.values(ln);!function(e){e[e.Unknown=-1]="Unknown",e[e.Unlimited=-2]="Unlimited",e[e.None=0]="None"}(hn||(hn={})),function(e){e.Custom="custom",e.Content="content",e.Container="container"}(pn||(pn={}));var mn,gn=Object.values(pn);!function(e){e.Preview="preview",e.Content="content",e.Container="container"}(mn||(mn={}));var yn,bn=Object.values(mn);!function(e){e.Show="show",e.Hide="hide",e.Play="play"}(yn||(yn={}));var kn,wn=Object.values(yn),Zn="5.1.2",xn=(0,T.Z)((0,T.Z)({},{start:"",status:""}),{},{upload:""}),Sn={delete:"",get:"",put:"",retrieve:""},Cn={cast:(0,T.Z)((0,T.Z)({},Sn),{},{default:""}),mash:(0,T.Z)((0,T.Z)({},Sn),{},{default:""}),stream:(0,T.Z)({},Sn),definition:(0,T.Z)({},Sn)},En=(h={},(0,E.Z)(h,ln.Api,{servers:"",callbacks:""}),(0,E.Z)(h,ln.Data,Cn),(0,E.Z)(h,ln.File,{store:""}),(0,E.Z)(h,ln.Rendering,xn),h);Object.entries(En).forEach((function(e){var t=(0,C.Z)(e,2),n=t[0],r=t[1];$(r)&&Object.entries(r).forEach((function(e){var t=(0,C.Z)(e,2),i=t[0],a=t[1];K(a)?r[i]="/".concat(n,"/").concat(i):Object.entries(a).forEach((function(e){var t=(0,C.Z)(e,2),r=t[0];t[1]||(a[r]="/".concat(n,"/").concat(i,"/").concat(r))}))}))})),function(e){e.Browser="browser",e.Player="player",e.Inspector="inspector",e.Timeline="timeline"}(kn||(kn={}));var Tn=function(e){return $(e)},_n=function(e){return $(e)&&"id"in e&&ke(e.id)};function Pn(e,t){_n(e)||G(e,"Identified",t)}var In="acending",On="decending",jn="jpg",Mn="json",Fn="txt",zn="css",An="mp4",Rn="png",Ln="text/css",Nn=function(){},Dn="http://www.w3.org/2000/svg",Vn="http://www.w3.org/1999/xhtml",Bn="http://www.w3.org/1999/xlink",Hn="com.moviemasher.",Un=".default",qn="disabled",Wn="item",Gn="button",$n="collapsed",Jn="selected",Kn="dropping",Qn="dropping-before",Yn="dropping-after",Xn=function(e){return e[e.length-1]},er=function(e,t){return e.splice.apply(e,[0,e.length].concat((0,S.Z)(t))),e},tr=function(e){return(0,S.Z)(e).reverse()},nr=function(e){return(0,S.Z)(new Set(e))},rr="",ir=function(){return or()?rr:G(A.Url)},ar=function(e){if(ke(e))return rr=e;var t=globalThis.document;return rr=(null===t||void 0===t?void 0:t.baseURI)||"http://localhost/"},or=function(){return Boolean(rr)},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URL(ir()),n=t.protocol,r=t.hostname,i=t.port,a=t.pathname,o={protocol:n,hostname:r,pathname:hr(a,e.pathname)};return Ee(i)&&(o.port=Number(i)),o},sr=function(e){return e.startsWith("object:/")},cr=function(e){return e.startsWith("http")},lr=function(e){return Boolean(null===e||void 0===e?void 0:e.startsWith("blob"))},fr=function(e){return e.includes(":")},dr=function(e,t){return(e.endsWith("/")?e.slice(0,-1):e)+"/"+(t.startsWith("/")?t.slice(1):t)},hr=function(e,t){if(!t)return e;var n=(0,C.Z)(t,2),r=n[0],i=n[1];if("/"===r)return t;if("."!==r||"/"===i)return dr(e,t);var a=(e.endsWith("/")?e.slice(0,-1):e).split("/");return t.split("/").forEach((function(e){".."===e?a.pop():a.push(e)})),a.join("/")},pr=function(e){var t=ur(e),n=t.port,r=t.pathname,i=t.hostname,a=t.protocol,o=t.search;we(i),we(a);var u=[];u.push(a,"//",i),Ee(n)&&u.push(":",String(n));var s=u.join("");if(!r)return s;var c=dr(s,r);return o?[c,o].join(""):c},vr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&fr(t))return t;var n=pr(e),r=n.endsWith("/")?n:n+"/";return fr(r)?new URL(t,r).href:r+t},mr=function(e){var t=e.indexOf(":");return ve(t)?e.slice(0,t+1):""},gr=function(e){if(ke(e)){var t=e.split(";").map((function(e){var t=e.split("="),n=(0,C.Z)(t,2),r=n[0],i=n[1];return[r,Ee(i)?Number(i):i]}));return Object.fromEntries(t)}},yr=function(e){return e?Object.entries(e).map((function(e){return e.join("=")})).join(";"):""},br=function(e,t,n){var r=e.endsWith(":")?e:"".concat(e,":");return t.startsWith(r)&&!n?t:"".concat(r).concat(yr(n),"/").concat(t)},kr=function(e){return"."===e[0]?e.slice(1):e},wr=function(e,t){return"".concat(e,".").concat(kr(t))},Zr=function(e){var t=e.matchAll(/url\(([^)]+)\)(?!.*\1)/g),n=(0,S.Z)(t);return Xn(Xn(n))},xr=function(e){return $(e)};function Sr(e,t){xr(e)||G(e,"Endpoint",t)}var Cr=function(e){var t=Pr(e),n=t.protocol,r=t.hostname,i=t.pathname,a=t.port,o=t.search,u=[n];return lr(n)||u.push("//"),u.push(r),Ee(a)&&u.push(":".concat(a)),i&&u.push(i),o&&u.push(o),u.join("")},Er=function(e){var t=new URL(e),n=t.protocol,r=t.hostname,i=t.pathname,a=t.port,o={protocol:n,hostname:r,pathname:i,search:t.search};return Ee(a)&&(o.port=Number(a)),o},Tr=function(e){if(fr(e))return Er(e);var t=e.split("?"),n=(0,C.Z)(t,2),r=n[0],i=n[1],a={pathname:r};return i&&(a.search="?".concat(i)),a},_r=function(e){var t=e.hostname,n=e.protocol;return lr(n)||ke(t)},Pr=function(e){return _r(e)?e:ur(e)},Ir=function(e){return $(e)&&("endpoint"in e&&xr(e.endpoint)||"response"in e&&$(e.response))};function Or(e,t){Ir(e)||G(e,"Request",t)}var jr=function(e){return _n(e)},Mr=function(e){return $(e)&&"request"in e&&Ir(e.request)},Fr=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/,zr=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d*(?:\.\d+)?)\)$/,Ar=/^#([A-Fa-f0-9]{3,4}){1,2}$/,Rr=function(e){return e.toLowerCase().replace(/[\s]/g,"")},Lr=function(e){return zr.test(e)},Nr=function(e){return Fr.test(e)},Dr=function(e,t){return e.match(new RegExp(".{".concat(t,"}"),"g"))},Vr=function(e){return parseInt(e.repeat(2/e.length),16)},Br={r:0,g:0,b:0},Hr=(0,T.Z)((0,T.Z)({},Br),{},{a:1}),Ur="rgb".split(""),qr=[].concat((0,S.Z)(Ur),["a"]),Wr="#00000000",Gr="#000000",$r="#FFFFFF",Jr="#FFFFFF00",Kr="#00000000",Qr="#FFFFFFFF",Yr="#000000FF",Xr="#00FF00",ei="#FFFF00",ti="#FF0000",ni="#0000FF",ri=function(e){var t=e.r.toString(16),n=e.g.toString(16),r=e.b.toString(16);return t.length<2&&(t="0".concat(t)),n.length<2&&(n="0".concat(n)),r.length<2&&(r="0".concat(r)),"#".concat(t).concat(n).concat(r)},ii=function(e){var t=e.r.toString(16),n=e.g.toString(16),r=e.b.toString(16),i=Math.round(255*Number(e.a)).toString(16);return t.length<2&&(t="0".concat(t)),n.length<2&&(n="0".concat(n)),r.length<2&&(r="0".concat(r)),i.length<2&&(i="0".concat(i)),"#".concat(t).concat(n).concat(r).concat(i)},ai=function(e){var t=Rr(e);if(oi(t)||Lr(t)||Nr(t))return!0;var n="function"!==typeof Option?{color:""}:(console.log("colorStyle Option",Option),(new Option).style);n.color=e;var r=n.color;if(r===e)return!1;var i=Rr(r);return!!i&&(!(!Lr(t)&&!Nr(t))||i===t)},oi=function(e){return Ar.test(e)},ui=function(e){var t=Rr(e);if(oi(t))return function(e){if(!oi(e))return Br;var t=Math.floor((e.length-1)/3),n=Dr(e.slice(1),t);if(!n)return Br;var r=n.map(Vr),i=(0,C.Z)(r,3);return{r:i[0],g:i[1],b:i[2]}}(t);var n=t.match(Fr);return n?{r:Number(n[1]),g:Number(n[2]),b:Number(n[3])}:Br},si=function(e){if(!ai(e))return Hr;var t=Rr(e);return oi(t)?function(e){if(!oi(e))return Hr;var t=Math.floor((e.length-1)/3),n=Dr(e.slice(1),t);if(!n)return Hr;var r,i=n.map(Vr),a=(0,C.Z)(i,4),o=a[0],u=a[1],s=a[2],c=a[3];return{r:o,g:u,b:s,a:(r=c,de(r)?Math.max(0,Math.min(1,r/255)):1)}}(t):Lr(t)?function(e){var t=Rr(e).match(zr);return t?{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),a:Number(t[4])}:Hr}(t):Nr(t)?(0,T.Z)({a:1},ui(t)):Hr},ci=function(e){var t=e.r,n=e.g,r=e.b;return"rgb(".concat(t,",").concat(n,",").concat(r,")")},li=function(e){var t=e.r,n=e.g,r=e.b;return(0,T.Z)((0,T.Z)({},e),{},{r:255-t,g:255-n,b:255-r})};function fi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object.fromEntries(qr.map((function(r){return[r,Math.round(e[r]*n+t[r]*(1-n))]})))}function di(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object.fromEntries(Ur.map((function(r){return[r,Math.round(e[r]*(1-n)+t[r]*n)]})))}var hi=[Vt.Frame,Vt.Percent,Vt.Number],pi=function(e){return Wt(e)&&hi.includes(e)},vi=function(e){return e!==Vt.Boolean&&!pi(e)},mi=function(e){if(tt(e))return"".concat(Hn).concat(e).concat(Un);switch(e){case Vt.Boolean:return!1;case Vt.Rgb:return Gr}return pi(e)?0:""},gi=function(e,t){if(tt(t))return ke(e);switch(t){case Vt.Boolean:return function(e){return!!te(e)||(se(e)?0===e||1===e:["true","false",""].includes(e))}(e);case Vt.Rgb:return ai(String(e));case Vt.Frame:case Vt.Percent:case Vt.Number:return Ee(e);case Vt.String:return!0;case Vt.ContainerId:case Vt.ContentId:case Vt.FontId:case Vt.DefinitionId:default:return ke(e)}return!1},yi=function(e,t){return t===Vt.Boolean?te(e)?e:Ee(e)?!!Number(e):"true"===e:pi(t)?Ee(e)?Number(e):0:String(e)},bi="End",ki=function(){function e(){(0,Z.Z)(this,e),(0,E.Z)(this,"properties",[])}return(0,x.Z)(e,[{key:"addProperties",value:function(e){for(var t,n=this,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=this.properties).push.apply(t,i),i.forEach((function(t){n.propertyTweenSetOrDefault(e,t)}))}},{key:"propertiesInitialize",value:function(e){var t=this;J(e,"propertiesInitialize(object)"),this.properties.forEach((function(n){return t.propertyTweenSetOrDefault(e,n)}))}},{key:"propertyFind",value:function(e){return this.properties.find((function(t){return t.name===e}))}},{key:"propertyName",value:function(e){return e.endsWith(bi)?e.slice(0,-bi.length):e}},{key:"propertySetOrDefault",value:function(e,t,n,r){var i=e[n],a=Y(i)?r:i;this.setValue(a,n,t)}},{key:"propertyTweenSetOrDefault",value:function(e,t){var n=t.name,r=t.defaultValue,i=t.tweenable;this.propertySetOrDefault(e,t,n,r),i&&this.propertySetOrDefault(e,t,"".concat(n).concat(bi))}},{key:"setValue",value:function(e,t,n){if(Y(e))delete this[t];else{var r=this.propertyName(t),i=n||this.propertyFind(r);Te(i,"".concat(this.constructor.name,".").concat(r," in ").concat(this.properties.map((function(e){return e.name})).join(", ")));var a=i.type;if(gi(e,a)){var o=yi(e,a);this[t]=o}else r!==t&&delete this[t]}}},{key:"setValues",value:function(e){var t=this;Object.entries(e).forEach((function(e){var n=(0,C.Z)(e,2),r=n[0],i=n[1];t.setValue(i,r)}))}},{key:"toJSON",value:function(){var e=this;return Object.fromEntries(this.properties.flatMap((function(t){var n=t.name,r=t.tweenable,i=[[n,e.value(n)]];if(r){var a="".concat(n).concat(bi);i.push([a,e.value(a)])}return i})))}},{key:"value",value:function(e){return this[e]}}]),e}(),wi=function(e){return e instanceof ki},Zi=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this),(0,E.Z)((0,b.Z)(r),"createdAt",""),(0,E.Z)((0,b.Z)(r),"id",void 0),(0,E.Z)((0,b.Z)(r),"kind",""),(0,E.Z)((0,b.Z)(r),"relativeRequest",void 0),(0,E.Z)((0,b.Z)(r),"request",void 0),(0,E.Z)((0,b.Z)(r),"type","");var i=e.id,a=e.type,o=e.kind,u=e.createdAt,s=e.request;return r.id=i,ke(a)&&(r.type=a),ke(u)&&(r.createdAt=u),ke(o)&&(r.kind=o),Or(s),r.request=s,r.relativeRequest=s,r}return(0,x.Z)(n,[{key:"loadType",get:function(){var e=this.type;return console.log(this.constructor.name,"loadType",e),e===Ge?qe:(dt(e),e)}},{key:"toJSON",value:function(){var e=this.id,t=this.type,n=this.kind,r=this.createdAt,i=this.relativeRequest;i.response;return{id:e,request:(0,y.Z)(i,_),type:t,kind:n,createdAt:r}}}]),n}(ki),xi=function(e){return Mr(e)&&"type"in e&&tt(e.type)},Si=function(e){return $(e)&&("mediaId"in e||"definition"in e)},Ci=function(e){return $(e)&&"definitionIds"in e},Ei=function(e){return jr(e)},Ti=function(e){return xi(e)&&"type"in e&&tt(e.type)};function _i(e,t){Ti(e)||G(e,"Media",t)}var Pi=function(e){return G(A.Unimplemented)},Ii=(p={},(0,E.Z)(p,Be,Pi),(0,E.Z)(p,He,Pi),(0,E.Z)(p,Ue,Pi),(0,E.Z)(p,qe,Pi),(0,E.Z)(p,We,Pi),(0,E.Z)(p,Ge,Pi),(0,E.Z)(p,$e,Pi),p),Oi=function(e){var t=e.type;return nt(t),Ii[t](e)},ji=(v={},(0,E.Z)(v,Be,[]),(0,E.Z)(v,He,[]),(0,E.Z)(v,Ue,[]),(0,E.Z)(v,qe,[]),(0,E.Z)(v,We,[]),(0,E.Z)(v,Ge,[]),(0,E.Z)(v,$e,[]),v),Mi={count:0},Fi=function(){function e(){(0,Z.Z)(this,e),(0,E.Z)(this,"id",0),(0,E.Z)(this,"byId",new Map),(0,E.Z)(this,"mediaArraysByType",new Map),Mi.count++,this.id=Mi.count}return(0,x.Z)(e,[{key:"byIdAdd",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){return t.byId.set(e.id,e)}))}},{key:"byType",value:function(e){var t=this.mediaArraysByType.get(e);if(t)return t;var n=ji[e];return this.mediaArraysByType.set(e,n),n}},{key:"define",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map((function(t){return e.fromObject(t)}))}},{key:"media",value:function(e){return nt(e.type),Oi(e)}},{key:"deleteFromArray",value:function(e){var t=e.type,n=e.id,r=this.byType(t),i=r.findIndex((function(e){return n===e.id}));i<0||r.splice(i,1)}},{key:"mediaTypeFromId",value:function(e){var t=e.split(".").slice(-2).shift();return tt(t)?t:void 0}},{key:"fromId",value:function(e){if(this.installed(e))return this.byId.get(e);var t=this.mediaTypeFromId(e);nt(t,"in MediaCollection.fromId('".concat(e,"')"));var n=this.byType(t).find((function(t){return t.id===e}));return _i(n,e),n}},{key:"fromObject",value:function(e){var t=e.id,n=e.type;if(we(t),this.installed(t)||this.predefined(t))return this.fromId(t);var r=n||this.mediaTypeFromId(t);return nt(r,"type"),e.type=r,this.install(this.media(e))}},{key:"ids",get:function(){return(0,S.Z)(this.byId.keys())}},{key:"install",value:function(e){var t=e.type,n=e.id;return this.installed(n)?(this.uninstall(e),this.updateDefinition(this.fromId(n),e)):(this.byIdAdd(e),this.byType(t).push(e),e)}},{key:"installed",value:function(e){var t,n=this.byId.has(e);return n||(t=console).trace.apply(t,[this.constructor.name,this.id,"installed FALSE",e].concat((0,S.Z)(this.byId.keys()))),n}},{key:"predefined",value:function(e){if(e.startsWith(Hn))return!0;var t=this.mediaTypeFromId(e);return!!t&&this.byType(t).some((function(t){return t.id===e}))}},{key:"undefineAll",value:function(){this.byId=new Map,this.mediaArraysByType=new Map}},{key:"updateDefinition",value:function(e,t){return this.uninstall(e),this.install(t),t}},{key:"updateDefinitionId",value:function(e,t){var n=this.byId.get(e);_i(n,"media"),this.byId.delete(e),this.byId.set(t,n)}},{key:"uninstall",value:function(e){this.deleteFromArray(e);var t=e.id;return this.byId.delete(t),e}}]),e}(),zi=function(e){return $(e)&&"type"in e&&ke(e.type)};function Ai(e,t){zi(e)||G(e,"Typed",t)}var Ri=function(e){return $(e)&&e instanceof HTMLVideoElement};function Li(e,t){Ri(e)||G(e,"ClientVideo",t)}var Ni=function(e){return $(e)&&e instanceof HTMLImageElement};function Di(e,t){Ni(e)||G(e,"ClientImage",t)}var Vi=function(e){return $(e)&&e instanceof AudioBuffer};function Bi(e,t){Vi(e)||G(e,"ClientAudio",t)}var Hi=function(e){return $(e)&&"family"in e};function Ui(e,t){Hi(e)||G(e,"ClientFont",t)}var qi=function(e){return ft(e)||Ht(e)};function Wi(e,t){qi(e)||G(e,"LoaderType",t)}var Gi=function(e){return Vi(e)||Hi(e)||Ni(e)||Ri(e)||Ne(e)};function $i(e,t){Gi(e)||G(e,"ClientMedia",t)}var Ji,Ki=function(e){return Ni(e)||Ri(e)||Vi(e)},Qi=function(){function e(){(0,Z.Z)(this,e),(0,E.Z)(this,"_context",void 0),(0,E.Z)(this,"sourcesById",new Map)}return(0,x.Z)(e,[{key:"addSource",value:function(e,t){this.sourcesById.set(e,t)}},{key:"context",get:function(){if(!this._context){var e=AudioContext||window.webkitAudioContext;ie(e),this._context=new e}return this._context}},{key:"createBuffer",value:function(e){var t=44100*e;return this.context.createBuffer(2,t,44100)}},{key:"createBufferSource",value:function(e){var t=this.context.createBufferSource();return e&&(t.buffer=e),t}},{key:"createGain",value:function(){return this.context.createGain()}},{key:"currentTime",get:function(){return this.context.currentTime}},{key:"decode",value:function(e){var t=this;return new Promise((function(n,r){return t.context.decodeAudioData(e,(function(e){return n(e)}),(function(e){return r(e)}))}))}},{key:"deleteSource",value:function(e){var t=this.getSource(e);if(t){this.sourcesById.delete(e);var n=t.gainSource,r=t.gainNode;r.disconnect(this.destination),n.disconnect(r),n.stop()}}},{key:"destination",get:function(){return this.context.destination}},{key:"getSource",value:function(e){return this.sourcesById.get(e)}},{key:"hasSource",value:function(e){return this.sourcesById.has(e)}},{key:"startAt",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this.createGain();t.loop=a,t.connect(o),o.connect(this.destination),t.start(this.currentTime+n,i,r),this.addSource(e,{gainSource:t,gainNode:o})}}]),e}(),Yi=new Qi,Xi={audible:function(){return new Qi}};!function(e){e[e.First=0]="First",e[e.Last=-1]="Last"}(Ji||(Ji={}));var ea=function(e){return $(e)&&"media"in e&&ge(e.media)},ta=function(e){return $(e)&&"composition"in e};function na(e,t){ta(e)||G(e,"MashMedia",t)}var ra=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"done",!1),(0,E.Z)(this,"redoSelection",void 0),(0,E.Z)(this,"type",void 0),(0,E.Z)(this,"undoSelection",void 0);var n=t.redoSelection,r=t.type,i=t.undoSelection;this.redoSelection=n,this.type=r,this.undoSelection=i}return(0,x.Z)(e,[{key:"mash",get:function(){var e=this.redoSelection.mash;if(ta(e))return e;var t=this.undoSelection.mash;return na(t),t}},{key:"redo",value:function(){this.redoAction(),this.done=!0}},{key:"redoAction",value:function(){return G(A.Unimplemented)}},{key:"selection",get:function(){return this.done?this.redoSelection:this.undoSelection}},{key:"undo",value:function(){this.undoAction(),this.done=!1}},{key:"undoAction",value:function(){return G(A.Unimplemented)}}]),e}(),ia=function(e){return e instanceof ra};function aa(e){if(!ia(e))throw new Error("expected Action")}var oa=function(e){return ia(e.action)},ua=function(e){return e instanceof CustomEvent&&e.detail},sa=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"createTracks",void 0);var i=e.createTracks;return r.createTracks=i,r}return(0,x.Z)(n,[{key:"redoAction",value:function(){for(var e=0;e<this.createTracks;e+=1)this.mash.addTrack()}},{key:"undoAction",value:function(){for(var e=0;e<this.createTracks;e+=1)this.mash.removeTrack()}}]),n}(ra),ca=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"clips",void 0),(0,E.Z)((0,b.Z)(r),"insertIndex",void 0),(0,E.Z)((0,b.Z)(r),"trackIndex",void 0),(0,E.Z)((0,b.Z)(r),"redoFrame",void 0),(0,E.Z)((0,b.Z)(r),"undoFrame",void 0);var i=e.clips,a=e.insertIndex,o=e.trackIndex,u=e.redoFrame,s=e.undoFrame;return r.clips=i,r.insertIndex=a,r.trackIndex=o,r.redoFrame=u,r.undoFrame=s,r}return(0,x.Z)(n,[{key:"track",get:function(){return this.mash.tracks[this.trackIndex]}},{key:"redoAction",value:function(){o((0,g.Z)(n.prototype),"redoAction",this).call(this);var e=this.mash,t=this.redoFrame,r=this.trackIndex,i=this.insertIndex,a=this.clips;e.addClipToTrack(a,r,i,t)}},{key:"undoAction",value:function(){var e=this.mash,t=this.clips;e.removeClipFromTrack(t),o((0,g.Z)(n.prototype),"undoAction",this).call(this)}}]),n}(sa),la=function(e){return $(e)&&"target"in e&&"property"in e},fa=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"property",void 0),(0,E.Z)((0,b.Z)(r),"redoValue",void 0),(0,E.Z)((0,b.Z)(r),"target",void 0),(0,E.Z)((0,b.Z)(r),"undoValue",void 0);var i=e.property,a=e.redoValue,o=e.target,u=e.undoValue;return r.property=i,r.redoValue=a,r.target=o,r.undoValue=u,r}return(0,x.Z)(n,[{key:"redoValueNumeric",get:function(){return Number(this.redoValue)}},{key:"undoValueNumeric",get:function(){return Number(this.undoValue)}},{key:"redoAction",value:function(){this.target.setValue(this.redoValue,this.property)}},{key:"undoAction",value:function(){this.target.setValue(this.undoValue,this.property)}},{key:"updateAction",value:function(e){var t=e.redoValue;this.redoValue=t,this.redo()}}]),n}(ra),da=function(e){return e instanceof fa};function ha(e){if(!da(e))throw new Error("expected ChangeAction")}var pa=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){return(0,Z.Z)(this,n),t.call(this,e)}return(0,x.Z)(n,[{key:"redoAction",value:function(){this.mash.changeTiming(this.target,this.property,this.redoValueNumeric)}},{key:"undoAction",value:function(){this.mash.changeTiming(this.target,this.property,this.undoValueNumeric)}}]),n}(fa),va=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"clip",void 0),(0,E.Z)((0,b.Z)(r),"insertIndex",void 0),(0,E.Z)((0,b.Z)(r),"trackIndex",void 0),(0,E.Z)((0,b.Z)(r),"undoTrackIndex",void 0),(0,E.Z)((0,b.Z)(r),"undoInsertIndex",void 0),(0,E.Z)((0,b.Z)(r),"undoFrame",void 0),(0,E.Z)((0,b.Z)(r),"redoFrame",void 0);var i=e.clip,a=e.insertIndex,o=e.redoFrame,u=e.trackIndex,s=e.undoFrame,c=e.undoInsertIndex,l=e.undoTrackIndex;return r.clip=i,r.insertIndex=a,r.redoFrame=o,r.trackIndex=u,r.undoFrame=s,r.undoInsertIndex=c,r.undoTrackIndex=l,r}return(0,x.Z)(n,[{key:"addClip",value:function(e,t,n){this.mash.addClipToTrack(this.clip,e,t,n)}},{key:"redoAction",value:function(){o((0,g.Z)(n.prototype),"redoAction",this).call(this),this.addClip(this.trackIndex,this.insertIndex,this.redoFrame)}},{key:"undoAction",value:function(){this.addClip(this.undoTrackIndex,this.undoInsertIndex,this.undoFrame),o((0,g.Z)(n.prototype),"undoAction",this).call(this)}}]),n}(sa),ma=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"track",void 0),(0,E.Z)((0,b.Z)(r),"clip",void 0),(0,E.Z)((0,b.Z)(r),"index",void 0);var i=e.clip,a=e.index,o=e.track;return r.clip=i,r.index=a,r.track=o,r}return(0,x.Z)(n,[{key:"trackIndex",get:function(){return this.track.index}},{key:"redoAction",value:function(){this.mash.removeClipFromTrack(this.clip)}},{key:"undoAction",value:function(){this.mash.addClipToTrack(this.clip,this.trackIndex,this.index)}}]),n}(ra),ga=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n);var i=e.redoValues,a=e.undoValues;return r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"redoValues",void 0),(0,E.Z)((0,b.Z)(r),"undoValues",void 0),r.undoValues=a,r.redoValues=i,r}return(0,x.Z)(n,[{key:"redoAction",value:function(){var e=this.target,t=this.redoValues;Object.entries(t).forEach((function(t){var n=(0,C.Z)(t,2),r=n[0],i=n[1];e.setValue(i,r)}))}},{key:"undoAction",value:function(){var e=this.target,t=this.undoValues;Object.entries(t).forEach((function(t){var n=(0,C.Z)(t,2),r=n[0],i=n[1];e.setValue(i,r)}))}},{key:"updateAction",value:function(e){var t=e.redoValues;this.redoValues=t,this.redo()}}]),n}(fa),ya=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"objects",void 0),(0,E.Z)((0,b.Z)(r),"redoObjects",void 0),(0,E.Z)((0,b.Z)(r),"undoObjects",void 0);var i=e.objects,a=e.redoObjects,o=e.undoObjects;return r.objects=i,r.redoObjects=a,r.undoObjects=o,r}return(0,x.Z)(n,[{key:"redoAction",value:function(){var e;(e=this.objects).splice.apply(e,[0,this.objects.length].concat((0,S.Z)(this.redoObjects)))}},{key:"undoAction",value:function(){var e;(e=this.objects).splice.apply(e,[0,this.objects.length].concat((0,S.Z)(this.undoObjects)))}}]),n}(ra),ba=function(e){return e instanceof ya};function ka(e,t){ba(e)||G(e,"MoveAction",t)}var wa=function(e){switch(e.type){case St.AddClipToTrack:return new ca(e);case St.AddTrack:return new sa(e);case St.Change:return new fa(e);case St.ChangeFrame:return new pa(e);case St.ChangeMultiple:return new ga(e);case St.MoveClip:return new va(e);case St.Move:return new ya(e);case St.RemoveClip:return new ma(e)}},Za={createFromObject:wa},xa=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"editor",void 0),(0,E.Z)(this,"index",-1),(0,E.Z)(this,"instances",[]),this.editor=t}return(0,x.Z)(e,[{key:"add",value:function(e){var t=this.instances.length-(this.index+1);de(t)&&this.instances.splice(this.index+1,t),this.instances.push(e)}},{key:"canRedo",get:function(){return this.index<this.instances.length-1}},{key:"canSave",get:function(){return this.canUndo}},{key:"canUndo",get:function(){return this.index>-1}},{key:"create",value:function(e){var t=this.editor,n=e.undoSelection,r=e.redoSelection,i=e.type,a=void 0===i?St.Change:i,o=(0,y.Z)(e,P),u=(0,T.Z)((0,T.Z)({},o),{},{type:a,undoSelection:n||(0,T.Z)({},t.selection.object),redoSelection:r||(0,T.Z)({},t.selection.object)});if(la(e)&&this.currentActionLast){var s=this.currentAction;if(da(s)){var c=e.target,l=e.property;if(s.target===c&&s.property===l)return s.updateAction(e),void t.handleAction(s)}}var f=wa(u);this.add(f),t.handleAction(this.redo())}},{key:"currentAction",get:function(){return this.instances[this.index]}},{key:"currentActionLast",get:function(){return this.canUndo&&!this.canRedo}},{key:"destroy",value:function(){this.index=-1,this.instances.splice(0,this.instances.length)}},{key:"redo",value:function(){this.index+=1;var e=this.currentAction;return aa(e),e.redo(),e}},{key:"reusableChangeAction",value:function(e,t){if(this.currentActionLast){var n=this.currentAction;return da(n)&&n.target===e&&n.property===t?n:void 0}}},{key:"save",value:function(){this.instances.splice(0,this.index+1),this.index=-1}},{key:"selection",get:function(){return this.editor.selection}},{key:"undo",value:function(){var e=this.currentAction;return aa(e),this.index-=1,e.undo(),e}}]),e}(),Sa=function(e){return $(e)&&"width"in e&&"height"in e&&se(e.width)&&se(e.height)};function Ca(e,t){Sa(e)||G(e,"Size",t)}var Ea=function(e,t){return!!Sa(t)&&(e.width===t.width&&e.height===t.height)},Ta={width:0,height:0},_a=function(e){return 2*Math.max(1,Math.ceil(e/2))},Pa=function(e){var t=e.width,n=e.height;return{width:_a(t),height:_a(n)}},Ia=function(e){var t=e.width,n=e.height;return{width:Math.round(t),height:Math.round(n)}},Oa=function(e){var t=e.width,n=e.height;return{width:Math.max(2,Math.ceil(t)),height:Math.max(2,Math.ceil(n))}},ja=function(e){var t=e.width,n=e.height;return{width:Math.max(2,Math.floor(t)),height:Math.max(2,Math.floor(n))}},Ma=function(e,t,n){return{width:e.width*t,height:e.height*n}},Fa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Aa(e,"sizeCover.inSize"),Ca(t,"sizeCover.outSize");var r=e.width,i=e.height,a=t.width/r,o=t.height/i;return Oa((n?a<o:a>o)?(0,T.Z)((0,T.Z)({},t),{},{height:i*a}):(0,T.Z)((0,T.Z)({},t),{},{width:r*o}))},za=function(e){if(!Sa(e))return!1;var t=e.width,n=e.height;return ve(t)&&ve(n)};function Aa(e,t){za(e)||G(e,"SizeAboveZero",t)}var Ra={width:1920,height:1080},La=Ma(Ra,.25,.25),Na=Ma(La,.5,.5),Da=function(e){var t=e.width,n=void 0===t?0:t,r=e.height;return{width:n,height:void 0===r?0:r}},Va=function(e,t){var n=Da(e);switch(t){case Ut.H:n.width=n.height;break;case Ut.V:n.height=n.width}return n},Ba=function(e){var t=e.width,n=e.height;return"width=".concat(t,";height=").concat(n)},Ha=function(e,t){Aa(e,"sizeLockNegative");var n=Da(e);return t&&(t===Ut.V?n.height=-1:n.width=-1),n},Ua=function(e){var t={width:Number(e.getAttribute("width")),height:Number(e.getAttribute("height"))};return Aa(t,"sizeFromElement"),t},qa=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"queue",new Map),(0,E.Z)((0,b.Z)(e),"trapped",new Map),e}return(0,x.Z)(n,[{key:"dispatch",value:function(e,t){this.dispatchEvent(this.event(e,t))}},{key:"emit",value:function(e,t){if(this.trapped.has(e)){var n=this.trapped.get(e);n&&n(this.event(e,t))}else this.dispatch(e,t)}},{key:"enqueue",value:function(e){}},{key:"event",value:function(e,t){return new CustomEvent(e,t?{detail:t}:void 0)}},{key:"trap",value:function(e,t){this.trapped.has(e)||this.trapped.set(e,t||null)}}]),n}((0,i.Z)(EventTarget)),Wa=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"ceil":return Math.ceil;case"floor":return Math.floor;default:return Math.round}},Ga=function(e){return Wa(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")(e)},$a=function(e,t){return e*t/function(e,t){for(var n=e,r=t,i=0;0!==r;)i=r,r=n%r,n=i;return n}(e,t)},Ja=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.fps===t.fps)return[e,t];var r=$a(e.fps,t.fps);return[e.scale(r,n),t.scale(r,n)]},Ka=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,Z.Z)(this,e),(0,E.Z)(this,"fps",void 0),(0,E.Z)(this,"frame",void 0),(0,E.Z)(this,"isRange",!1),he(t),le(t),me(n),this.frame=t,this.fps=n}return(0,x.Z)(e,[{key:"add",value:function(t){var n=Ja(this,t),r=(0,C.Z)(n,2),i=r[0],a=r[1];return new e(i.frame+a.frame,i.fps)}},{key:"addFrame",value:function(e){var t=this.copy;return t.frame+=e,t}},{key:"closest",value:function(t){var n=new e(t.frame+Math.round(t.frames/2),t.fps),r=Ja(n,this),i=(0,C.Z)(r,2),a=i[0],o=i[1];return a.frame<o.frame?t.lastTime:t.startTime}},{key:"copy",get:function(){return new e(this.frame,this.fps)}},{key:"description",get:function(){return"".concat(this.frame,"@").concat(this.fps)}},{key:"divide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return me(e),1===e?this:this.withFrame(Ga(this.frame/e,t))}},{key:"equalsTime",value:function(e){var t=Ja(this,e),n=(0,C.Z)(t,2),r=n[0],i=n[1];return r.frame===i.frame}},{key:"durationFrames",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)||this.fps,n=[],r=Math.floor(t*e)-2,i=Math.min(r,this.scale(t,"floor").frame);if(this.isRange)for(var a=this.timeRange.endTime.scale(t,"ceil").frame,o=Math.min(r+1,a),u=i;u<o;u+=1)n.push(u);else n.push(i);return n}},{key:"lengthSeconds",get:function(){return 0}},{key:"min",value:function(t){var n=Ja(this,t),r=(0,C.Z)(n,2),i=r[0],a=r[1];return new e(Math.min(i.frame,a.frame),i.fps)}},{key:"scale",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.fps===t)return this;var r=Number(this.frame)/Number(this.fps)*Number(t);return new e(Ga(r,n),t)}},{key:"scaleToFps",value:function(t){return this.scaleToTime(new e(0,t))}},{key:"scaleToTime",value:function(e){return Ja(this,e)[0]}},{key:"seconds",get:function(){return Number(this.frame)/Number(this.fps)}},{key:"startTime",get:function(){return this}},{key:"subtract",value:function(t){var n=Ja(this,t),r=(0,C.Z)(n,2),i=r[0],a=r[1].frame;return a>i.frame&&(a-=a-i.frame),new e(i.frame-a,i.fps)}},{key:"subtractFrames",value:function(e){var t=this.copy;return t.frame-=e,t}},{key:"timeRange",get:function(){return G(A.Internal)}},{key:"toString",value:function(){return"[".concat(this.description,"]")}},{key:"withFrame",value:function(e){var t=this.copy;return t.frame=e,t}}]),e}(),Qa=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,Z.Z)(this,n),e=t.call(this,r,i),(0,E.Z)((0,b.Z)(e),"frames",void 0),(0,E.Z)((0,b.Z)(e),"isRange",!0),he(a),le(a),e.frames=a,e}return(0,x.Z)(n,[{key:"addFrames",value:function(e){var t=this.copy;return t.frames+=e,t}},{key:"copy",get:function(){return new n(this.frame,this.fps,this.frames)}},{key:"description",get:function(){return"".concat(this.frame,"-").concat(this.frames,"@").concat(this.fps)}},{key:"end",get:function(){return this.frame+this.frames}},{key:"endTime",get:function(){return new Ka(this.end,this.fps)}},{key:"equalsTimeRange",value:function(e){var t=Ja(this,e),n=(0,C.Z)(t,2),r=n[0],i=n[1];return r.frame===i.frame&&r.frames===i.frames}},{key:"frameTimes",get:function(){var e=this.frames,t=this.frame,n=this.fps;return Array.from({length:e},(function(e,r){return new Ka(t,n)}))}},{key:"includes",value:function(e){return e>=this.frame&&e<=this.end}},{key:"includesTime",value:function(e){var t=Ja(this,e),n=(0,C.Z)(t,2),r=n[0],i=n[1],a=r,o=a.frame,u=a.end,s=i.frame;return s>=o&&s<u}},{key:"intersection",value:function(e){var t=e.isRange?e.timeRange:new n(e.frame,e.fps),r=Ja(t,this),i=(0,C.Z)(r,2),a=i[0],o=i[1],u=a.frame,s=a.end,c=a.fps,l=o.frame,f=o.end,d=Math.max(u,l);return new n(d,c,Math.min(s,f)-d)}},{key:"intersects",value:function(e){if(!e.isRange)return this.includesTime(e);var t=Ja(e,this),n=(0,C.Z)(t,2),r=n[0],i=n[1];return!(r.frame>=i.end)&&r.end>i.frame}},{key:"last",get:function(){return this.frame+this.frames-1}},{key:"lastTime",get:function(){return new Ka(this.last,this.fps)}},{key:"lengthSeconds",get:function(){return Number(this.frames)/Number(this.fps)}},{key:"position",get:function(){return Number(this.frame)/Number(this.frames)}},{key:"positionTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ga((this.frames-this.frame)*e,t);return new Ka(this.frame+n,this.fps)}},{key:"startTime",get:function(){return new Ka(this.frame,this.fps)}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.fps===e)return this.copy;var r=Number(this.frames)/(Number(this.fps)/Number(e)),i=o((0,g.Z)(n.prototype),"scale",this).call(this,e,t),a=Math.max(1,Ga(r,t));return new n(i.frame,i.fps,a)}},{key:"timeRange",get:function(){return this}},{key:"times",get:function(){var e=[this.startTime];return this.frames>1&&e.push(this.endTime),e}},{key:"minEndTime",value:function(e){var t=Ja(this,e),n=(0,C.Z)(t,2),r=n[0],i=n[1];return r.frames=Math.min(r.frames,i.frame),r}},{key:"withFrame",value:function(e){var t=this.copy;return t.frame=e,t}},{key:"withFrames",value:function(e){var t=this.copy;return t.frames=e,t}}]),n}(Ka),Ya=function(){return new Qa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)},Xa=function(){return Ya(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)},eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ya(e.frame,e.fps,t)},to=function(e,t){if(!t)return eo(e);var n=Ja(e,t),r=(0,C.Z)(n,2),i=r[0],a=r[1];if(a.frame<=i.frame)return G(A.Frame);var o=a.frame-i.frame;return Ya(i.frame,i.fps,o)},no=function(){return new Ka(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)},ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";he(e),le(t),me(t);var r=Ga(e*t,n);return no(r,t)},io=function(e){return Ci(e)&&Ti(e.definition)};function ao(e){if(!io(e))throw new Error("expected Tweenable")}var oo=function(e){return Ti(e)};function uo(e){if(!oo(e))throw new Error("expected TweenableDefinition")}var so=function(e){return io(e)&&e.type===He};function co(e){if(!so(e))throw new Error("expected Effect")}var lo=function(e){return Ti(e)&&e.type===He},fo=function(e){return $(e)&&"frameForClipNearFrame"in e};function ho(e,t){fo(e)||G(e,"Track",t)}var po={label:"Mash",quantize:10,color:Gr,gain:.75,buffer:10},vo={duration:3,label:"Unlabeled",editor:{buffer:10,fps:30,loop:!0,volume:.75,precision:3,autoplay:!1},video:po,effect:{label:"Effect"},audio:{label:"Audio"},image:{label:"Image"},audiostream:{label:"Audio Stream"},sequence:{label:"Sequence"},videostream:{label:"Cast",quantize:10,color:Gr,gain:.75,buffer:10},mash:po,font:{label:"Text",string:"Example Text"},definition:{image:{duration:2},textcontainer:{duration:3},shape:{duration:3},visible:{duration:3},video:{fps:0},videosequence:{pattern:"%.jpg",fps:10,increment:1,begin:1,padding:0},videostream:{duration:10}}},mo=function(e){return $(e)},go=function(e){return $(e)&&"contentId"in e};function yo(e,t){go(e)||G(e,"Clip",t)}u=Et.None,s=Et.Clip,c=Et.Mash,l=Et.Track,f=Et.Container,d=Et.Content;var bo,ko=function(){function e(){(0,Z.Z)(this,e),(0,E.Z)(this,"_editor",void 0),(0,E.Z)(this,"_focus",Et.Mash),(0,E.Z)(this,"_object",{})}return(0,x.Z)(e,[{key:u,get:function(){}},{key:s,get:function(){var e=this._object.clip;if(go(e))return e}},{key:c,get:function(){var e=this._object.mash;if(ta(e))return e}},{key:l,get:function(){var e=this._object,t=e.clip,n=e.track;return fo(n)?n:go(t)?t.track:void 0}},{key:f,get:function(){var e=this._object.clip;if(go(e))return e.container}},{key:d,get:function(){var e=this._object.clip;if(go(e))return e.content}},{key:"editor",get:function(){return this._editor}},{key:"editor",set:function(e){this._editor=e}},{key:"focus",get:function(){return this._focus}},{key:"focus",set:function(e){this._focus=e}},{key:"get",value:function(e){return this[e]}},{key:"unset",value:function(e){var t=this.object[e];if(t){var n=t.selectables();Te(n[0]===t),n.shift(),this.object=this.selectionFromSelectables(n)}}},{key:"set",value:function(e){var t=e.selectType;this.object=(0,E.Z)({},t,e)}},{key:"object",get:function(){var e=this;return Object.fromEntries(It.map((function(t){return[t,e.get(t)]})))}},{key:"object",set:function(e){var t=this.selectionPopulated(e),n=this.object;this.clear(),Object.assign(this._object,t);var r=this.object,i=n.mash,a=n.clip,o=r.mash,u=r.clip;u!==a&&(go(u)&&de(u.trackNumber)&&u.track.mash.clearPreview(),go(a)&&de(a.trackNumber)&&a.track.mash.clearPreview()),Object.assign(this._object,t),this.editor.eventTarget.emit(an.Selection),o!==i&&(this.editor.eventTarget.emit(an.Loaded),this.editor.eventTarget.emit(an.Track),this.editor.eventTarget.emit(an.Duration))}},{key:"clear",value:function(){var e=this;It.forEach((function(t){delete e._object[t]}))}},{key:"selectionFromSelectables",value:function(e){return Object.fromEntries(e.map((function(e){return[e.selectType,e]})))}},{key:"selectionPopulated",value:function(e){var t=this.mash,n=(this.object,e.clip),r=e.track,i=e.mash,a=n||r||i||t;return Te(a,"target"),this.selectionFromSelectables(a.selectables())}},{key:"selectTypes",get:function(){var e=[],t=this.mash,n=this.object,r=n.clip,i=n.track;return t?(e.push(Et.Mash),i?(e.push(Et.Track),go(r)?(e.push(Et.Clip),e.push(Et.Content),ke(r.containerId)&&e.push(Et.Container),e):e):e):e}},{key:"selectedItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,n=this.selectTypes,r=this.object,i=n.filter((function(e){return t.includes(e)})),a=r.clip;return i.flatMap((function(t){var n=r[t];return zt(t)&&go(a)&&(n=a[t]),Te(n,t),n.selectedItems(e.editor.actions)}))}}]),e}(),wo=function(){return new ko},Zo=function(e,t){return e.frame-t.frame},xo=function(e,t){return e.index-t.index},So=function(e,t){return e.trackNumber-t.trackNumber},Co=function(e,t){return e.label<t.label?-1:e.label>t.label?1:0};!function(e){e.Color="color",e.Effects="effects",e.Opacity="opacity",e.Point="point",e.Size="size",e.Timing="timing"}(bo||(bo={}));var Eo=Object.values(bo),To=function(e){return Eo.includes(e)};function _o(e,t){To(e)||G(e,"DataGroup",t)}var Po=function(e){return $(e)&&"type"in e&&Wt(e.type)};function Io(e,t){Po(e)||G(e,"Property",t)}var Oo=function(e){var t=e.type,n=e.name,r=e.defaultValue,i=(0,y.Z)(e,I),a=function(e,t){return Y(e)?te(t)?Vt.Boolean:se(t)?Vt.Number:Vt.String:(Gt(e),e)}(t,r),o=function(e,t){return Y(t)?mi(e):t}(a,r),u=ke(n)?n:a,s=(0,T.Z)({type:a,defaultValue:o,name:u},i);if(t===Vt.Percent)Y(s.max)&&(s.max=1),Y(s.min)&&(s.min=0),Y(s.step)&&(s.step=.01);return s},jo="temporary",Mo={},Fo=function(){var e=[jo];return e.push(Date.now().toString(36)),e.push(Math.random().toString(36).slice(2)),e.join("-")},zo=function(e){var t=[];return t.push(e),Mo[e]||(Mo[e]=0),t.push(String(Mo[e]++)),t.join("-")},Ao=function(){return zo(jo)},Ro=function(e){return e.startsWith(jo)},Lo="".concat(Hn,"container.image").concat(Un),No="".concat(Hn,"container.image.text"),Do=function(e){return $(e)&&"opacity"in e};function Vo(e){Do(e)||G(e,"ContainerObject")}var Bo=function(e){return oo(e)&&yt(e.type)},Ho=function(e){return io(e)&&yt(e.type)};function Uo(e){if(!Ho(e))throw new Error("expected Container")}var qo="".concat(Hn,"content.image").concat(Un),Wo=function(e){return io(e)&&wt(e.type)};function Go(e,t){Wo(e)||G(e,"Content",t)}var $o=function(e){return oo(e)&&wt(e.type)};function Jo(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"type",qe),e}return(0,x.Z)(n,[{key:"loadPromise",value:function(e){return Promise.resolve()}}]),n}(e)}var Ko=function(e){return $(e)&&"x"in e&&"y"in e&&se(e.x)&&se(e.y)};function Qo(e,t){Ko(e)||G(e,"Point",t)}var Yo=function(e,t){return!!Ko(t)&&(e.x===t.x&&e.y===t.y)},Xo={x:0,y:0},eu=function(e){return{x:e.x,y:e.y}},tu=function(e){var t=e.x,n=e.y;return{x:Math.round(t),y:Math.round(n)}},nu=function(e){var t=e.x,n=e.y;return"x=".concat(t,";y=").concat(n)},ru=function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)},iu=function(e){return{x:-e.x,y:-e.y}},au=function(e){return Sa(e)&&Ko(e)};function ou(e,t){au(e)||G(e,"Rect",t)}var uu=function(e,t){return!!au(t)&&(Yo(e,t)&&Ea(e,t))},su=(0,T.Z)((0,T.Z)({},Xo),Ta),cu=function(e,t){var n=t||Xo,r=e.width,i=e.height;return{x:n.x,y:n.y,width:r,height:i}},lu=function(e,t){var n=t||[Xo,Xo],r=(0,C.Z)(e,2),i=r[0],a=r[1],o=(0,C.Z)(n,2),u=o[0],s=o[1];return[cu(i,u),cu(a,s)]},fu=function(e){return(0,T.Z)((0,T.Z)({},eu(e)),Da(e))},du=function(e){return(0,T.Z)((0,T.Z)({},Ia(e)),tu(e))},hu=function(e,t){return{x:Math.round((e.width-t.width)/2),y:Math.round((e.height-t.height)/2)}},pu=function(e){var t=[];return Sa(e)&&t.push(Ba(e)),Ko(e)&&t.push(nu(e)),t.join(";")},vu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];he(n),he(t);var a=r?t:0;return(e-t+a+(i?t:0))*n-a},mu=function(e,t,n,r){return e+(t-e)/r*n},gu=function(e,t,n,r){Q(e),Q(t);var i=n/r;return Te(oi(e),"hex color"),7===e.length||4===e.length?ri(di(ui(e),ui(t),i)):ii(fi(si(e),si(t),i))},yu=function(e,t,n,r){return{x:mu(e.x,t.x,n,r),y:mu(e.y,t.y,n,r),width:mu(e.width,t.width,n,r),height:mu(e.height,t.height,n,r)}},bu=function(e,t,n){we(e);var r=[e];if(ke(t)&&n>1)for(var i=1;i<n;i++)r.push(gu(e,t,i,n));return r},ku=function(e,t,n){var r=[e];if(t&&n>1)for(var i=1;i<n;i++)r.push(yu(e,t,i,n));return r},wu=function(e,t){var n=e.width,r=e.height;return!Sa(t)||Ea(e,t)?{width:n,height:r}:{width:Math.max(n,t.width),height:Math.max(r,t.height)}},Zu=function(e,t){var n=e.width,r=e.height;return!Sa(t)||Ea(e,t)?{width:n,height:r}:{width:Math.min(n,t.width),height:Math.min(r,t.height)}},xu=function(e,t,n,r){ee(e);var i=r?Math.round(e):e;if(!se(t))return i;var a=r?Math.round(t):t;return i===a?i:"(".concat(i,"+(").concat(a-i,"*").concat(n,"))")},Su=function(e,t){return!!au(t)&&(e.x!==t.x||(e.y!==t.y||(e.width!==t.width||e.height!==t.height)))},Cu=function(e,t){return"(".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n","/").concat(e*t,")")},Eu=function(e){if(!$(e))return{};var t=Object.entries(e).filter((function(e){var t=(0,C.Z)(e,2),n=(t[0],t[1]);return se(n)}));return Object.fromEntries(t)},Tu=function(e,t){return(0,T.Z)((0,T.Z)({},e),Eu(t))},_u=function(e,t){return(0,T.Z)((0,T.Z)({},e),Eu(t))},Pu=function(e,t){return ae(t)?(0,T.Z)((0,T.Z)({},e),Eu(t)):e},Iu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ca(e),ou(t);var r=e.width,i=e.height,a=t.x,o=t.y,u=t.width,s=t.height;he(a),he(o),he(u),he(s);var c=Ma(e,u,s),l=Oa(c);return(0,T.Z)((0,T.Z)({},l),{},{x:Math.round(vu(r,l.width,a,n.E,n.W)),y:Math.round(vu(i,l.height,o,n.N,n.S))})},Ou=function(e,t,n){var r=ge(t)?t:[t,t],i=(0,C.Z)(r,2),a=i[0],o=i[1],u=Fa(e,a),s=Fa(e,o),c=(0,C.Z)(n,2),l=c[0],f=c[1],d=l.width,h=l.height,p=f.width,v=f.height,m=Ma(u,d,h),g=Ma(s,p,v);return[Oa(m),Oa(g)]},ju=function(e,t,n){var r=ge(t)?t:[t,t],i=(0,C.Z)(e,2),a=i[0],o=i[1],u=(0,C.Z)(r,2),s=u[0],c=u[1],l=(0,C.Z)(n,2),f=l[0],d=l[1],h=f.x,p=f.y,v=d.x,m=d.y;return[{x:h*(a.width-s.width),y:p*(a.height-s.height)},{x:v*(o.width-c.width),y:m*(o.height-c.height)}]},Mu=function(e,t){return(0,T.Z)((0,T.Z)({},e),Va(e,t))},Fu=function(e,t){return e.map((function(e){return Mu(e,t)}))},zu=function(e,t,n,r){if(!r)return e;var i=t.width,a=t.height,o=(0,T.Z)({},e);switch(r){case Ut.H:o.width=a*o.height*n/i;break;case Ut.V:o.height=i*o.width/n/a}return o},Au=function(e){ao(e);var t=e.clip,n=t.track.mash.quantize,r=t.timeRange(n),i=e.tweenPoints(r,r);return!Yo.apply(void 0,(0,S.Z)(i))},Ru=function(e,t,n){return Math.min(n,Math.max(t,e))},Lu=function(e,t,n,r,i){if(r){if(!t)return n?e.startTime:e.lastTime;if(i){if(n)return e.lastTime}else if(!n)return e.startTime}},Nu=function(e,t,n){var r=e.filter((function(e){return e.input})),i=r.findIndex((function(e){return e.inputId===t}));return de(i)||console.log("commandFilesInputIndex",t,r),he(i,"commandFilesInputIndex"),i},Du=function(e,t,n){var r=!!n?"v":"a";return[Nu(e,t),r].join(":")},Vu=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e,r;(0,Z.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r=t.call.apply(t,[this].concat(a)),(0,E.Z)((0,b.Z)(r),"definition",void 0),(0,E.Z)((0,b.Z)(r),"_id",void 0),(0,E.Z)((0,b.Z)(r),"_label","");var u=a[0];Ce(u);var s=u.definition;return s&&(r.definition=s),(e=r.properties).push.apply(e,(0,S.Z)(r.definition.properties)),r.propertiesInitialize(u),r}return(0,x.Z)(n,[{key:"mediaId",get:function(){return this.definition.id}},{key:"definitionIds",value:function(){return[this.mediaId]}},{key:"id",get:function(){return this._id||(this._id=Fo())}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"serverPromise",value:function(e){return this.definition.serverPromise(e)}},{key:"toJSON",value:function(){var e=this.mediaId,t=this.type,r=this.label;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{type:t,label:r,mediaId:e})}},{key:"type",get:function(){return this.definition.type}},{key:"unload",value:function(){this.definition.unload()}}]),n}(ki),Bu=function(){function e(t){var n=t.name,r=t.value,i=t.dataType,a=t.values;if((0,Z.Z)(this,e),(0,E.Z)(this,"dataType",Vt.String),(0,E.Z)(this,"name",""),(0,E.Z)(this,"value",""),(0,E.Z)(this,"values",void 0),!n)return G(A.Internal);if(this.values=a,this.name=n,Y(r)){var o;if(null===(o=this.values)||void 0===o||!o.length)return G(A.Internal);this.value=this.values[0]}else this.value=r;if(i&&qt.map(String).includes(i))this.dataType=i;else{(Array.isArray(this.value)?this.value.every((function(e){return Ee(e.value)})):Ee(this.value))&&(this.dataType=Vt.Number)}}return(0,x.Z)(e,[{key:"toJSON",value:function(){return{name:this.name,value:this.value}}}]),e}(),Hu={},Uu=function(e){return $(e)&&"instanceFromObject"in e};function qu(e,t){Uu(e)||G(e,"FilterDefinition",t)}var Wu,Gu=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r,i,a;(0,Z.Z)(this,n),a=t.call(this),(0,E.Z)((0,b.Z)(a),"parameters",[]),(0,E.Z)((0,b.Z)(a),"_parametersDefined",void 0),(0,E.Z)((0,b.Z)(a),"_label","");var o=e.definition,u=e.parameters;return qu(o),a.definition=o,null!==u&&void 0!==u&&u.length&&(r=a.parameters).push.apply(r,(0,S.Z)(u.map((function(e){var t=e.name;if(!e.dataType){var n=a.definition.parameters.find((function(e){return e.name===t}));n&&(e.dataType=n.dataType)}return new Bu(e)})))),(i=a.properties).push.apply(i,(0,S.Z)(a.definition.properties)),a.propertiesInitialize(e),a}return(0,x.Z)(n,[{key:"commandFiles",value:function(e){return this.definition.commandFiles((0,T.Z)((0,T.Z)({},e),{},{filter:this}))}},{key:"commandFilters",value:function(e){return this.definition.commandFilters((0,T.Z)((0,T.Z)({},e),{},{filter:this}))}},{key:"parametersDefined",get:function(){if(this._parametersDefined)return this._parametersDefined;var e=(0,S.Z)(this.parameters);return e.push.apply(e,(0,S.Z)(this.definition.parameters.filter((function(t){return!e.find((function(e){return e.name===t.name}))})))),this._parametersDefined=e}},{key:"filterSvgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.definition.filterDefinitionSvgs((0,T.Z)((0,T.Z)({},e),{},{filter:this}))}},{key:"filterSvgFilter",value:function(){var e=this.scalarObject();return this.definition.filterDefinitionSvgFilter(e)}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"scalarObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={};return this.parametersDefined.forEach((function(t){var r=t.name,i=t.value;if(ke(i)&&e.properties.find((function(e){return i===e.name})))return;(se(i)||K(i))&&(n[r]=i)})),this.properties.forEach((function(r){var i=r.tweenable,a=r.name;if(!ae(n[a])&&(n[a]=e.value(a),t&&i)){var o="".concat(a).concat(bi);n[o]=e.value(o)}})),n}},{key:"toString",value:function(){return"[Filter ".concat(this.label,"]")}}]),n}(ki),$u=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"id",void 0),(0,E.Z)(this,"_ffmpegFilter",void 0),(0,E.Z)(this,"properties",[]),(0,E.Z)(this,"parameters",[]);var n=t.id;we(n,"id"),this.id=n}return(0,x.Z)(e,[{key:"commandFiles",value:function(e){return[]}},{key:"commandFilters",value:function(e){var t=e.filter,n=e.duration,r=e.filterInput;we(r);var i=[],a=t.scalarObject(!!n);Le(a);var o=this.ffmpegFilter,u={inputs:[r],ffmpegFilter:o,options:a,outputs:[zo(o)]};return i.push(u),i}},{key:"commandFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.ffmpegFilter,n={ffmpegFilter:t,options:e,inputs:[],outputs:[zo(t)]};return n}},{key:"ffmpegFilter",get:function(){return this._ffmpegFilter||(this._ffmpegFilter=this.id.split(".").pop()||this.id)}},{key:"filterDefinitionSvgs",value:function(e){return G(A.Unimplemented)}},{key:"instanceArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.fromEntries(this.properties.map((function(e){return[e.name,e.defaultValue]})));return(0,T.Z)((0,T.Z)((0,T.Z)({},t),e),{},{definition:this})}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Gu(this.instanceArgs(e))}},{key:"populateParametersFromProperties",value:function(){this.parameters=this.properties.map((function(e){var t=e.name;return new Bu({name:t,value:t,dataType:Vt.String})}))}},{key:"filterDefinitionSvgFilter",value:function(e){return G(A.Unimplemented)}},{key:"toJSON",value:function(){return{id:this.id}}},{key:"toString",value:function(){return this.id}}]),e}(),Ju=!1,Ku=function(){return Wu||(Wu=os())},Qu=function(e){Wu=e},Yu=function(e){return"#".concat(e)},Xu=function(e){return"url(".concat(Yu(e),")")},es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=globalThis.document.createElementNS(Dn,"g");return ys(n,t),ts(n,e),n},ts=function(e,t){if(Sa(t)){var n=t.width,r=t.height;de(n)&&ys(e,String(n),"width"),de(r)&&ys(e,String(r),"height")}if(Ko(t)){var i=t.x,a=t.y;ys(e,String(i),"x"),ys(e,String(a),"y")}},ns=function(e,t){Qo(t);var n=t.x,r=t.y;(n||r)&&ws(e,"translate(".concat(n,", ").concat(r,")"))},rs=function(e){var t=e.width,n=e.height,r=e.x,i=void 0===r?0:r,a=e.y,o=void 0===a?0:a,u={x:i,y:o},s=[];return s.push(u),s.push({x:i+t,y:o}),s.push({x:i+t,y:o+n}),s.push({x:i,y:o+n}),s.push(u),s},is=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,i=globalThis.document.createElementNS(Dn,"polygon"),a=rs(e).map((function(e){return[e.x,e.y].join(",")})).join(" ");return ys(i,a,"points"),ys(i,n,"fill"),bs(i,t),ys(i,r),i},as=function(e,t){Aa(t,"svgSetBox");var n=Da(t),r=n.width,i=n.height;ts(e,n);var a="0 0 ".concat(r," ").concat(i);ys(e,a,"viewBox")},os=function(e,t){var n=globalThis.document.createElementNS(Dn,"svg");return ys(n,"1.1","version"),ys(n,Dn,"xmlns"),ds(n,t),za(e)?(as(n,e),n):n},us=function(e,t,n){Aa(t),n||ys(e,"none","preserveAspectRatio");var r=(0,T.Z)((0,T.Z)({},Ha(t,n)),eu(t));ts(e,r)},ss=function(){var e=globalThis.document.createElementNS(Dn,"image");return ys(e,"none","preserveAspectRatio"),e},cs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"currentColor",n=globalThis.document.createElementNS(Dn,"path");return ys(n,e,"d"),ys(n,t,"fill"),n},ls=function(e,t,n){var r=Fo(),i=globalThis.document.createElementNS(Dn,"mask");(ys(i,r),za(e))&&ds(i,is(e,"",n?"black":"none"));return t&&(ys(t,Xu(r),"mask"),n&&ys(t,"luminance","mask-mode")),i},fs=function(e,t){var n=e.filter,r=(0,y.Z)(e,O);we(n);var i=globalThis.document.createElementNS(Dn,n);return ts(i,t),Object.entries(r).forEach((function(e){var t=(0,C.Z)(e,2),n=t[0],r=t[1];ys(i,String(r),n)})),i},ds=function(e,t){t&&(ge(t)?t:[t]).forEach((function(t){return e.appendChild(t)}))},hs=function(e,t,n){var r=globalThis.document.createElementNS(Dn,"pattern");return ys(r,t),as(r,e),ys(r,"userSpaceOnUse","patternUnits"),ds(r,n),r},ps=function(e){var t=globalThis.document.createElementNS(Dn,"defs");return ds(t,e),t},vs=function(e,t){var n=globalThis.document.createElementNS(Dn,"feImage");return ke(e)&&ys(n,Yu(e),"href"),ys(n,t,"result"),n},ms=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"userSpaceOnUse",i=globalThis.document.createElementNS(Dn,"filter");if(r&&ys(i,r,"filterUnits"),ys(i,"sRGB","color-interpolation-filters"),ds(i,e),t){var a=Fo();if(ys(i,a),t)(ge(t)?t:[t]).forEach((function(e){ys(e,Xu(a),"filter"),bs(e,"filtered")}))}return ts(i,n),i},gs=function(e,t){var n=Fo(),r=fs((0,T.Z)((0,T.Z)({},{filter:"feBlend"}),{},{mode:"difference"}));ys(r,n,"in"),ys(r,"SourceGraphic","in2");var i=vs(e,n),a=ms([i,r],t,Xo);return ys(a,"100%","width"),ys(a,"100%","height"),a},ys=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";ke(t)&&e.setAttribute(n,t)},bs=function(e,t){var n;if(t){var r=ge(t)?t:t.split(" ");(n=e.classList).add.apply(n,(0,S.Z)(r))}},ks=function(e,t,n){var r=globalThis.document.createElementNS(Dn,"use");return ke(e)&&ys(r,Yu(e),"href"),ys(r,n),bs(r,t),r},ws=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top left";ys(e,t,"transform"),ys(e,n,"transform-origin")},Zs=function(e,t){Aa(e,"svgTransform.dimensions"),Aa(t,"svgTransform.rect");var n=e.width,r=e.height,i=t.width,a=t.height,o=t.x,u=t.y,s=i/n,c=a/r,l=[];if(0===o&&0===u||l.push("translate(".concat(o,",").concat(u,")")),1===s&&1===c||l.push("scale(".concat(s,",").concat(c,")")),Ko(e)){var f=e.x,d=e.y;0===f&&0===d||l.push("translate(".concat(f,",").concat(d,")"))}return l.join(" ")},xs=function(e,t,n){ws(e,Zs(t,n))},Ss=function(e,t){var n=globalThis.document.createElementNS(Dn,e);return ys(n,t,"tableValues"),ys(n,"discrete","type"),n},Cs=function(e,t){if(!e.hasChildNodes())return ds(e,t);var n=e.childNodes,r=[];n.forEach((function(e){t.includes(e)||r.push(e)})),r.forEach((function(t){e.removeChild(t)})),t.forEach((function(t){return e.appendChild(t)}))},Es=function(e){return new Promise((function(t,n){var r=ss(),i=function(){r.removeEventListener("error",a),r.removeEventListener("load",o),Wu&&!Ju&&Wu.appendChild(r)},a=function(e){i(),n(e)},o=function(){i(),t(r)};r.addEventListener("error",a,{once:!0}),r.addEventListener("load",o,{once:!0}),Wu&&!Ju&&Wu.appendChild(r),ys(r,e,"href")}))},Ts=function(e,t,n,r){var i=globalThis.document.createElementNS(Dn,"text");return i.setAttribute("font-family",t),i.setAttribute("font-size",String(n)),i.append(e),ws(i,r),i},_s=function(e,t){return Es(e).then((function(e){var n=t.lock,r=(0,y.Z)(t,j);return us(e,r,n),e}))};!function(){var e=globalThis.document;if(e){var t=e.createElement("canvas");t.width=t.height=1;var n=t.getContext("2d");Te(n),n.fillRect(0,0,1,1),Es(t.toDataURL()).then((function(){Ju=!0}))}}();var Ps=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"color",type:Vt.String,defaultValue:Xr})),r.properties.push(Oo({custom:!0,name:"similarity",type:Vt.Percent,defaultValue:.9,min:.1,step:.01,max:1})),r.properties.push(Oo({custom:!0,name:"blend",type:Vt.Percent,defaultValue:0,step:.01,max:1})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"filterDefinitionSvgFilter",value:function(e){var t=e.similarity,n=e.color,r=e.blend;ee(t),ee(r),we(n);var i=255,a=65025*(1-r),o=ui(n),u=1-t*(o.r/i),s=1-t*(o.g/i),c=1-t*(o.b/i),l="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 ".concat(u," ").concat(s," ").concat(c," -").concat(a," ").concat(a);return[fs({filter:"feColorMatrix",type:"matrix",values:l})]}}]),n}($u),Is=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"_ffmpegFilter","geq"),r.properties.push(Oo({tweenable:!0,custom:!0,name:"color",type:Vt.String})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.filter,r=e.videoRate,i=e.duration,a=e.filterInput;ee(i,"duration"),ee(r,"videoRate");var o=n.value("color");we(o,"color");var u=a;we(u,"filterInput");var s="format",c=zo(s),l={inputs:[u],ffmpegFilter:s,options:{pix_fmts:"rgba"},outputs:[c]};t.push(l),u=c;var f=n.value("color".concat(bi))||o;we(f);var d=o.length>7,h=d?si(o):ui(o),p=d?si(f):ui(f),v=d?qr:Ur,m={},g=i?Cu(r,i,"N"):0;v.forEach((function(e){var t=h[e],n=p[e];m[e]=t===n?t:"".concat(t,"+(").concat(n-t,"*").concat(g,")")})),d||(m.a="alpha(X,Y)");var y=zo("geq"),b={inputs:[u],ffmpegFilter:"geq",options:m,outputs:[y]};return t.push(b),t}}]),n}($u),Os=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"_ffmpegFilter","color"),r.properties.push(Oo({tweenable:!0,name:"color",type:Vt.String}));return["width","height"].forEach((function(e){r.properties.push(Oo({tweenable:!0,name:e,type:Vt.Number}))})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.filter,r=e.videoRate,i=e.duration;me(r,"videoRate");var a=this.ffmpegFilter,o=zo(a),u=n.value("color");we(u);var s=i?n.value("color".concat(bi)):void 0,c=ke(s)&&u!==s,l=n.scalarObject(!!i);Ca(l);var f=l.width,d=l.height,h=!1,p={width:f,height:d},v={width:f,height:d};if(i){var m=l["width".concat(bi)],g=void 0===m?f:m,y=l["height".concat(bi)],b=void 0===y?d:y;ee(g),ee(b),(h=!(f===g&&d===b))&&(v.width=g,v.height=b)}var k=h?wu(p,v):p,w={inputs:[],ffmpegFilter:a,options:{color:u,rate:r,size:Object.values(k).join("x")},outputs:[o]};if(ve(i)&&(w.options.duration=i),t.push(w),c){var Z="fade",x=zo(Z),S={inputs:[o],ffmpegFilter:Z,options:{type:"out",color:s,duration:i},outputs:[x]};t.push(S),o=x}if(h){var C="scale",E=zo(C),T=Cu(r,i),_={inputs:[o],ffmpegFilter:C,options:{eval:"frame",width:xu(p.width,v.width,T),height:xu(p.height,v.height,T)},outputs:[E]};t.push(_)}return t}},{key:"filterDefinitionSvgs",value:function(e){var t=e.filter.scalarObject(!1),n=t.width,r=t.height,i=t.color;we(i);var a=globalThis.document.createElementNS(Dn,"rect");return a.setAttribute("width",String(n)),a.setAttribute("height",String(r)),a.setAttribute("fill",function(e){var t=String(e);return"0x"===t.slice(0,2)?"#".concat(t.slice(2)):t}(i)),[a]}}]),n}(Is),js=qr.flatMap((function(e){return qr.map((function(t){return"".concat(e).concat(t)}))})),Ms=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),r=t.call(this,e),js.forEach((function(e){r.properties.push(Oo({custom:!0,name:e,type:Vt.Number,defaultValue:e[0]===e[1]?1:0,min:0,max:1}))})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"filterDefinitionSvgFilter",value:function(e){var t={filter:"feColorMatrix",type:"matrix",values:qr.flatMap((function(t){return[].concat((0,S.Z)(qr.map((function(n){return Number(e["".concat(t).concat(n)])}))),[0])})).join(" ")};return[fs(t)]}}]),n}($u),Fs=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"bias",defaultValue:0,min:0,max:100,step:.01})),r.properties.push(Oo({custom:!0,name:"matrix",defaultValue:"0 0 0 0 1 0 0 0 0"})),r.properties.push(Oo({custom:!0,name:"multiplier",defaultValue:1,min:0,max:100,step:.01})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=e.filterInput,n=e.filter,r=e.duration;we(t,"filterInput");var i=[],a=n.scalarObject(!!r);As(a);var o=this.ffmpegFilter,u={inputs:[t],ffmpegFilter:o,options:Hs(Bs(a)),outputs:[zo(o)]};return i.push(u),i}},{key:"filterDefinitionSvgFilter",value:function(e){As(e);var t=e.matrix,n=e.bias,r=e.multiplier,i={filter:"feConvolveMatrix",kernelMatrix:String(t),bias:String(n)};return ve(r)&&(i.divisor=String(r)),[fs(i)]}}]),n}($u),zs=function(e){return $(e)&&"matrix"in e&&"bias"in e&&"multiplier"in e};function As(e){if(!zs(e))throw new Error("expected ConvolutionServerFilter")}var Rs=function(e){return{combined:e,r:e,g:e,b:e,a:e}},Ls=function(e){return function(e){return{combined:e,r:e,g:e,b:e,a:e}}(String(e))},Ns=function(e){var t=e.combined;return function(e){return{combined:e,r:e,g:e,b:e,a:e}}((String(t)||"0 0 0 0 1 0 0 0 0").split(",").map((function(e){return parseInt(e.trim())})))},Ds=function(e){var t,n=e.combined;return Rs(null!==(t=String(n))&&void 0!==t&&t.length?parseFloat(t.trim()):0)},Vs=function(e){var t=e.combined;return Rs(function(e){if(null===e||void 0===e||!e.length)return 1;if(e.includes("/")){var t=e.split("/").map((function(e){return parseFloat(e.trim())})),n=(0,C.Z)(t,2);return n[0]/n[1]}return parseFloat(e.trim())}(String(t)))},Bs=function(e){var t=Ls(e.matrix),n=Ls(e.multiplier),r=Ns(t);return{multiplier:Vs(n),matrix:r,bias:t.combined?Rs(0):Ds(Ls(e.bias))}},Hs=function(e){var t={};return qr.map((function(e){return e})).forEach((function(n,r){var i=e.multiplier[n],a=e.matrix[n];t["".concat(r,"m")]=a.join(" "),t["".concat(r,"rdiv")]=i,t["".concat(r,"bias")]=e.bias[n]})),t},Us=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"width",type:Vt.String})),r.properties.push(Oo({custom:!0,name:"height",type:Vt.String})),r.properties.push(Oo({tweenable:!0,custom:!0,name:"x",type:Vt.Number,defaultValue:0,min:0,step:1})),r.properties.push(Oo({tweenable:!0,custom:!0,name:"y",type:Vt.Number,defaultValue:0,min:0,step:1})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=e.filter,n=e.filterInput,r=e.duration,i=e.videoRate;we(n);var a=[],o=t.scalarObject(!!r),u={exact:1},s=Cu(i,r);u.x=xu(o.x,o["x".concat(bi)],s,!0),u.y=xu(o.y,o["y".concat(bi)],s,!0);var c=o.width,l=o.height;ze(c)&&(u.w=c),ze(l)&&(u.h=l);var f=this.ffmpegFilter,d={inputs:[n],ffmpegFilter:f,options:u,outputs:[zo(f)]};return a.push(d),a}}]),n}($u),qs=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({tweenable:!0,custom:!0,name:"x",type:Vt.Percent,defaultValue:.5})),r.properties.push(Oo({tweenable:!0,custom:!0,name:"y",type:Vt.Percent,defaultValue:.5})),r.properties.push(Oo({custom:!0,name:"format",type:Vt.String,defaultValue:"yuv420"})),r.properties.push(Oo({custom:!0,name:"alpha",type:Vt.String,defaultValue:"straight"})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.filter,r=e.filterInput,i=e.chainInput,a=e.duration,o=e.videoRate;we(r,"filterInput"),we(i,"chainInput");var u=n.scalarObject(!!a),s={},c=u.format,l=u.alpha;ke(c)&&(s.format=c),ke(l)&&(s.alpha=l);var f=Cu(o,a,"(n-1)"),d=xu(u.x,u["x".concat(bi)],f,!0),h=xu(u.y,u["y".concat(bi)],f,!0),p=0===h;0===d||(s.x=d),p||(s.y=h);var v={inputs:[i,r],ffmpegFilter:"overlay",options:s,outputs:[]};return t.push(v),t}}]),n}($u),Ws=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({name:"width",type:Vt.Percent,defaultValue:1,max:2})),r.properties.push(Oo({name:"height",type:Vt.Percent,defaultValue:1,max:2})),r.properties.push(Oo({name:"width".concat(bi),type:Vt.Percent,defaultValue:1,max:2})),r.properties.push(Oo({name:"height".concat(bi),type:Vt.Percent,defaultValue:1,max:2})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.filter,r=e.duration,i=e.filterInput,a=e.videoRate,o=n.scalarObject(!!r),u=o.width,s=o.height,c=o["width".concat(bi)],l=o["height".concat(bi)];we(i);var f=this.ffmpegFilter,d=Cu(a,r),h={width:xu(u,c,d,!0),height:xu(s,l,d,!0)};se(h.width)&&se(h.height)||(h.eval="frame");var p={inputs:[i],ffmpegFilter:f,options:h,outputs:[zo(f)]};return t.push(p),t}}]),n}($u),Gs=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"_ffmpegFilter","geq"),r.properties.push(Oo({tweenable:!0,custom:!0,name:"opacity",type:Vt.Number,defaultValue:1})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.filterInput,r=e.filter,i=e.duration,a=e.videoRate,o=r.value("opacity"),u=n;ee(o),we(u,"filterInput");var s={lum:"lum(X,Y)",cb:"cb(X,Y)",cr:"cr(X,Y)",a:"alpha(X,Y)*".concat(o)};if(i){var c=r.value("opacity".concat(bi));if(se(c)&&o!=c){var l=Cu(a,i,"N"),f=c-o;s.a="alpha(X,Y)*(".concat(o,"+(").concat(f,"*").concat(l,"))")}}var d=this.ffmpegFilter,h={inputs:[u],ffmpegFilter:d,options:s,outputs:[zo(d)]};return t.push(h),t}},{key:"filterDefinitionSvgFilter",value:function(e){var t=e.opacity;ee(t);var n=globalThis.document.createElementNS(Dn,"feColorMatrix");n.setAttribute("type","matrix");var r="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 ".concat(t," 0");return ys(n,r,"values"),[n]}}]),n}($u),$s=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"sar",type:Vt.String,defaultValue:"0"})),r.properties.push(Oo({custom:!0,name:"max",type:Vt.Number,defaultValue:100})),r.populateParametersFromProperties(),r}return(0,x.Z)(n)}($u),Js=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"fps",type:Vt.Number})),r.populateParametersFromProperties(),r}return(0,x.Z)(n)}($u),Ks=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"expr",type:Vt.String,defaultValue:"PTS-STARTPTS"})),r.populateParametersFromProperties(),r}return(0,x.Z)(n)}($u),Qs=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){return(0,Z.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"commandFilters",value:function(e){var t=[],n=e.chainInput,r=e.filterInput;we(n,"chainInput"),we(r,"filterInput");var i=this.ffmpegFilter,a={inputs:[n,r],ffmpegFilter:i,options:{},outputs:[zo(i)]};return t.push(a),t}}]),n}($u),Ys=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),(r=t.call(this,e)).properties.push(Oo({custom:!0,name:"start",type:Vt.Number,defaultValue:0})),r.populateParametersFromProperties(),r}return(0,x.Z)(n)}($u),Xs=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;return(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"_ffmpegFilter","drawtext"),r.properties.push(Oo({custom:!0,type:Vt.String,name:"fontfile"})),r.properties.push(Oo({custom:!0,type:Vt.String,name:"textfile"})),r.properties.push(Oo({custom:!0,type:Vt.Boolean,name:"stretch"})),r.properties.push(Oo({tweenable:!0,custom:!0,type:Vt.Number,name:"height"})),r.properties.push(Oo({tweenable:!0,custom:!0,type:Vt.Number,name:"width"})),r.properties.push(Oo({custom:!0,type:Vt.Number,name:"intrinsicHeight"})),r.properties.push(Oo({custom:!0,type:Vt.Number,name:"intrinsicWidth"})),r.properties.push(Oo({tweenable:!0,custom:!0,type:Vt.Number,name:"x"})),r.properties.push(Oo({tweenable:!0,custom:!0,type:Vt.Number,name:"y"})),r.properties.push(Oo({tweenable:!0,custom:!0,type:Vt.String,name:"color"})),r.populateParametersFromProperties(),r}return(0,x.Z)(n,[{key:"colorCommandFilter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jr,i=e.width,a=e.height,o="color",u=zo(o),s={color:r,size:"".concat(i,"x").concat(a)};return t&&(s.rate=t),n&&(s.duration=n),{inputs:[],ffmpegFilter:o,options:s,outputs:[u]}}},{key:"commandFilters",value:function(e){var t=[],n=e.filter,r=e.duration,i=e.videoRate,a=e.filterInput,o=n.value("color"),u=n.value("x"),s=n.value("y"),c=n.value("textfile"),l=n.value("fontfile"),f=n.value("height"),d=n.value("width"),h=!!n.value("stretch"),p=n.value("intrinsicWidth"),v=n.value("intrinsicHeight");we(c),we(l),ee(f),ee(d),ee(p),ee(v),ee(u),ee(s),we(o,"color");var m=n.value("x".concat(bi)),g=n.value("y".concat(bi)),y=r?n.value("color".concat(bi)):void 0,b=ke(y)&&o!==y,k=this.ffmpegFilter,w=zo(k),Z=b||a?$r:o,x=Gr;a||(x=b?Kr:Jr);var S={width:d,height:f},C=(0,T.Z)({},S);if(r){var E=n.value("height".concat(bi))||0,_=n.value("width".concat(bi))||0;ve(_)&&(C.width=_),ve(E)&&(C.height=E)}var P=p/v,I=wu(S,C),O=Math.round(P*I.height);O>I.width&&(I.width=O);var j=h||!Ea(S,C),M={},F={fontsize:I.height,fontfile:l,textfile:c,x:Math.ceil(se(m)?Math.max(u,m):u),y:Math.ceil(se(g)?Math.max(s,g):s)},z=Cu(i,r);if(b){var A=o.length>7,R=A?si(o):ui(o),L=A?si(y):ui(y),N=(A?qr:Ur).map((function(e){var t=R[e],n=L[e];return t===n?t:"".concat(t,"+(").concat(n-t,"*").concat(z,")")})).map((function(e){return["eif",e,"x",2].join(":")})).map((function(e){return"%{".concat(e,"}")}));F.fontcolor_expr="#".concat(N.join(""))}else F.fontcolor=Z;var D=this.colorCommandFilter(I,i,r,x);t.push(D);var V=Xn(D.outputs);j&&(M.width=h?xu(d,C.width,z,!0):-1,M.height=xu(f,C.height,z,!0),se(M.width)&&se(M.height)||(M.eval="frame"));var B={inputs:[V],ffmpegFilter:k,options:F,outputs:[w]};if(t.push(B),V=w,!a){var H="format",U=zo(H),q={inputs:[V],ffmpegFilter:H,options:{pix_fmts:"yuva420p"},outputs:[U]};t.push(q),V=U}if(j){var W="scale",G=zo(W),$={inputs:[V],ffmpegFilter:W,options:M,outputs:[G]};t.push($),V=G}return t}}]),n}(Is),ec="".concat(Hn,"filter."),tc=function(e){return we(e.id),new $u(e)},nc=function(e){var t=e.includes(".")?e:"".concat(ec).concat(e),n=Hu[t];if(n)return n;throw new Error("NEW FILTER ".concat(e," ").concat(t))},rc=function(e){var t=e.id;return t?nc(t).instanceFromObject(e):G(A.FilterId)},ic=function(e){return nc(e).instanceFromObject({id:e})};function ac(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_alphamergeFilter",void 0),(0,E.Z)((0,b.Z)(e),"_clip",void 0),(0,E.Z)((0,b.Z)(e),"_colorFilter",void 0),(0,E.Z)((0,b.Z)(e),"container",!1),(0,E.Z)((0,b.Z)(e),"_cropFilter",void 0),(0,E.Z)((0,b.Z)(e),"hasIntrinsicSizing",!1),(0,E.Z)((0,b.Z)(e),"hasIntrinsicTiming",!1),(0,E.Z)((0,b.Z)(e),"_overlayFilter",void 0),(0,E.Z)((0,b.Z)(e),"_scaleFilter",void 0),(0,E.Z)((0,b.Z)(e),"selectType",Et.None),i[0].container&&(e.container=!0),e}return(0,x.Z)(n,[{key:"alphamergeCommandFilters",value:function(e){var t=[],n=e.videoRate,r=e.outputSize,i=e.track,a=e.filterInput;we(a),me(n),Ca(r);var o={videoRate:0,duration:0,filterInput:a,chainInput:"content-".concat(i)},u=this.alphamergeFilter;return t.push.apply(t,(0,S.Z)(u.commandFilters(o))),t}},{key:"alphamergeFilter",get:function(){return this._alphamergeFilter||(this._alphamergeFilter=ic("alphamerge"))}},{key:"amixCommandFilters",value:function(e){var t=e.chainInput,n=e.filterInput;we(t),we(n);var r=[],i={inputs:[t,n],ffmpegFilter:"amix",options:{normalize:0},outputs:[]};return r.push(i),r}},{key:"canColor",value:function(e){return!1}},{key:"canColorTween",value:function(e){return!1}},{key:"clip",get:function(){return this._clip},set:function(e){this._clip=e}},{key:"clipped",get:function(){return!!this._clip}},{key:"colorBackCommandFilters",value:function(e,t){var n=e.contentColors,r=void 0===n?[]:n,i=e.videoRate,a=e.outputSize,o=e.duration;Ca(a);var u=Pa(a),s=(0,C.Z)(r,2),c=s[0],l=void 0===c?Yr:c,f=s[1],d=void 0===f?Yr:f,h=t||zo("back"),p=this.colorFilter,v={videoRate:i,duration:o};p.setValue(l,"color"),p.setValue(d,"color".concat(bi)),p.setValue(u.width,"width"),p.setValue(u.height,"height"),p.setValue(u.width,"width".concat(bi)),p.setValue(u.height,"height".concat(bi));var m=p.commandFilters(v);if(Ea(u,a))Xn(m).outputs=[h];else{var g=Xn(Xn(m).outputs);we(g,"crop input");var y={inputs:[g],ffmpegFilter:"crop",options:{w:a.width,h:a.height,exact:1},outputs:[h]};m.push(y)}return m}},{key:"colorFilter",get:function(){return this._colorFilter||(this._colorFilter=ic("color"))}},{key:"commandFilters",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=e.filterInput,a=void 0===i?"":i,o=this.initialCommandFilters(e,t,n);return o.length&&(r.push.apply(r,(0,S.Z)(o)),a=Xn(Xn(o).outputs)),n?r.push.apply(r,(0,S.Z)(this.containerCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:a}),t))):r.push.apply(r,(0,S.Z)(this.contentCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:a}),t))),r}},{key:"containerColorCommandFilters",value:function(e){var t=[],n=e.contentColors,r=void 0===n?[]:n,i=e.containerRects,a=e.videoRate,o=e.duration;ye(i,"containerRects");var u=(0,C.Z)(i,2),s=u[0],c=u[1],l={videoRate:a,duration:o},f=this.colorFilter,d=(0,C.Z)(r,2),h=d[0],p=d[1];return f.setValue(h||$r,"color"),f.setValue(p,"color".concat(bi)),f.setValue(s.width,"width"),f.setValue(s.height,"height"),f.setValue(c.width,"width".concat(bi)),f.setValue(c.height,"height".concat(bi)),t.push.apply(t,(0,S.Z)(f.commandFilters(l))),t}},{key:"containerCommandFilters",value:function(e,t){return[]}},{key:"containerFinalCommandFilters",value:function(e){return[]}},{key:"contentCommandFilters",value:function(e,t){return[]}},{key:"copyCommandFilter",value:function(e,t){return{inputs:[e],ffmpegFilter:"copy",options:{},outputs:["".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"content","-").concat(t)]}}},{key:"cropFilter",get:function(){return this._cropFilter||(this._cropFilter=ic("crop"))}},{key:"definitionTime",value:function(e,t){var n=t.fps,r=t.startTime,i=t.endTime,a=e.scaleToFps(n),o=Math.max(Math.min(a.frame,i.frame),r.frame);return a.withFrame(o-r.frame)}},{key:"frames",value:function(e){return no(vo.duration,e).frame}},{key:"fileCommandFiles",value:function(e){var t=this,n=[],r=this.graphFiles(e),i=0;return n.push.apply(n,(0,S.Z)(r.map((function(e,n){var r=e.input,a=n&&r?"".concat(t.id,"-").concat(i):t.id,o=(0,T.Z)((0,T.Z)({},e),{},{inputId:a});return r&&i++,o})))),n}},{key:"graphFiles",value:function(e){return this.definition.graphFiles(e)}},{key:"initialCommandFilters",value:function(e,t){return G(A.Unimplemented)}},{key:"intrinsicRect",value:function(){return G(A.Unimplemented)}},{key:"intrinsicsKnown",value:function(e){return!0}},{key:"intrinsicGraphFile",value:function(e){var t=e.editing,n=e.size,r=e.duration,i=Ya(),a={editing:t,time:i.startTime,clipTime:i,quantize:i.fps,visible:n,audible:r},o=this.graphFiles(a),u=(0,C.Z)(o,1)[0];return J(u,"graphFile"),u}},{key:"isDefault",get:function(){return!1}},{key:"loadPromise",value:function(e){return this.definition.loadPromise(e)}},{key:"mutable",value:function(){return!1}},{key:"overlayCommandFilters",value:function(e,t,n){we(e,"bottomInput"),we(t,"topInput");var r=[],i={filterInput:t,chainInput:e,videoRate:0,duration:0},a=this.overlayFilter;return n&&a.setValue("yuv420p10","format"),a.setValue(0,"x"),a.setValue(0,"y"),r.push.apply(r,(0,S.Z)(a.commandFilters(i))),Xn(r).outputs=[zo(t)],r}},{key:"overlayFilter",get:function(){return this._overlayFilter||(this._overlayFilter=ic("overlay"))}},{key:"preloadUrls",value:function(e){return[]}},{key:"scaleCommandFilters",value:function(e){var t=e.time,n=e.containerRects,r=e.filterInput,i=e.videoRate,a=r;we(a,"filterInput"),ye(n,"containerRects");var o=(0,C.Z)(n,2),u=o[0],s=o[1];ou(u),ou(s);var c=je(t)?t.lengthSeconds:0,l=[],f=this.scaleFilter,d={duration:c,videoRate:i,filterInput:a};return f.setValue(u.width,"width"),f.setValue(u.height,"height"),f.setValue(s.width,"width".concat(bi)),f.setValue(s.height,"height".concat(bi)),l.push.apply(l,(0,S.Z)(f.commandFilters(d))),l}},{key:"scaleFilter",get:function(){return this._scaleFilter||(this._scaleFilter=ic("scale"))}},{key:"selectables",value:function(){return[this].concat((0,S.Z)(this.clip.selectables()))}},{key:"selectedItems",value:function(e){var t=this,n=[],r=this.container,i=this.clip,a=this.selectType,o=this.definition.id,u=i.timing,s=i.sizing,c=i.track.mash.editor.media,l=r?Vt.ContainerId:Vt.ContentId,f=i.properties.find((function(e){return e.type===l}));Io(f);var d=f.name,h=(0,E.Z)({timing:u,sizing:s},d,o),p=(0,T.Z)({},h),v=r?pn.Container:pn.Content,m=r?mn.Container:mn.Content,g=u===v,y=s===m;n.push({selectType:a,property:f,value:o,changeHandler:function(t,n){we(n);var a=(0,T.Z)((0,T.Z)({},p),{},(0,E.Z)({},d,n));if(g||y){var o=c.fromId(n).type;g&&!mt(o)&&(a.timing=pn.Custom),y&&!pt(o)&&(a.sizing=r?mn.Content:mn.Container)}var u={type:St.ChangeMultiple,property:t,target:i,redoValues:a,undoValues:h};e.create(u)}});var b=this.properties.filter((function(e){return t.selectedProperty(e)}));return b.forEach((function(r){n.push.apply(n,(0,S.Z)(t.selectedProperties(e,r)))})),n}},{key:"selectedProperties",value:function(e,t){var n=this,r=[],i=t.name,a=t.tweenable,o=t.type,u=this.selectType,s=this.value(i),c=o===Vt.Frame?St.ChangeFrame:St.Change,l={selectType:u,property:t,value:s,changeHandler:function(t,r){we(t),e.create({type:c,property:t,target:n,redoValue:r,undoValue:s})}};if(r.push(l),a){var f=[i,bi].join(""),d=this.value(f),h={selectType:u,property:t,value:d,name:f,changeHandler:function(t,r){e.create({property:t,target:n,redoValue:r,undoValue:d})}};r.push(h)}return r}},{key:"selectedProperty",value:function(e){switch(e.name){case"muted":return this.mutable();case"opacity":return this.container}return!0}},{key:"tween",value:function(e,t,n){var r=this.value(e),i=this.value("".concat(e).concat(bi));if(Y(i))return r;var a=n.frame,o=n.frames,u=t.frame-a;return se(r)?(ee(i),mu(r,i,u,o)):(we(r),we(i),gu(r,i,u,o))}},{key:"tweenPoints",value:function(e,t){var n=this.tweenValues("x",e,t),r=(0,C.Z)(n,2),i=r[0],a=r[1],o=this.tweenValues("y",e,t),u=(0,C.Z)(o,2),s=u[0],c=u[1];ee(i),ee(s);var l={x:i,y:s};return[l,_u(l,{x:a,y:c})]}},{key:"tweenRects",value:function(e,t){var n=this.tweenSizes(e,t),r=(0,C.Z)(n,2),i=r[0],a=r[1],o=this.tweenPoints(e,t),u=(0,C.Z)(o,2),s=u[0],c=u[1];return[(0,T.Z)((0,T.Z)({},s),i),(0,T.Z)((0,T.Z)({},c),a)]}},{key:"tweenSizes",value:function(e,t){var n=this.tweenValues("width",e,t),r=(0,C.Z)(n,2),i=r[0],a=r[1],o=this.tweenValues("height",e,t),u=(0,C.Z)(o,2),s=u[0],c=u[1];ee(i),ee(s);var l={width:i,height:s};return[l,Pu(l,{width:a,height:c})]}},{key:"tweenValues",value:function(e,t,n){var r=[],i=je(t);return r.push(this.tween(e,i?t.startTime:t,n)),i&&r.push(this.tween(e,t.endTime,n)),r}},{key:"visibleCommandFiles",value:function(e){var t=(0,T.Z)((0,T.Z)({},e),{},{audible:!1,visible:!0});return this.fileCommandFiles(t)}}]),n}(e)}!function(){var e={alphamerge:Qs,chromakey:Ps,colorchannelmixer:Ms,color:Os,colorize:Is,convolution:Fs,crop:Us,fps:Js,opacity:Gs,overlay:qs,scale:Ws,setpts:Ks,setsar:$s,trim:Ys,text:Xs};Object.entries(e).forEach((function(e){var t=(0,C.Z)(e,2),n=t[0],r=t[1],i="".concat(ec).concat(n);Hu[i]=new r({id:i})}))}();var oc=function(e){return Ti(e)&&e.type===$e};function uc(e){if(!oc(e))throw new Error("expected VideoMedia")}var sc=function(e){return Ci(e)&&e.definition.type===$e};function cc(e){if(!sc(e))throw new Error("expected Video")}var lc="decode",fc="encode",dc="transcode",hc="protocol",pc="language",vc="filter",mc="resolve",gc=(m={},(0,E.Z)(m,lc,{}),(0,E.Z)(m,fc,{}),(0,E.Z)(m,vc,{}),(0,E.Z)(m,pc,{}),(0,E.Z)(m,hc,{}),(0,E.Z)(m,mc,{}),(0,E.Z)(m,dc,{}),m),yc=function(e){return $(e)&&"type"in e&&ke(e.type)};function bc(e,t){yc(e)||G(e,"Plugin",t)}var kc=function(e){return e.replace(/[^a-z]/g,"")},wc=function(e,t){var n=gc[e],r=kc(t),i=n[r];return bc(i,r),i},Zc=function(e,t){var r=gc[e],i=kc(t);return r[i]?Promise.resolve(r[i]):n(7352)("./".concat(e,"-").concat(i)).then((function(){return wc(e,t)}))},xc="http",Sc="https",Cc="blob",Ec="file",Tc=function(e){return Zc(hc,e).then((function(e){return e}))},_c=function(e){var t=e.endpoint;Sr(t),_r(t)||(e.endpoint=ur(t))},Pc=function(e){var t=e.endpoint;Sr(t);var n=t.pathname;return((void 0===n?"":n).split(".").pop()||"").trim()},Ic=function(e){var t=e.endpoint;Sr(t);var n=t.protocol;return we(n),n},Oc=function(e){var t=e.response;return Vi(t)?Promise.resolve({data:t}):(_c(e),Fc(e).then((function(t){return t.promise(e,Be).then((function(t){return zc(e,t),t}))})))},jc=function(e){var t=e.response;return Hi(t)?Promise.resolve({data:t}):(_c(e),Fc(e).then((function(t){return t.promise(e,Ue).then((function(t){return zc(e,t),t}))})))},Mc=function(e){var t=e.response;return Ni(t)?Promise.resolve({data:t}):(_c(e),Fc(e).then((function(t){return t.promise(e,qe).then((function(t){return zc(e,t),t}))})))},Fc=function(e){return Tc(Ic(e))},zc=function(e,t){Ve(t)||(e.response=t.data)},Ac=function(e){var t=e.response;return Ri(t)?Promise.resolve({data:t}):(_c(e),Fc(e).then((function(t){return t.promise(e,$e).then((function(t){return zc(e,t),t}))})))},Rc=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t=e.response;if(Ne(t))return Promise.resolve({data:t})}return _c(e),Fc(e).then((function(t){return t.promise(e,Ye).then((function(t){return zc(e,t),t}))}))},Lc=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var t=e.response;if(De(t))return Promise.resolve({data:t})}return _c(e),Fc(e).then((function(t){return t.promise(e,Xe).then((function(t){return zc(e,t),t}))}))},Nc=function(e,t){switch(t){case Be:return Oc(e);case qe:return Mc(e);case $e:return Ac(e)}},Dc=function(e,t){switch(t){case Be:case qe:case $e:return Nc(e,t);case Ue:return jc(e)}return W(A.Type)},Vc=function(e,t){return _c(e),Fc(e).then((function(n){return n.promise(e,t)}))};function Bc(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_colorizeFilter",void 0),(0,E.Z)((0,b.Z)(e),"colorMaximize",!1),(0,E.Z)((0,b.Z)(e),"_div",void 0),(0,E.Z)((0,b.Z)(e),"_opacityFilter",void 0),(0,E.Z)((0,b.Z)(e),"_svgElement",void 0);var o=i[0];return(0,b.Z)(e).container&&(e.addProperties(o,Oo({name:"x",type:Vt.Percent,defaultValue:.5,group:bo.Point,tweenable:!0})),e.addProperties(o,Oo({name:"y",type:Vt.Percent,defaultValue:.5,group:bo.Point,tweenable:!0})),Yt.forEach((function(t){e.addProperties(o,Oo({name:"off".concat(t),type:Vt.Boolean,group:bo.Point}))})),e.addProperties(o,Oo({tweenable:!0,name:"opacity",type:Vt.Percent,defaultValue:1,group:bo.Opacity}))),e}return(0,x.Z)(n,[{key:"colorizeFilter",get:function(){return this._colorizeFilter||(this._colorizeFilter=ic("colorize"))}},{key:"colorizeCommandFilters",value:function(e){var t=e.contentColors,n=e.videoRate,r=e.filterInput,i=e.time;xe(t);var a=je(i)?i.lengthSeconds:0,o=this.colorizeFilter,u={videoRate:n,duration:a,filterInput:r},s=(0,C.Z)(t,2),c=s[0],l=s[1];return o.setValue(c,"color"),o.setValue(l,"color".concat(bi)),o.commandFilters(u)}},{key:"stylesSrcPromise",value:function(e,t){var n=this.type,r=this.definition,i=[];if(n===qe?i.push(n):i.push(Ge,$e),r.preferredTranscoding.apply(r,i).type===Ge)return uc(r),r.loadedImagePromise(t,Da(e)).then((function(e){return e.src}));var a=r.preferredTranscoding(qe).request;return Mc(a).then((function(e){if(Ve(e))return G(e.error);var t=e.data;return Di(t),t.src}))}},{key:"stylesPromise",value:function(e,t){return this.stylesSrcPromise(e,t).then((function(t){var n=[];return n.push("mask-image: url(".concat(t,")")),n.push("mask-repeat: no-repeat"),n.push("mask-mode: luminance"),n.push("mask-size: ".concat(e.width,"px ").concat(e.height,"px")),n.push("mask-position: ".concat(e.x,"px ").concat(e.y,"px")),n}))}},{key:"containedVideo",value:function(e,t,n,r,i){var a=this,o=Math.round(Number(e.getAttribute("x"))),u=Math.round(Number(e.getAttribute("y"))),s=eu(t);s.x-=o,s.y-=u;var c=(0,T.Z)((0,T.Z)({},s),Da(t)),l=!this.definition.isVector;return(l?this.stylesPromise(c,this.definitionTime(r,i)):Promise.resolve([])).then((function(t){var r=[],i=a.div;if(t.push("left: ".concat(o,"px")),t.push("top: ".concat(u,"px")),!l){var s=a.pathElement(c);s.setAttribute("fill",$r);var f=Fo(),d=globalThis.document.createElementNS(Dn,"clipPath");ys(d,f),ds(d,s);var h=os(n);Cs(h,[ps([d])]),t.push("clip-path:".concat(Xu(f))),r.push(h)}return i.setAttribute("style",t.join(";")+";"),Cs(i,[e]),r.push(i),r}))}},{key:"previewItemsPromise",value:function(e,t,n,r,i,a){var o=this,u=e.contentPreviewItemPromise(t,r,i,a).then((function(u){if(J(u,"contentItem"),Ri(u))return Te(a===kn.Player,"video in player"),o.containedVideo(u,t,n,r,i);var s=o.containerSvgItemPromise(t,r,i,a),c=!o.definition.isVector;return s.then((function(s){var l=[],f=!e.definition.isVector;l.push(s);var d=Fo();if(c&&a===kn.Player){var h=is(t,"","transparent",d);h.setAttribute("vector-effect","non-scaling-stroke;"),l.push(h),d=Fo()}s.setAttribute("id",d);var p=es();ds(p,[is(t,"","transparent"),u]);var v=[p];bs(p,"contained");var m=ls(void 0,p,!0);l.push(m);var g=ks(d);m.appendChild(is(n,"","black")),m.appendChild(g),c||(s.setAttribute("vector-effect","non-scaling-stroke;"),g.setAttribute("fill",$r));var y=o.containerSvgFilter(s,n,t,r,i);y?l.push(y):s.removeAttribute("filter");var b=e.contentSvgFilter(u,n,t,r,i);b?l.push(b):u.removeAttribute("filter");var k=(f||c)&&a===kn.Player?o.svgElement:os();return Cs(k,[ps(l)].concat(v)),ts(k,n),[k]}))}));return u}},{key:"containerColorCommandFilters",value:function(e){var t=[],r=e.contentColors,i=e.containerRects,a=e.track;if(!this.colorMaximize)return o((0,g.Z)(n.prototype),"containerColorCommandFilters",this).call(this,e);xe(r);var u=!uu.apply(void 0,(0,S.Z)(i))?wu.apply(void 0,(0,S.Z)(i)):i[0],s=(0,T.Z)((0,T.Z)({},e),{},{outputSize:u});return t.push.apply(t,(0,S.Z)(this.colorBackCommandFilters(s,"content-".concat(a)))),t}},{key:"containerCommandFilters",value:function(e,t){var n=[],r=e.contentColors,i=e.filterInput;return we(i,"filterInput"),null!==r&&void 0!==r&&r.length||(n.push.apply(n,(0,S.Z)(this.alphamergeCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:i})))),i=Xn(Xn(n).outputs)),n.push.apply(n,(0,S.Z)(this.containerFinalCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:i})))),n}},{key:"containerFinalCommandFilters",value:function(e){var t=[],n=e.filterInput;we(n,"filterInput");var r=this.opacityCommandFilters(e);return r.length&&(t.push.apply(t,(0,S.Z)(r)),n=Xn(Xn(r).outputs)),t.push.apply(t,(0,S.Z)(this.translateCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:n})))),t}},{key:"containerRects",value:function(e,t){var n=e.size,r=e.time,i=e.timeRange,a=this.lock,o=this.tweenRects(r,i),u=Fu(o,a),s=t.width,c=t.height,l=(s||n.width)/(c||n.height),f=(0,C.Z)(u,2),d=f[0],h=f[1],p=zu(d,n,l,a),v=this.directionObject,m=Iu(n,p,v);if(!!uu(d,h))return[m,m];var g=zu(h,n,l,a),y=Tu(p,g);return[m,Iu(n,y,v)]}},{key:"containerSvgItemPromise",value:function(e,t,n,r){return Promise.resolve(this.pathElement(e))}},{key:"containerSvgFilter",value:function(e,t,n,r,i){var a=this.tweenValues("opacity",r,i),o=(0,C.Z)(a,1)[0];if(pe(o)){var u=this.opacityFilter;return u.setValue(o,"opacity"),ms(u.filterSvgFilter(),e)}}},{key:"directions",get:function(){return nn}},{key:"directionObject",get:function(){var e=this;return Object.fromEntries(Yt.map((function(t){return[t,!!e.value("off".concat(t))]})))}},{key:"div",get:function(){return this._div||(this._div=globalThis.document.createElement("div"))}},{key:"isDefault",get:function(){return this.mediaId===Lo}},{key:"opacityCommandFilters",value:function(e){var t=e.outputSize,n=e.filterInput,r=e.clipTime,i=e.time,a=e.videoRate;Me(r);var o=[],u={dimensions:t,filterInput:n,videoRate:a,duration:je(i)?i.lengthSeconds:0},s=this.tweenValues("opacity",i,r),c=(0,C.Z)(s,2),l=c[0],f=c[1];if(pe(l)||ae(f)&&pe(f)){var d=this.opacityFilter;d.setValues({opacity:l,opacityEnd:f}),o.push.apply(o,(0,S.Z)(d.commandFilters(u)))}return o}},{key:"opacityFilter",get:function(){return this._opacityFilter||(this._opacityFilter=ic("opacity"))}},{key:"pathElement",value:function(e){return is(e,"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")}},{key:"svgElement",get:function(){return this._svgElement||(this._svgElement=os())}},{key:"translateCommandFilters",value:function(e){var t=[],n=e.outputSize,r=e.time,i=e.containerRects,a=e.chainInput,o=e.filterInput,u=e.videoRate;if(!a)return t;xe(i);var s=(0,C.Z)(i,2),c=s[0],l=s[1],f=je(r)?r.lengthSeconds:0,d=this.overlayFilter;d.setValue(c.x,"x"),d.setValue(c.y,"y"),f&&(d.setValue(l.x,"x".concat(bi)),d.setValue(l.y,"y".concat(bi)));var h={dimensions:n,filterInput:o,videoRate:u,duration:f,chainInput:a};return t.push.apply(t,(0,S.Z)(d.commandFilters(h))),t}}]),n}(e)}var Hc=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"selectType",Et.None),e}return(0,x.Z)(n,[{key:"commandFiles",value:function(e){var t=this,n=[],r=e.videoRate,i=e.time,a=je(i)?i.lengthSeconds:0,o=this.definition.filters,u=(0,T.Z)((0,T.Z)({},e),{},{videoRate:r,duration:a});return n.push.apply(n,(0,S.Z)(o.flatMap((function(e){return t.setFilterValues(e),e.commandFiles(u)})))),n}},{key:"commandFilters",value:function(e){var t=this,n=[],r=e.videoRate,i=e.filterInput,a=e.time;we(i);var o=je(a)?a.lengthSeconds:0,u=this.definition.filters,s={videoRate:r,duration:o,filterInput:i};return n.push.apply(n,(0,S.Z)(u.flatMap((function(e){t.setFilterValues(e);var n=e.commandFilters(s);return n.length&&(s.filterInput=Xn(Xn(n).outputs)),n})))),n}},{key:"selectables",value:function(){return[this]}},{key:"selectedItems",value:function(e){var t=this;return this.properties.map((function(n){var r=t.value(n.name);return{value:r,selectType:Et.None,property:n,changeHandler:function(n,i){we(n);var a={target:t,property:n,redoValue:i,undoValue:r};e.create(a)}}}))}},{key:"setFilterValues",value:function(e){var t=this,n=e.properties.map((function(e){return e.name}));this.properties.map((function(e){return e.name})).filter((function(e){return n.includes(e)})).forEach((function(n){var r=t.properties.find((function(e){return e.name===n}));Io(r);var i=r.tweenable;if(e.setValue(t.value(n),n),i){var a="".concat(n).concat(bi);e.setValue(t.value(a),a)}}))}},{key:"svgFilters",value:function(e,t,n,r){var i=this,a=[],o=this.definition.filters;return a.push.apply(a,(0,S.Z)(o.flatMap((function(e){return i.setFilterValues(e),e.filterSvgFilter()})))),a}}]),n}(Bc(ac(Vu)));function Uc(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).properties.push(Oo({name:"muted",type:Vt.Boolean})),e}return(0,x.Z)(n,[{key:"graphFiles",value:function(e){return[]}},{key:"loadPromise",value:function(e){return Promise.resolve()}}]),n}(e)}var qc=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"kind",""),(0,E.Z)((0,b.Z)(r),"purpose","");var i=e.purpose;return i&&(r.purpose=i),at(r.type),r}return(0,x.Z)(n,[{key:"toJSON",value:function(){var e=this.type,t=this.kind;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{type:e,kind:t})}},{key:"unload",value:function(){delete this.request.response}}]),n}(Zi),Wc=function(e){return new qc(e)},Gc=(0,x.Z)((function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"data",void 0),(0,E.Z)(this,"type",void 0);var n=t.data,r=t.type;this.type=r,this.data=n})),$c=function(e){return new Gc(e)},Jc=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r,i,a;(0,Z.Z)(this,n),a=t.call(this,e),(0,E.Z)((0,b.Z)(a),"file",void 0),(0,E.Z)((0,b.Z)(a),"isVector",!1),(0,E.Z)((0,b.Z)(a),"transcodings",[]),(0,E.Z)((0,b.Z)(a),"properties",[]),(0,E.Z)((0,b.Z)(a),"decodings",[]),(0,E.Z)((0,b.Z)(a),"serverPath","");var o=e.decodings,u=e.transcodings,s=e.file;s&&(a.file=s),o&&(r=a.decodings).push.apply(r,(0,S.Z)(o.map($c))),u&&(i=a.transcodings).push.apply(i,(0,S.Z)(u.map(Wc)));var c=(0,b.Z)(a).type;return nt(c),a.properties.push(Oo({name:"label",type:Vt.String,defaultValue:vo[c].label})),a}return(0,x.Z)(n,[{key:"unload",value:function(){throw new Error("Method not implemented.")}},{key:"definitionIcon",value:function(e){}},{key:"findTranscoding",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.transcodings.find((function(t){return t.type===e&&(!n.length||n.includes(t.kind))}))}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Vu(this.instanceArgs(e))}},{key:"instanceArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.fromEntries(this.properties.map((function(e){return[e.name,e.defaultValue]})));return(0,T.Z)((0,T.Z)((0,T.Z)({},t),e),{},{definition:this})}},{key:"loadPromise",value:function(e){return G(A.Unimplemented)}},{key:"preferredTranscoding",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=function(){var t=o[a],n=e.transcodings.find((function(e){return e.type===t}));if(n)return{v:n}},a=0,o=n;a<o.length;a++){var u=i();if("object"===typeof u)return u.v}return this}},{key:"serverPromise",value:function(e){var t=this;if(this.serverPath)return Promise.resolve();var n=this.request;return Vc(n).then((function(e){if(!Ve(e)){var n=e.path;t.serverPath=n}}))}},{key:"toJSON",value:function(){var e=this.label,t=this.decodings,r=this.transcodings;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{label:e,decodings:t,transcodings:r})}}]),n}(Zi);function Kc(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"type",qe),e.properties.push(Oo({name:"lock",type:Vt.String,defaultValue:Ut.H,group:bo.Size})),e}return(0,x.Z)(n,[{key:"loadPromise",value:function(e){return Promise.resolve()}}]),n}(e)}var Qc=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r,i,a;(0,Z.Z)(this,n),a=t.call(this,e),(0,E.Z)((0,b.Z)(a),"filters",[]),(0,E.Z)((0,b.Z)(a),"finalizeFilter",void 0),(0,E.Z)((0,b.Z)(a),"initializeFilter",void 0),(0,E.Z)((0,b.Z)(a),"type",He),a.properties.push(Oo({name:"label",defaultValue:""}));var o=e.properties,u=e.filters,s=e.initializeFilter,c=e.finalizeFilter;return null!==o&&void 0!==o&&o.length&&(r=a.properties).push.apply(r,(0,S.Z)(o.map((function(e){return Oo((0,T.Z)((0,T.Z)({},e),{},{custom:!0}))})))),s&&(a.initializeFilter=rc(s)),c&&(a.finalizeFilter=rc(c)),u&&(i=a.filters).push.apply(i,(0,S.Z)(u.map((function(e){return rc(e)})))),a}return(0,x.Z)(n,[{key:"instanceArgs",value:function(e){var t=o((0,g.Z)(n.prototype),"instanceArgs",this).call(this,e);return t.label||(t.label=this.label),t}},{key:"instanceFromObject",value:function(e){return new Hc(this.instanceArgs(e))}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this),t=this.properties.filter((function(e){return e.custom}));return t.length&&(e.properties=t),this.filters.length&&(e.filters=this.filters),e}}]),n}(Kc(Uc(Jc))),Yc={label:"Blur",type:"effect",id:"com.moviemasher.effect.blur",request:{response:{filters:[{id:"com.moviemasher.filter.convolution",parameters:[{name:"matrix",value:"1,1,1,1,1,1,1,1,1"},{name:"multiplier",value:"0.11"}]}]}}},Xc=function(e){return we(e.id),new Qc((0,T.Z)((0,T.Z)({},e),{},{type:He}))},el=function(e){var t=ji[He].find((function(t){return t.id===e}));return t||Xc({id:e})},tl=function(e){var t=e.mediaId;return el(void 0===t?"":t).instanceFromObject(e)},nl=function(e){return el(e).instanceFromObject()};Ii[He]=Xc,ji[He].push(Xc(Yc));var rl=function(e){return Wo(e)&&il(e.definition)},il=function(e){return Ti(e)&&e.type===Be};function al(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e,r;(0,Z.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r=t.call.apply(t,[this].concat(a)),(0,E.Z)((0,b.Z)(r),"effects",[]);var u=a[0],s=(0,b.Z)(r),c=s.isDefaultOrAudio,l=s.container;c||l||(r.addProperties(u,Oo({name:"x",type:Vt.Percent,defaultValue:.5,group:bo.Point,tweenable:!0})),r.addProperties(u,Oo({name:"y",type:Vt.Percent,defaultValue:.5,group:bo.Point,tweenable:!0})),r.addProperties(u,Oo({name:"lock",type:Vt.String,defaultValue:Ut.H,group:bo.Size})));var f=u.effects;return f&&(e=r.effects).push.apply(e,(0,S.Z)(f.map(tl))),r}return(0,x.Z)(n,[{key:"audibleCommandFiles",value:function(e){var t=(0,T.Z)((0,T.Z)({},e),{},{audible:!0,visible:!1});return this.fileCommandFiles(t)}},{key:"audibleCommandFilters",value:function(e){var t=[],n=e.time,r=e.quantize,i=e.commandFiles,a=e.clipTime,o=n.isRange?n.lengthSeconds:0,u=o?Math.min(o,a.lengthSeconds):0,s=this.id,c=Du(i,s,!1),l="atrim",f=zo(l),d={},h=this.definitionTime(n,a).frame;u&&(d.duration=u),h&&(d.start=no(h,r).seconds);var p={inputs:[c],ffmpegFilter:l,options:d,outputs:[f]};t.push(p),c=f;var v=1e3*(a.seconds-n.seconds);if(v){var m="adelay",g=zo(m),y={ffmpegFilter:m,options:{delays:v,all:1},inputs:[c],outputs:[g]};t.push(y),c=g}return t.push.apply(t,(0,S.Z)(this.amixCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:c})))),t}},{key:"contentCommandFilters",value:function(e,t){return this.effectsCommandFilters(e)}},{key:"contentPreviewItemPromise",value:function(e,t,n,r){return this.contentSvgItemPromise(e,t,n,r)}},{key:"contentRects",value:function(e){var t=e.containerRects,n=e.time,r=e.timeRange,i=e.loading,a=e.editing,o=ge(t)?t:[t,t];if(i&&!this.intrinsicsKnown({editing:a,size:!0}))return o;var u=this.intrinsicRect(a);if(!za(u))return o;var s=this.lock,c=this.tweenRects(n,r),l=Fu(c,s),f=Ou(u,t,l),d=(0,C.Z)(f,2),h=d[0],p=d[1],v=ju(f,t,l),m=(0,C.Z)(v,2),g=m[0],y=m[1];return[cu(h,g),cu(p,y)]}},{key:"contentSvgFilter",value:function(e,t,n,r,i){var a=this.effects;if(!this.isDefaultOrAudio&&a.length){var o=this.effects.flatMap((function(e){return e.svgFilters(t,n,r,i)})),u=ms(o,e);return ys(u,"200%","width"),ys(u,"200%","height"),u}}},{key:"definitionIds",value:function(){return[].concat((0,S.Z)(o((0,g.Z)(n.prototype),"definitionIds",this).call(this)),(0,S.Z)(this.effects.flatMap((function(e){return e.definitionIds()}))))}},{key:"effectsCommandFiles",value:function(e){var t=[];return this.container||t.push.apply(t,(0,S.Z)(this.effects.flatMap((function(t){return t.commandFiles(e)})))),t}},{key:"effectsCommandFilters",value:function(e){var t=[],n=e.filterInput;we(n);var r=this.effects;return this.isDefaultOrAudio||t.push.apply(t,(0,S.Z)(r.flatMap((function(t){var r=t.commandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:n}));return r.length&&(n=Xn(Xn(r).outputs)),r})))),t}},{key:"intrinsicRect",value:function(){return su}},{key:"isDefault",get:function(){return this.mediaId===qo}},{key:"isDefaultOrAudio",get:function(){return this.isDefault||rl(this)}},{key:"contentSvgItemPromise",value:function(e,t,n,r){return G(A.Unimplemented)}},{key:"selectedItems",value:function(e){var t=o((0,g.Z)(n.prototype),"selectedItems",this).call(this,e);if(this.isDefaultOrAudio||this.container)return t;var r=this.effects,i=this.selectType,a=e.editor,u={name:"effects",selectType:i,value:r,removeHandler:a.removeEffect.bind(a),moveHandler:a.moveEffect.bind(a),addHandler:a.addEffect.bind(a)};return t.push(u),t}},{key:"selectedProperty",value:function(e){switch(e.name){case"effects":case"lock":case"width":case"height":case"x":case"y":return!this.isDefaultOrAudio}return o((0,g.Z)(n.prototype),"selectedProperty",this).call(this,e)}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this);return e.effects=this.effects,e}},{key:"visibleCommandFiles",value:function(e){var t=o((0,g.Z)(n.prototype),"visibleCommandFiles",this).call(this,e);return t.push.apply(t,(0,S.Z)(this.effectsCommandFiles(e))),t}}]),n}(e)}var ol=function(e){return Wo(e)&&"color"in e},ul=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_colorFilter",void 0);var o=i[0];return e.addProperties(o,Oo({tweenable:!0,name:"color",type:Vt.Rgb,defaultValue:e.definition.color,group:bo.Color})),e}return(0,x.Z)(n,[{key:"colorFilter",get:function(){return this._colorFilter||(this._colorFilter=ic("color"))}},{key:"contentColors",value:function(e,t){var n=this.tweenValues("color",e,t),r=(0,C.Z)(n,2),i=r[0],a=r[1];return we(i),[i,ke(a)?a:i]}},{key:"contentPreviewItemPromise",value:function(e,t,n,r){var i=this.colorFilter,a=this.tweenValues("color",t,n),o=(0,C.Z)(a,1)[0],u=e.x,s=e.y,c=e.width,l=e.height;i.setValues({width:c,height:l,color:o});var f=i.filterSvgs(),d=(0,C.Z)(f,1)[0];return d.setAttribute("x",String(u)),d.setAttribute("y",String(s)),Promise.resolve(d)}}]),n}(al(ac(Vu))),sl=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0];e=t.call(this,o),(0,E.Z)((0,b.Z)(e),"color",Gr);var u=o.color;return ke(u)&&(e.color=u),e}return(0,x.Z)(n,[{key:"definitionIcon",value:function(e){var t={width:512,height:512},n=Fa(t,e,!0),r=(0,T.Z)((0,T.Z)({},n),hu(e,n)),i=cs("M136.5 77.7l37 67L32 285.7 216.4 464l152.4-148.6 54.4-11.4L166.4 48l-29.9 29.7zm184 208H114.9l102.8-102.3 102.8 102.3zM423.3 304s-56.7 61.5-56.7 92.1c0 30.7 25.4 55.5 56.7 55.5 31.3 0 56.7-24.9 56.7-55.5S423.3 304 423.3 304z");return xs(i,t,r),Promise.resolve(os(e,i))}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ul(this.instanceArgs(e))}}]),n}(Jo(Uc(Jc))),cl=function(e,t){return e&&t?Ga(e/t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round"):0},ll=function(e){e.preventDefault(),e.stopPropagation()},fl=8,dl=2,hl=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"args",void 0),(0,E.Z)(this,"_rect",void 0),(0,E.Z)(this,"_timeRange",void 0),this.args=t}return(0,x.Z)(e,[{key:"clip",get:function(){return this.args.clip}},{key:"container",get:function(){return this.clip.container}},{key:"editingSvgItem",value:function(e,t){var n=this.container,r=this.rect,i=n.pathElement(r);return i.setAttribute("vector-effect","non-scaling-stroke"),bs(i,e),t||i.addEventListener("pointerdown",this.pointerDownHandler()),i}},{key:"editor",get:function(){return this.preview.editor}},{key:"icon",get:function(){return!!this.args.icon}},{key:"pointerDownHandler",value:function(){var e=(0,T.Z)({},Xo),t=this.editor,n=this.container,r=this.timeRange,i=this.rect,a=this.clip,o=t.rect,u=function(){globalThis.window.removeEventListener("pointermove",l),globalThis.window.removeEventListener("pointermove",c),globalThis.window.removeEventListener("pointerup",s),globalThis.window.removeEventListener("pointerup",f)},s=function(e){ll(e),u(),t.dragging=!1,t.redraw()},c=function(a){var u,s;ll(a);var c=n.offE,l=n.offN,f=n.offS,d=n.offW,h=i.x,p=i.y,v=i.width,m=i.height,g=o.width-v,y=o.height-m,b=0,k=0;c&&(b-=v,g+=v),d&&(g+=v),l&&(k-=m,y+=m),f&&(y+=m);var w=a.clientX,Z=a.clientY,x=w-o.x,S=Z-o.y,C=e.x-o.x,T=S-(e.y-o.y-p),_=Ru(x-(C-h),b,b+g),P=Ru(T,k,k+y),I=Au(n),O=r.lastTime,j=t.time.equalsTime(O),M=I&&j,F=M?"x".concat(bi):"x",z=M?"y".concat(bi):"y",A=(u={},(0,E.Z)(u,F,n.value(F)),(0,E.Z)(u,z,n.value(z)),u),R=(s={},(0,E.Z)(s,F,g?_/g:A[F]),(0,E.Z)(s,z,y?P/y:A[z]),s),L={property:bo.Point,target:n,type:St.ChangeMultiple,redoValues:R,undoValues:A};t.actions.create(L)},l=function i(a){ll(a);var o=a.clientX,s=a.clientY;if(!Yo({x:o,y:s},e)){if(Au(n)){var l=t.time,f=l.closest(r);if(!l.equalsTime(f))return u(),void t.goToTime(f)}t.dragging=!0,globalThis.window.removeEventListener("pointermove",i),globalThis.window.addEventListener("pointermove",c),c(a)}},f=function(n){if(ll(n),n instanceof PointerEvent){var r=n.clientX,i=n.clientY;e.x=r,e.y=i,globalThis.window.addEventListener("pointermove",l),globalThis.window.addEventListener("pointerup",s),t.selection.clip!==a&&t.selection.set(a)}};return f}},{key:"preview",get:function(){return this.args.preview}},{key:"quantize",get:function(){return this.preview.quantize}},{key:"rect",get:function(){return this._rect||this.rectInitialize}},{key:"rectInitialize",get:function(){var e=this.time,t=this.timeRange,n=this.clip,r=this.size;Aa(r,"".concat(this.constructor.name,".rectInitialize size"));var i={size:r,time:e,timeRange:t,editing:!0},a=n.rects(i);return Te(uu.apply(void 0,(0,S.Z)(a))),a[0]}},{key:"size",get:function(){return this.preview.size}},{key:"svgBoundsElement",value:function(e,t,n){var r=this,i=[],a=fl,o=dl,u=o/2,s=this.rect,c=this.container.directions,l=s.width,f=s.height,d=s.x,h=s.y,p={x:d-u,y:h-u,width:l,height:o};i.push(is(p,e)),p.y=h+f-u,i.push(is(p,e)),p.x=d+l-u,p.height=f,p.width=o,p.y=h,i.push(is(p,e)),p.x=d-u,i.push(is(p,e));var v={width:l,height:f};return c.forEach((function(e){var o=r.svgHandlePoint(v,e),u={x:d+o.x,y:h+o.y,width:a,height:a},s=is(u,[].concat((0,S.Z)(t),[e.toLowerCase()]));i.push(s),n||s.addEventListener("pointerdown",(function(e){r.editor.selection.set(r.clip),ll(e)}))})),i}},{key:"svgHandlePoint",value:function(e,t){var n=fl/2,r=e.width,i=e.height,a=(0,T.Z)({},Xo),o=String(t).split(""),u=(0,C.Z)(o,2),s=u[0],c=u[1];en(s,t);var l=c||s;switch(en(l),l){case $t.W:a.x=-n;break;case $t.E:a.x=r-n;break;default:a.x=Math.round(r/2)-n}switch(s){case $t.N:a.y=-n;break;case $t.S:a.y=i-n;break;default:a.y=Math.round(i/2)-n}return a}},{key:"time",get:function(){return this.preview.time}},{key:"timeRange",get:function(){return this._timeRange||(this._timeRange=this.clip.timeRange(this.quantize))}}]),e}(),pl=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"audible",!1),(0,E.Z)(this,"clip",void 0),(0,E.Z)(this,"_clips",void 0),(0,E.Z)(this,"combine",!1),(0,E.Z)(this,"editor",void 0),(0,E.Z)(this,"mash",void 0),(0,E.Z)(this,"size",void 0),(0,E.Z)(this,"selectedClip",void 0),(0,E.Z)(this,"streaming",!1),(0,E.Z)(this,"_svgItems",void 0),(0,E.Z)(this,"time",void 0),(0,E.Z)(this,"_trackPreviews",void 0),(0,E.Z)(this,"visible",!0);var n=t.selectedClip,r=t.editor,i=t.time,a=t.mash,o=t.clip,u=t.size;this.mash=a,this.size=u||a.imageSize,this.time=i,this.selectedClip=n,this.clip=o,$(r)&&(this.editor=r)}return(0,x.Z)(e,[{key:"clips",get:function(){return this._clips||(this._clips=this.clipsInitialize)}},{key:"clipsInitialize",get:function(){var e=this.mash,t=this.time,n=this.clip;return n?[n]:e.clipsInTimeOfType(t,Ct.Video).sort(So)}},{key:"duration",get:function(){return this.time.lengthSeconds}},{key:"editing",get:function(){return $(this.editor)}},{key:"intrinsicSizePromise",get:function(){var e=this.clips,t=this.time,n=this.quantize,r={editing:!0,size:!0},i=e.filter((function(e){return!e.intrinsicsKnown(r)})),a={quantize:n,editing:!0,visible:!0,time:t,clipTime:eo(t)},o=i.map((function(e){return a.clipTime=e.timeRange(n),e.loadPromise(a)}));return Promise.all(o).then(Nn)}},{key:"previewItemsPromise",get:function(){var e=this;return this._svgItems?Promise.resolve(this._svgItems):this.intrinsicSizePromise.then((function(){var t=e.clips,n=e.size,r=e.time,i=e.clip,a=Promise.resolve([]),o=i?kn.Timeline:kn.Player;return t.forEach((function(e){a=a.then((function(t){return e.previewItemsPromise(n,r,o).then((function(e){return[].concat((0,S.Z)(t),(0,S.Z)(e))}))}))})),a})).then((function(t){return e._svgItems=t.length?e.tupleItems(t):[]}))}},{key:"quantize",get:function(){return this.mash.quantize}},{key:"svgItemsPromise",get:function(){return this.previewItemsPromise}},{key:"trackPreviews",get:function(){return this._trackPreviews||(this._trackPreviews=this.trackPreviewsInitialize)}},{key:"trackPreviewsInitialize",get:function(){var e=this,t=[],n=this.time,r=this.quantize,i=this.clips,a=n.isRange?void 0:n.scale(r);return i.forEach((function(i){var o=i.timeRange(r).scale(n.fps),u=Math.max(0,n.frame-o.frame),s=o.withFrame(u),c={clip:i,preview:e,tweenTime:a,timeRange:s,icon:!!e.clip};t.push(new hl(c))})),t}},{key:"tupleItems",value:function(e){var t=this.size,n=this.editing,r=this.selectedClip,i=this.editor,a=(0,S.Z)(e);if(a.forEach((function(e){return bs(e,"track")})),!n||!e.length)return a;J(i,"editor");var o=i.dragging,u=this.trackPreviews,s=u.find((function(e){return e.clip===r})),c=u.map((function(e){var t=["outline"];return o||e===s||t.push("animate"),e.editingSvgItem(t)})),l=os(t,c);if(bs(l,["outlines"]),a.push(l),!s)return a;var f=["bounds","back"],d=["line"],h=["handle"],p=os(t,s.svgBoundsElement(d,h,!0));bs(p,f),f[1]="fore";var v=os(t,s.svgBoundsElement(d,h));return bs(v,f),a.push(p,v),a}}]),e}(),vl=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_containerObject",{}),(0,E.Z)((0,b.Z)(e),"_container",void 0),(0,E.Z)((0,b.Z)(e),"_contentObject",{}),(0,E.Z)((0,b.Z)(e),"_content",void 0),(0,E.Z)((0,b.Z)(e),"_id",void 0),(0,E.Z)((0,b.Z)(e),"_label",""),(0,E.Z)((0,b.Z)(e),"selectType",Et.Clip),(0,E.Z)((0,b.Z)(e),"_track",void 0),e.properties.push(Oo({name:"containerId",type:Vt.ContainerId,defaultValue:Lo})),e.properties.push(Oo({name:"contentId",type:Vt.ContentId,defaultValue:qo})),e.properties.push(Oo({name:"label",type:Vt.String})),e.properties.push(Oo({name:"sizing",type:Vt.Option,defaultValue:mn.Content,options:bn})),e.properties.push(Oo({name:"timing",type:Vt.Option,defaultValue:pn.Content,group:bo.Timing,options:gn})),e.properties.push(Oo({name:"frame",type:Vt.Frame,group:bo.Timing,defaultValue:hn.None,min:0,step:1})),e.properties.push(Oo({name:"frames",type:Vt.Frame,defaultValue:hn.Unknown,min:1,step:1,group:bo.Timing}));var o=i[0];e.propertiesInitialize(o);var u=o.container,s=o.content;return u&&(e._containerObject=u),s&&(e._contentObject=s),e}return(0,x.Z)(n,[{key:"assureTimingAndSizing",value:function(e,t,n){var r=this.timing,i=this.sizing,a=this.containerId,o=r!==e,u=i!==t;return o||(o=n.hasIntrinsicTiming),u||(u=n.hasIntrinsicSizing),o||(e===pn.Content&&a?this.timing=pn.Container:this.timing=pn.Custom),u||(t===mn.Content&&a?this.sizing=mn.Container:this.sizing=mn.Preview),!(u&&o)}},{key:"audible",get:function(){return this.mutable}},{key:"clipIcon",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.container){var r=this.track,i=r.mash,a=i.quantize,o=i.imageSize;Aa(o,"track.mash.imageSize");var u=Pa(Fa(o,e,!0));Aa(u,"".concat(this.constructor.name,".clipIcon containedSize"));for(var s=u.width+n,c=Math.ceil(e.width/s),l=this.timeRange(a),f=l.startTime,d=[],h=r.mash,p=0,v=0;v<c;v++){var m=f.copy,g=new pl({mash:h,time:m,clip:this,size:u});d.push(g),p+=s,f.frame=l.frame+cl(p,t,"floor")}var y=Promise.resolve([]);return d.forEach((function(e){y=y.then((function(t){return e.svgItemsPromise.then((function(e){return[].concat((0,S.Z)(t),(0,S.Z)(e))}))}))})),y.then((function(t){var n=(0,T.Z)({},Xo),r=os(e);return t.forEach((function(e){ts(e,n),ds(r,e),n.x+=s})),r}))}}},{key:"clipCommandFiles",value:function(e){var t=[],n=e.visible,r=e.quantize,i=e.outputSize,a=e.time,o=this.timeRange(r),u=this.content,s=this.container,c=(0,T.Z)((0,T.Z)({},e),{},{clipTime:o});if(n){Aa(i,"outputSize"),Uo(s);var l={size:i,time:a,timeRange:o,loading:!0},f=this.rects(l),d=ol(u)?u.contentColors(a,o):void 0,h=(0,T.Z)((0,T.Z)({},c),{},{outputSize:i,contentColors:d,containerRects:f});if(!d){var p=u.visibleCommandFiles(h);t.push.apply(t,(0,S.Z)(p))}var v=s.visibleCommandFiles(h);t.push.apply(t,(0,S.Z)(v))}else Te(!n,"outputSize && container"),t.push.apply(t,(0,S.Z)(this.content.audibleCommandFiles(c)));return t}},{key:"commandFilters",value:function(e){var t=[],n=e.visible,r=e.quantize,i=e.outputSize,a=e.time,o=this.timeRange(r),u=(0,T.Z)((0,T.Z)({},e),{},{clipTime:o}),s=this.content,c=this.container;if(!n)return this.content.audibleCommandFilters(u);Aa(i,"outputSize"),Uo(c);var l={size:i,time:a,timeRange:o},f=this.rects(l);u.containerRects=f;var d={point:!Yo.apply(void 0,(0,S.Z)(f)),size:!Ea.apply(void 0,(0,S.Z)(f))},h=ol(s)?s.contentColors(a,o):void 0,p=Ze(h);p&&(d.color=h[0]!==h[1],d.canColor=d.color?c.canColorTween(e):c.canColor(e));var v=a.isRange?a.lengthSeconds:0,m=v?Math.min(v,o.lengthSeconds):0,g=(0,T.Z)((0,T.Z)({},u),{},{contentColors:h,outputSize:i,containerRects:f,duration:m});return p?d.canColor||(t.push.apply(t,(0,S.Z)(c.containerColorCommandFilters(g))),g.filterInput=Xn(Xn(t).outputs)):(t.push.apply(t,(0,S.Z)(s.commandFilters(g,d))),g.filterInput=Xn(Xn(t).outputs)),t.push.apply(t,(0,S.Z)(c.commandFilters(g,d,!0))),t}},{key:"container",get:function(){return this._container||this.containerInitialize(this._containerObject)}},{key:"containerInitialize",value:function(e){var t=this.containerId,n=this.track.mash.media,r=t||e.mediaId;if(ke(r)){var i=n.fromId(r),a=(0,T.Z)((0,T.Z)({},e),{},{mediaId:r,container:!0}),o=i.instanceFromObject(a);return Uo(o),this.assureTimingAndSizing(pn.Container,mn.Container,o),o.clip=this,this.timing===pn.Container&&this._track&&this.resetTiming(o),this._container=o}}},{key:"content",get:function(){return this._content||this.contentInitialize(this._contentObject)}},{key:"contentInitialize",value:function(e){var t=this.contentId,n=this.track.mash.media,r=t||e.mediaId;we(r);var i=n.fromId(r),a=(0,T.Z)((0,T.Z)({},e),{},{mediaId:r}),o=i.instanceFromObject(a);if(Go(o),this.assureTimingAndSizing(pn.Content,mn.Content,o)){var u=this.container;u&&this.assureTimingAndSizing(pn.Container,mn.Container,u)}return o.clip=this,this.timing===pn.Content&&this._track&&this.resetTiming(o),this._content=o}},{key:"definitionIds",value:function(){var e=this.content.definitionIds();return this.container&&e.push.apply(e,(0,S.Z)(this.container.definitionIds())),e}},{key:"endFrame",get:function(){return this.frame+this.frames}},{key:"endTime",value:function(e){return no(this.endFrame,e)}},{key:"intrinsicsKnown",value:function(e){var t=this.content,n=this.container,r=t.intrinsicsKnown(e);return n&&r&&(r=n.intrinsicsKnown(e)),r}},{key:"intrinsicGraphFiles",value:function(e){var t=this.content,n=this.container,r=[];return t.intrinsicsKnown(e)||r.push(t.intrinsicGraphFile(e)),n&&!n.intrinsicsKnown(e)&&r.push(n.intrinsicGraphFile(e)),r}},{key:"id",get:function(){return this._id||(this._id=Fo())}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"loadPromise",value:function(e){var t=e.quantize,n=this.content,r=this.container,i=this.frames;ve(i)&&(e.clipTime||(e.clipTime=this.timeRange(t)));var a=[n.loadPromise(e)];return r&&a.push(r.loadPromise(e)),Promise.all(a).then(Nn)}},{key:"maxFrames",value:function(e,t){return 0}},{key:"mutable",get:function(){if(this.content.mutable())return!0;var e=this.container;return!!e&&e.mutable()}},{key:"notMuted",get:function(){var e=this.content;if(this.muted)return!1;if(e.mutable()&&!e.muted)return!0;var t=this.container;return null===t||void 0===t||!t.mutable()||!t.muted}},{key:"previewItemsPromise",value:function(e,t,n){Aa(e,"previewItemsPromise");var r=this.timeRange(this.track.mash.quantize),i=this.container,a=this.content;Uo(i);var o={size:e,time:t,timeRange:r,editing:!0},u=this.rects(o);Te(uu.apply(void 0,(0,S.Z)(u)));var s=(0,C.Z)(u,1)[0];return i.previewItemsPromise(a,s,e,t,r,n)}},{key:"rectIntrinsic",value:function(e,t,n){var r=(0,T.Z)((0,T.Z)({},e),Xo),i=this.sizing;if(i===mn.Preview)return r;var a=i===mn.Container?this.container:this.content;ao(a);var o=a.intrinsicsKnown({editing:n,size:!0});return t&&!o?r:(Te(o,"intrinsicsKnown"),a.intrinsicRect(n))}},{key:"rects",value:function(e){var t=e.size,n=e.loading,r=e.editing,i=this.rectIntrinsic(t,n,r),a=this.container;return Uo(a),a.containerRects(e,i)}},{key:"resetTiming",value:function(e,t){var n=this.timing,r=this._track;switch(n){case pn.Custom:if(ve(this.frames))break;this.frames=vo.duration*(t||r.mash.quantize);break;case pn.Container:var i=Ho(e)?e:this.container;if(!i)break;this.frames=i.frames(t||r.mash.quantize);break;case pn.Content:var a=Wo(e)?e:this.content;if(!a)break;this.frames=a.frames(t||r.mash.quantize)}}},{key:"selectables",value:function(){return[this].concat((0,S.Z)(this.track.selectables()))}},{key:"selectedItems",value:function(e){var t=this,n=[];return this.properties.filter((function(e){return t.selectedProperty(e)})).forEach((function(r){var i=r.name,a="frames"===i||"frame"===i,o=t.value(i);n.push({value:o,selectType:Et.Clip,property:r,changeHandler:function(n,r){we(n);var i={property:n,target:t,redoValue:r,undoValue:o,type:a?St.ChangeFrame:St.Change};e.create(i)}})})),n}},{key:"selectedProperty",value:function(e){var t=e.name;switch(e.type){case Vt.ContainerId:case Vt.ContentId:return!1}switch(t){case"sizing":return!rl(this.content);case"timing":var n;if(this.content.hasIntrinsicTiming)break;return!(null===(n=this.container)||void 0===n||!n.hasIntrinsicSizing);case"frame":return!this.track.dense;case"frames":return this.timing===pn.Custom}return!0}},{key:"serverPromise",value:function(e){var t=this.content,n=this.container,r=[t.serverPromise(e)];return n&&r.push(n.serverPromise(e)),Promise.all(r).then(Nn)}},{key:"setValue",value:function(e,t,r){switch(o((0,g.Z)(n.prototype),"setValue",this).call(this,e,t,r),t){case"containerId":var i;this._containerObject=(null===(i=this._container)||void 0===i?void 0:i.toJSON())||{},delete this._container;break;case"contentId":var a;this._contentObject=(null===(a=this._content)||void 0===a?void 0:a.toJSON())||{},delete this._content}}},{key:"time",value:function(e){return no(this.frame,e)}},{key:"timeRange",value:function(e){var t=this.frame,n=this.frames;return he(t,"timeRange frame"),me(n,"timeRange frames"),Ya(this.frame,e,this.frames)}},{key:"timeRangeRelative",value:function(e,t){var n=this.timeRange(t).scale(e.fps),r=Math.max(0,e.frame-n.frame);return e.withFrame(r)}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this),t=this.container,r=this.content;return e.content=r,e.contentId=r.mediaId,t?(e.container=t,e.containerId=t.mediaId):e.containerId="",e}},{key:"toString",value:function(){return"[Clip ".concat(this.label,"]")}},{key:"track",get:function(){return this._track},set:function(e){this._track=e}},{key:"trackNumber",get:function(){var e=this.track;return e?e.index:-1},set:function(e){e<0&&delete this._track}},{key:"visible",get:function(){return!!this.containerId}}]),n}(ki),ml=function(e){var t=e.containerId,n=e.contentId,r=Y(n)||n===qo,i=Y(t)||t===Lo;return e.sizing===mn.Content&&r&&(e.sizing=mn.Container),e.sizing===mn.Container&&i&&(e.sizing=mn.Preview),e.timing===pn.Content&&r&&(e.timing=pn.Container),e.timing===pn.Container&&i&&(e.timing=pn.Custom),new vl(e)},gl=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this),(0,E.Z)((0,b.Z)(r),"clips",[]),(0,E.Z)((0,b.Z)(r),"dense",!1),(0,E.Z)((0,b.Z)(r),"_identifier",void 0),(0,E.Z)((0,b.Z)(r),"index",0),(0,E.Z)((0,b.Z)(r),"_mash",void 0),(0,E.Z)((0,b.Z)(r),"selectType",Et.Track);var i,a=e.clips,o=e.index,u=e.dense,s=e.mashMedia;(r.mash=s,de(o)&&(r.index=o),r.dense=ae(u)?!!u:!r.index,r.properties.push(Oo({name:"dense",defaultValue:!1})),r.propertiesInitialize(e),a)&&(i=r.clips).push.apply(i,(0,S.Z)(a.map((function(e){var t=(0,T.Z)((0,T.Z)({},e),{},{track:(0,b.Z)(r)}),n=ml(t);return n.track=(0,b.Z)(r),n}))));return r}return(0,x.Z)(n,[{key:"addClips",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)||0;this.dense||(t=0);var n=t,r=this.clips.filter((function(r,i){var a=e.includes(r);return n&&a&&i<n&&(t-=1),!a}));r.splice.apply(r,[t,0].concat((0,S.Z)(e))),this.sortClips(r),er(this.clips,r)}},{key:"assureFrame",value:function(e){var t=e||this.clips,n=!1,r=0,i=[],a=this.dense;return t.forEach((function(e){var t=e.frame;(a?t!==r:i.some((function(e){return e.includes(t)})))&&(n=!0,e.frame=r),r=e.frame+e.frames,a||i.push(e.timeRange(1))})),n}},{key:"assureFrames",value:function(e,t){var n=ae(t);(t||this.clips).forEach((function(t){var r=t.frames;ve(r)||(t.resetTiming(void 0,e),!ve(t.frames)&&n&&(t.frames=Math.floor(vo.duration*e)))}))}},{key:"frameForClipNearFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.dense)return t;var n=this.clips.filter((function(n){return e!==n&&n.endFrame>t}));if(!n.length)return t;var r=e.frame,i=e.endFrame-r,a=t;return n.find((function(e){if(e.frame>=a+i)return!0;a=e.endFrame})),a}},{key:"frames",get:function(){var e=this.clips;if(!e.length)return hn.None;var t,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value.frames;switch(i){case hn.Unknown:case hn.Unlimited:return i}}}catch(o){n.e(o)}finally{n.f()}var a=Xn(e);return a.frame+a.frames}},{key:"identifier",get:function(){return this._identifier||(this._identifier=zo("track"))}},{key:"mash",get:function(){var e=this._mash;return na(e),e},set:function(e){this._mash=e}},{key:"removeClips",value:function(e){var t=this.clips.filter((function(t){return!e.includes(t)}));Te(t.length!==this.clips.length),e.forEach((function(e){return e.trackNumber=-1})),this.sortClips(t),er(this.clips,t)}},{key:"selectables",value:function(){return[this].concat((0,S.Z)(this.mash.selectables()))}},{key:"selectedItems",value:function(e){var t=this;return this.properties.map((function(n){var r=t.value(n.name);return{value:r,property:n,selectType:Et.Track,changeHandler:function(n,i){we(n);var a={target:t,property:n,redoValue:i,undoValue:r};e.create(a)}}}))}},{key:"sortClips",value:function(e){var t=e||this.clips,n=this.assureFrame(t);return t.sort(Zo),n}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this);return e.clips=this.clips,e}}]),n}(ki),yl=function(e){return new gl(e)},bl={instance:yl},kl=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){return(0,Z.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"clips",get:function(){return[]}}]),n}(pl),wl="".concat(Hn,"font").concat(Un),Zl=function(e){return Ho(e)&&"string"in e};function xl(e){if(!Zl(e))throw new Error("expected Font")}var Sl=function(e){return Ti(e)&&e.type===Ue};function Cl(e){if(!Sl(e))throw new Error("expected FontMedia")}var El=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){return(0,Z.Z)(this,n),t.call(this,e)}return(0,x.Z)(n)}(Zi),Tl=function(e){return new El(e)},_l=[Be,$e],Pl=function(e){return Wo(e)&&"startOptions"in e};function Il(e,t){Pl(e)||G(e,"Updatable",t)}var Ol=function(e){return tt(e)&&_l.includes(e)},jl=function(e){return $o(e)&&"audibleSource"in e};function Ml(e,t){jl(e)||G(e,"UpdatableDefinition",t)}var Fl=",";function zl(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"gain",1),(0,E.Z)((0,b.Z)(e),"gainPairs",[]),(0,E.Z)((0,b.Z)(e),"hasIntrinsicTiming",!0),(0,E.Z)((0,b.Z)(e),"_trimFilter",void 0);var o=i[0].gain;if(ae(o))if(K(o))if(o.includes(Fl)){for(var u=o.split(Fl).map((function(e){return parseFloat(e)})),s=u.length/2,c=0;c<s;c+=1)e.gainPairs.push([u[2*c],u[2*c+1]]);e.gain=-1}else e.gain=Number(o);else de(o)&&(e.gain=o);return e}return(0,x.Z)(n,[{key:"definitionTime",value:function(e,t){var r=o((0,g.Z)(n.prototype),"definitionTime",this).call(this,e,t),i=this.startTrim,a=this.endTrim,u=this.definition.duration;me(u);var s=ro(u,t.fps).frame-(i+a),c=r.frame%s;return r.withFrame(c+i).divide(this.speed)}},{key:"frames",value:function(e){var t=this.definition,n=this.startTrim,r=this.endTrim,i=t.frames(e);return i-(n+r)}},{key:"graphFiles",value:function(e){if(!e.audible)return[];if(!this.mutable()||this.muted)return[];var t=this.definition;return[{type:Be,file:"",definition:t,input:!0}]}},{key:"hasGain",value:function(){if(0===this.gain)return!0;if(de(this.gain))return!1;if(2!==this.gainPairs.length)return!1;var e=(0,C.Z)(this.gainPairs,2),t=e[0],n=e[1];if(2!==t.length)return!1;if(2!==n.length)return!1;if(Math.max.apply(Math,(0,S.Z)(t)))return!1;var r=(0,C.Z)(n,2),i=r[0],a=r[1];return 1===i&&0===a}},{key:"initialCommandFilters",value:function(e,t){var n=[],r=e.time,i=e.quantize,a=e.commandFiles,o=e.clipTime,u=e.videoRate,s=e.duration,c=this.id,l=Du(a,c,!0);we(l,"filterInput");var f="trim",d=zo(f),h={};s&&(h.duration=s);var p=this.definitionTime(r,o).frame;p&&(h.start=no(p,i).seconds);var v={inputs:[l],ffmpegFilter:f,options:h,outputs:[d]};if(n.push(v),l=d,s){var m=zo("fps"),g={ffmpegFilter:"fps",options:{fps:u},inputs:[l],outputs:[m]};n.push(g),l=m}var y="setpts",b={ffmpegFilter:y,options:{expr:"PTS-STARTPTS"},inputs:[l],outputs:[zo(y)]};return n.push(b),n}},{key:"intrinsicsKnown",value:function(e){return!!o((0,g.Z)(n.prototype),"intrinsicsKnown",this).call(this,e)&&(!e.duration||ve(this.definition.duration))}},{key:"mutable",value:function(){return this.definition.audio}},{key:"selectedProperty",value:function(e){return"gain"===e.name?this.mutable()&&!this.muted:o((0,g.Z)(n.prototype),"selectedProperty",this).call(this,e)}},{key:"setValue",value:function(e,t,r){if(o((0,g.Z)(n.prototype),"setValue",this).call(this,e,t,r),!r)switch(t){case"startTrim":case"endTrim":case"speed":this.clip.resetTiming(this)}}},{key:"startOptions",value:function(e,t){var n=t.withFrame(this.startTrim).seconds,r=t.seconds-e,i=t.lengthSeconds;return r<0&&(n-=r,i+=r,r=0),{start:r,offset:n,duration:i}}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this),t=this.speed,r=this.gain;return 1!==t&&(e.speed=t),1!==r&&(e.gain=r),e}},{key:"trimFilter",get:function(){return this._trimFilter||(this._trimFilter=ic("trim"))}}]),n}(e)}var Al="probe",Rl=[Al],Ll=function(e){return Rl.includes(e)},Nl=function(e){return $(e)&&"type"in e&&Ll(e.type)};function Dl(e){Nl(e)||G(e,"Decoding")}var Vl=function(e){return Nl(e)&&e.type===Al};function Bl(e){Vl(e)||G(e,"Probing")}function Hl(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_audio",void 0),(0,E.Z)((0,b.Z)(e),"audioUrl",""),(0,E.Z)((0,b.Z)(e),"_duration",0),(0,E.Z)((0,b.Z)(e),"loadedAudio",void 0),(0,E.Z)((0,b.Z)(e),"loop",!1);var o=i[0].loop;return o&&(e.loop=o,e.properties.push(Oo({name:"loops",defaultValue:1}))),e.properties.push(Oo({name:"gain",defaultValue:1,type:Vt.Percent,min:0,max:2,step:.01})),e.properties.push(Oo({name:"speed",defaultValue:1,type:Vt.Percent,min:.1,max:2,step:.1,group:bo.Timing})),e.properties.push(Oo({name:"startTrim",defaultValue:0,type:Vt.Frame,step:1,min:0,group:bo.Timing})),e.properties.push(Oo({name:"endTrim",defaultValue:0,type:Vt.Frame,step:1,min:0,group:bo.Timing})),e}return(0,x.Z)(n,[{key:"audibleSource",value:function(){var e=this.loadedAudio;if(e)return Yi.createBufferSource(e)}},{key:"audio",get:function(){return Y(this._audio)&&(this._audio=this.decodings.some((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.audible}))),Boolean(this._audio)},set:function(e){this._audio=e}},{key:"duration",get:function(){if(!ve(this._duration)){var e=this.decodings.find((function(e){return e.type===Al}));if(Vl(e)){var t=e.data.duration;ve(t)&&(this._duration=t)}}return this._duration},set:function(e){this._duration=e}},{key:"frames",value:function(e){return this.duration?ro(this.duration,e,"floor").frame:hn.Unknown}},{key:"preloadAudioPromise",get:function(){var e=this;if(this.loadedAudio)return Promise.resolve();var t=this.preferredTranscoding(Be,$e).request,n=t.response;return Vi(n)?(this.loadedAudio=n,Promise.resolve()):Oc(t).then((function(t){if(!Ve(t)){var n=t.data;if(!Vi(n)){Li(n);var r=n.src,i=Tr(r);return Oc({endpoint:i}).then((function(t){if(!Ve(t)){var n=t.data;Bi(n),e.loadedAudio=n}}))}e.loadedAudio=n}}))}},{key:"toJSON",value:function(){var e=this.loop;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{loop:e})}}]),n}(e)}var Ul=[qe,$e],ql=function(e){return Wo(e)};function Wl(e){ql(e)||G(e,"UpdatableSize")}var Gl=function(e){return tt(e)&&Ul.includes(e)},$l=function(e){return $o(e)};function Jl(e){$l(e)||G(e,"UpdatableSizeDefinition")}function Kl(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"colorMaximize",!0),(0,E.Z)((0,b.Z)(e),"hasIntrinsicSizing",!0),(0,E.Z)((0,b.Z)(e),"_setsarFilter",void 0);var o=i[0],u=o.container?0:1;return e.addProperties(o,Oo({tweenable:!0,name:"width",type:Vt.Percent,group:bo.Size,defaultValue:1,max:2,min:u})),e.addProperties(o,Oo({tweenable:!0,name:"height",type:Vt.Percent,group:bo.Size,defaultValue:1,max:2,min:u})),e}return(0,x.Z)(n,[{key:"containerCommandFilters",value:function(e,t){var n=[],r=e.commandFiles,i=e.containerRects,a=e.filterInput,o=e.videoRate,u=e.track,s=a,c=t.size?wu.apply(void 0,(0,S.Z)(i)):i[0],l=(0,T.Z)((0,T.Z)({},e),{},{contentColors:[Yr,Yr],outputSize:c});n.push.apply(n,(0,S.Z)(this.colorBackCommandFilters(l,"container-".concat(u,"-back"))));var f=Xn(Xn(n).outputs),d=this.id,h=Du(r,d,!0);n.push.apply(n,(0,S.Z)(this.scaleCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:h})))),s=Xn(Xn(n).outputs),t.size&&(we(s,"overlay input"),n.push.apply(n,(0,S.Z)(this.overlayCommandFilters(f,s))),s=Xn(Xn(n).outputs));var p={duration:0,videoRate:o};we(s,"crop input");var v=this.cropFilter;return v.setValue(c.width,"width"),v.setValue(c.height,"height"),v.setValue(0,"x"),v.setValue(0,"y"),n.push.apply(n,(0,S.Z)(v.commandFilters((0,T.Z)((0,T.Z)({},p),{},{filterInput:s})))),s=Xn(Xn(n).outputs),t.size||(we(s,"overlay input"),n.push.apply(n,(0,S.Z)(this.overlayCommandFilters(f,s))),s=Xn(Xn(n).outputs)),we(s,"alphamerge input"),n.push.apply(n,(0,S.Z)(this.alphamergeCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:s})))),s=Xn(Xn(n).outputs),n.push.apply(n,(0,S.Z)(this.containerFinalCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:s})))),n}},{key:"containerSvgItemPromise",value:function(e,t,n,r){return r!==kn.Player?this.svgItemForTimelinePromise(e,t,n):this.svgItemForPlayerPromise(e,t,n).then((function(t){return ts(t,e),t}))}},{key:"contentCommandFilters",value:function(e,t){var r=[],i=e.containerRects,a=e.visible,u=e.time,s=e.videoRate,c=e.clipTime,l=e.commandFiles,f=e.filterInput,d=e.track;if(!a)return r;Me(c),xe(i,"containerRects");var h=this.id,p=f||Du(l,h,a),v={containerRects:i,time:u,timeRange:c},m=this.contentRects(v),y=!uu.apply(void 0,(0,S.Z)(i)),b=(0,C.Z)(m,2),k=b[0],w=b[1],Z=je(u)?u.lengthSeconds:0,x=y?wu.apply(void 0,(0,S.Z)(i)):i[0],E="content-".concat(d,"-back"),_=(0,T.Z)((0,T.Z)({},e),{},{contentColors:[Wr,Wr],outputSize:x});r.push.apply(r,(0,S.Z)(this.colorBackCommandFilters(_,E)));var P=(0,T.Z)((0,T.Z)({},e),{},{filterInput:p,containerRects:m});r.push.apply(r,(0,S.Z)(this.scaleCommandFilters(P))),p=Xn(Xn(r).outputs),t.size&&(r.push.apply(r,(0,S.Z)(this.overlayCommandFilters(E,p))),p=Xn(Xn(r).outputs));var I={duration:Z,videoRate:s},O=this.cropFilter;O.setValue(x.width,"width"),O.setValue(x.height,"height"),O.setValue(k.x,"x"),O.setValue(k.y,"y"),O.setValue(w.x,"x".concat(bi)),O.setValue(w.y,"y".concat(bi)),r.push.apply(r,(0,S.Z)(O.commandFilters((0,T.Z)((0,T.Z)({},I),{},{filterInput:p})))),p=Xn(Xn(r).outputs);var j=this.setsarFilter;return j.setValue("1/1","sar"),r.push.apply(r,(0,S.Z)(j.commandFilters((0,T.Z)((0,T.Z)({},I),{},{filterInput:p})))),p=Xn(Xn(r).outputs),t.size||(r.push.apply(r,(0,S.Z)(this.overlayCommandFilters(E,p,this.definition.alpha))),p=Xn(Xn(r).outputs)),r.push.apply(r,(0,S.Z)(o((0,g.Z)(n.prototype),"contentCommandFilters",this).call(this,(0,T.Z)((0,T.Z)({},e),{},{filterInput:p}),t))),r}},{key:"svgItemForPlayerPromise",value:function(e,t,n){return this.svgItemForTimelinePromise(e,t,n)}},{key:"svgItemForTimelinePromise",value:function(e,t,n){return G(A.Unimplemented)}},{key:"contentSvgItemPromise",value:function(e,t,n,r){Te(!this.container);var i=this.itemContentRect(e,t,n);return this.containerSvgItemPromise(i,t,n,r)}},{key:"initialCommandFilters",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=e.filterInput,a=e.track;return n&&(we(i),r.push(this.copyCommandFilter(i,a))),r}},{key:"intrinsicRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"previewSize":"sourceSize",t=this.definition[e];return Aa(t,e),(0,T.Z)((0,T.Z)({},Xo),t)}},{key:"intrinsicsKnown",value:function(e){var t=e.editing;if(!e.size)return!0;var n=t?"previewSize":"sourceSize",r=this.definition[n];return za(r)}},{key:"itemContentRect",value:function(e,t,n){var r={containerRects:e,time:t,timeRange:n,editing:!0},i=this.contentRects(r),a=(0,C.Z)(i,1)[0],o=a.x,u=a.y,s={x:e.x-o,y:e.y-u};return cu(a,s)}},{key:"setsarFilter",get:function(){return this._setsarFilter||(this._setsarFilter=ic("setsar"))}}]),n}(e)}function Ql(e){return function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"alpha",void 0);var o=i[0];return console.log(e.constructor.name,o),e}return(0,x.Z)(n,[{key:"previewSize",get:function(){var e=this.transcodings.find((function(e){return e.request.response}));if(!e)return this.sourceSize;var t=e.request.response;if(za(t)){var n=t.width,r=t.height;if(ve(n)&&ve(r))return{width:n,height:r}}}},{key:"sourceSize",get:function(){var e=this.decodings.find((function(e){return e.type===Al}));if(Vl(e)){var t=e.data,n=t.width,r=t.height;if(!ve(n)||!ve(r))return;return{width:n,height:r}}}}]),n}(e)}var Yl=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"buffer",vo.mash.buffer),(0,E.Z)(this,"bufferSource",void 0),(0,E.Z)(this,"gain",vo.mash.gain),(0,E.Z)(this,"playing",!1),(0,E.Z)(this,"playingClips",[]),(0,E.Z)(this,"startedMashAt",0),(0,E.Z)(this,"contextSecondsWhenStarted",0);var n=t.buffer,r=t.gain;de(r)&&(this.gain=r),ve(n)&&(this.buffer=n)}return(0,x.Z)(e,[{key:"adjustClipGain",value:function(e,t){var n=this,r=e.timeRange(t);this.clipSources(e).forEach((function(e){n.adjustSourceGain(e,r)}))}},{key:"adjustSourceGain",value:function(e,t){var n=this,r=Yi.getSource(e.id);if(r){var i=r.gainNode;if(0!==this.gain){var a=e.gain;if(de(a))i.gain.value=this.gain*a;else{var o=je(t)?e.startOptions(this.seconds,t):t,u=o.start,s=o.duration;i.gain.cancelScheduledValues(0),e.gainPairs.forEach((function(e){var t=(0,C.Z)(e,2),r=t[0],a=t[1];i.gain.linearRampToValueAtTime(n.gain*a,u+r*s)}))}}else i.gain.value=0}}},{key:"bufferClips",value:function(e,t){return!!this.createSources(e,t)&&(this.destroySources(e),!0)}},{key:"clear",value:function(){}},{key:"clipSources",value:function(e){var t=[],n=e.container,r=e.content;return Pl(n)&&!n.muted&&t.push(n),Pl(r)&&!r.muted&&t.push(r),t}},{key:"createSources",value:function(e,t,n){var r,i=this;if(!this.playing&&!n)return!1;var a=e.filter((function(e){return!i.playingClips.includes(e)}));if(!a.length)return!0;var o=!0;return a.forEach((function(e){var r=i.clipSources(e),a=e.timeRange(t),u=r.filter((function(e){return!Yi.hasSource(e.id)}));o&&(o=u.every((function(e){var t=i.playing?i.seconds:(null===n||void 0===n?void 0:n.seconds)||0,r=e.startOptions(t,a),o=r.start,u=r.duration,s=r.offset;if(de(o)&&ve(u)){var c=e.definition,l=e.id;Ml(c);var f=c.audibleSource();if(!f)return!!o||(console.log(i.constructor.name,"createSources no audible source",c.label),!1);var d=c.loop;Yi.startAt(l,f,o,u,s,d),i.adjustSourceGain(e,r)}else console.error(i.constructor.name,"createSources",r);return!0})))})),(r=this.playingClips).push.apply(r,(0,S.Z)(a)),o}},{key:"destroySources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,S.Z)(this.playingClips).filter((function(e){return!t.includes(e)})).forEach((function(t){e.clipSources(t).forEach((function(e){return Yi.deleteSource(e.id)}))})),this.playingClips=t}},{key:"setGain",value:function(e,t){var n=this;this.gain!==e&&(this.gain=e,this.playing&&this.playingClips.forEach((function(e){return n.adjustClipGain(e,t)})))}},{key:"seconds",get:function(){return Yi.currentTime-this.contextSecondsWhenStarted+this.startedMashAt}},{key:"startContext",value:function(){if(this.bufferSource)return G(A.Internal);if(this.playing)return G(A.Internal);var e=Yi.createBuffer(this.buffer);this.bufferSource=Yi.createBufferSource(e),this.bufferSource.loop=!0,this.bufferSource.connect(Yi.destination),this.bufferSource.start(0)}},{key:"startPlaying",value:function(e,t,n){if(!this.bufferSource)return G(A.Internal);if(this.playing)return G(A.Internal);var r=e.seconds;return this.playing=!0,this.startedMashAt=r,this.contextSecondsWhenStarted=Yi.currentTime,!!this.createSources(t,n,e)||(this.stopPlaying(),!1)}},{key:"stopContext",value:function(){this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(Yi.destination),delete this.bufferSource)}},{key:"stopPlaying",value:function(){this.playing&&(this.playing=!1,this.destroySources(),this.startedMashAt=0,this.contextSecondsWhenStarted=0)}}]),e}(),Xl=function(e){return new Yl(e)},ef=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e,r){var i,a;(0,Z.Z)(this,n),a=t.call(this,e),(0,E.Z)((0,b.Z)(a),"_editor",void 0),(0,E.Z)((0,b.Z)(a),"emitter",void 0),(0,E.Z)((0,b.Z)(a),"imageSize",(0,T.Z)({},Ta)),(0,E.Z)((0,b.Z)(a),"_buffer",vo.mash.buffer),(0,E.Z)((0,b.Z)(a),"_bufferTimer",void 0),(0,E.Z)((0,b.Z)(a),"_composition",void 0),(0,E.Z)((0,b.Z)(a),"drawInterval",void 0),(0,E.Z)((0,b.Z)(a),"drawingTime",void 0),(0,E.Z)((0,b.Z)(a),"drawnTime",void 0),(0,E.Z)((0,b.Z)(a),"_frame",0),(0,E.Z)((0,b.Z)(a),"_gain",vo.mash.gain),(0,E.Z)((0,b.Z)(a),"_loadMashContentPromise",void 0),(0,E.Z)((0,b.Z)(a),"_loadedMashContent",!1),(0,E.Z)((0,b.Z)(a),"loadingPromises",[]),(0,E.Z)((0,b.Z)(a),"loop",!1),(0,E.Z)((0,b.Z)(a),"_media",void 0),(0,E.Z)((0,b.Z)(a),"_paused",!0),(0,E.Z)((0,b.Z)(a),"_playing",!1),(0,E.Z)((0,b.Z)(a),"_preview",void 0),(0,E.Z)((0,b.Z)(a),"quantize",vo.mash.quantize),(0,E.Z)((0,b.Z)(a),"_rendering",""),(0,E.Z)((0,b.Z)(a),"encodings",[]),(0,E.Z)((0,b.Z)(a),"seekTime",void 0),(0,E.Z)((0,b.Z)(a),"selectType",Et.Mash),(0,E.Z)((0,b.Z)(a),"tracks",[]),(0,E.Z)((0,b.Z)(a),"type",We);var o=e.encodings;if(Sa(r))a.imageSize=r;else if(r){var u=r.loop,s=r.gain,c=r.buffer,l=r.size,f=r.mediaCollection,d=r.emitter,h=r.editor;h&&(a.editor=h),d&&(a.emitter=d),l&&(a.imageSize=l),$(f)&&(a._media=f),te(u)&&(a.loop=u),se(s)&&(a.gain=s),ve(c)&&(a._buffer=c)}return ge(o)&&(i=a.encodings).push.apply(i,(0,S.Z)(o.map(Tl))),a.properties.push(Oo({name:"color",defaultValue:Gr,type:Vt.Rgb})),a._preview=new kl({mash:(0,b.Z)(a),time:no()}),a.propertiesInitialize(e),a}return(0,x.Z)(n,[{key:"editor",get:function(){return this._editor},set:function(e){this._editor=e}},{key:"addClipToTrack",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,a=ge(e)?e:[e],o=this.trackClips(a,n);this.emitIfFramesChange((function(){o.forEach((function(e){var n=(0,C.Z)(e,2),a=n[0],o=n[1],u=t.tracks[a];ho(u,"track"),o.forEach((function(e){var t=e.trackNumber;de(t)&&t!==a&&e.track.removeClips([e]),de(i)&&(e.frame=i),e.track=u})),u.assureFrames(t.quantize,o),u.addClips(o,r)}))}))}},{key:"addTrack",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,T.Z)({index:this.tracks.length,mashMedia:this},t),r=yl(n);return this.tracks.push(r),this.tracks.sort(xo),null===(e=this.emitter)||void 0===e||e.emit(an.Track),r}},{key:"assureTrack",value:function(){if(!this.tracks.length){var e=yl({dense:!0,mashMedia:this});e.mash=this,this.tracks.push(e)}}},{key:"buffer",get:function(){return this._buffer},set:function(e){me(e,"buffer"),this._buffer!==e&&(this._buffer=e,this._composition&&(this.composition.buffer=e))}},{key:"bufferStart",value:function(){var e=this;this._bufferTimer||(this._bufferTimer=setInterval((function(){if(!e._paused){e.loadPromise({editing:!0,audible:!0});var t=e.clipsAudibleInTime(e.timeToBuffer);e.composition.bufferClips(t,e.quantize)}}),Math.round(1e3*this.buffer/2)))}},{key:"bufferStop",value:function(){this._bufferTimer&&(clearInterval(this._bufferTimer),delete this._bufferTimer)}},{key:"changeTiming",value:function(e,t,n){this.emitIfFramesChange((function(){e.setValue(n,t)}))}},{key:"clearDrawInterval",value:function(){this.drawInterval&&(clearInterval(this.drawInterval),this.drawInterval=void 0)}},{key:"clearPreview",value:function(){delete this._preview}},{key:"clipIntersects",value:function(e,t){return!e.frames||e.timeRange(this.quantize).intersects(t)}},{key:"clips",get:function(){return this.tracks.map((function(e){return e.clips})).flat()}},{key:"clipsAudibleInTime",value:function(e){var t=this.clips.filter((function(e){return e.mutable&&e.notMuted}));return this.filterIntersecting(t,e)}},{key:"clipsInTime",value:function(e){return this.filterIntersecting(this.clips,e)}},{key:"clipsInTimeOfType",value:function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct.Both){case Ct.Both:return this.clipsInTime(e);case Ct.Audio:return this.clipsAudibleInTime(e);case Ct.Video:return this.clipsVisibleInTime(e)}}},{key:"clipsVisible",get:function(){return this.clips.filter((function(e){return e.container}))}},{key:"clipsVisibleInTime",value:function(e){return this.filterIntersecting(this.clipsVisible,e)}},{key:"compositeVisible",value:function(e){var t;this.drawingTime=e,this.clearPreview(),null===(t=this.emitter)||void 0===t||t.emit(an.Draw)}},{key:"compositeVisibleRequest",value:function(e){var t=this;"function"===typeof requestAnimationFrame&&requestAnimationFrame((function(){t.compositeVisible(e)}))}},{key:"composition",get:function(){if(!this._composition){var e={buffer:this.buffer,gain:this.gain};this._composition=Xl(e)}return this._composition}},{key:"definitionIds",get:function(){var e=this.clips.flatMap((function(e){return e.definitionIds()}));return(0,S.Z)(new Set(e))}},{key:"destroy",value:function(){this.paused=!0,this.clearDrawInterval()}},{key:"draw",value:function(){var e=this.time;this.compositeVisible(e)}},{key:"drawRequest",value:function(){var e=this.time;this.compositeVisibleRequest(e)}},{key:"drawTime",value:function(e){var t,n=e!==this.time;this.drawnTime=e,this.drawRequest(),null===(t=this.emitter)||void 0===t||t.emit(n?an.Time:an.Loaded)}},{key:"duration",get:function(){return this.endTime.seconds}},{key:"emitIfFramesChange",value:function(e){var t=this.frames;e();var n,r=this.frames;t!==r&&(null===(n=this.emitter)||void 0===n||n.emit(an.Duration),this.frame>r&&this.seekToTime(no(r,this.quantize)))}},{key:"endTime",get:function(){return no(this.frames,this.quantize)}},{key:"filterIntersecting",value:function(e,t){var n=this,r=t.scale(this.quantize);return e.filter((function(e){return n.clipIntersects(e,r)}))}},{key:"frame",get:function(){return this.time.scale(this.quantize,"floor").frame}},{key:"frames",get:function(){if(this.tracks.length){var e=this.tracks.map((function(e){return e.frames}));return de(Math.min.apply(Math,(0,S.Z)(e)))?Math.max.apply(Math,[0].concat((0,S.Z)(e))):hn.Unknown}return hn.None}},{key:"gain",get:function(){return this._gain},set:function(e){he(e,"gain"),this._gain!==e&&(this._gain=e,this._composition&&this.composition.setGain(e,this.quantize))}},{key:"graphFileOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.time,n=e.audible,r=e.visible,i=e.editing,a=e.streaming,o=t||this.time,u=o.isRange,s=r||!u,c=u&&n,l={editing:i,streaming:a,audible:c,visible:s,time:o,quantize:this.quantize};return Te(s||c,"audible || visible"),l}},{key:"handleDrawInterval",value:function(){var e,t=this.composition.seconds,n=this.time.withFrame(this.time.frame);if(t>=this.endTime.seconds)this.loop?this.seekToTime(this.time.withFrame(0)):(this.paused=!0,null===(e=this.emitter)||void 0===e||e.emit(an.Ended));else if(t>=n.seconds){var r=ro(t,this.time.fps);this.drawTime(r)}}},{key:"loadMashContentPromise",get:function(){var e=this;if(this._loadedMashContent)return Promise.resolve();var t=this._loadMashContentPromise;if(!t){var n=this.request;return this._loadMashContentPromise=Rc(n,!0).then((function(t){var n;if(Ve(t))return G(t.error);var r=t.data,i=r.media,a=r.tracks,o=r.quantize,u=r.color;ge(i)&&(n=e.media).define.apply(n,(0,S.Z)(i)),ve(o)&&(e.quantize=o),u&&e.setValue(u,"color"),ge(a)&&a.forEach((function(t,n){var r=(0,T.Z)((0,T.Z)({mashMedia:e,dense:!n},t),{},{index:n}),i=yl(r);i.assureFrames(e.quantize),i.sortClips(),e.tracks.push(i)})),e.assureTrack(),e.tracks.sort(xo),e._loadedMashContent=!0,delete e._loadMashContentPromise}))}return t}},{key:"loadPromise",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loadMashContentPromise.then((function(){t.time||(t.time=e.timeToBuffer);var n=e.graphFileOptions(t),r=n.time,i=n.audible,a=n.visible,o=e.quantize;Oe(r);var u=r.scale(e.quantize),s=i&&a?Ct.Both:i?Ct.Audio:Ct.Video,c=e.clipsInTimeOfType(u,s).map((function(e){var t=e.timeRange(o),i=(0,T.Z)((0,T.Z)({},n),{},{clipTime:t,quantize:o,time:r});return e.loadPromise(i)})),l=Promise.all(c).then(Nn),f=l.then((function(){var t=e.loadingPromises.indexOf(l);if(t<0)return G(A.Internal);e.loadingPromises.splice(t,1)}));return e.loadingPromises.push(l),f}))}},{key:"loading",get:function(){return!!this.loadingPromises.length}},{key:"media",get:function(){return this._media||(this._media=new Fi)}},{key:"paused",get:function(){return this._paused},set:function(e){var t,n=this,r=e||!this.frames;this._paused!==r&&(this._paused=r,r?(this.playing=!1,this.bufferStop(),this._bufferTimer&&(clearInterval(this._bufferTimer),delete this._bufferTimer),this.composition.stopContext(),null===(t=this.emitter)||void 0===t||t.emit(an.Pause)):(this.composition.startContext(),this.loadPromise({editing:!0,audible:!0,visible:!0}).then((function(){var e;n.bufferStart(),n.playing=!0,null===(e=n.emitter)||void 0===e||e.emit(an.Play)}))))}},{key:"playing",get:function(){return this._playing},set:function(e){if(this._playing!==e)if(this._playing=e,e){var t,n=this.quantize,r=this.time,i=this.clipsAudibleInTime(this.timeToBuffer);if(!this.composition.startPlaying(r,i,n)){var a=this.clipsAudibleInTime(this.timeToBuffer);if(!this.composition.startPlaying(r,a,n))return void(this._playing=!1)}null===(t=this.emitter)||void 0===t||t.emit(an.Playing),this.setDrawInterval()}else this.composition.stopPlaying(),this.clearDrawInterval()}},{key:"preview",value:function(e){return this._preview||(this._preview=this.previewInitialize(e))}},{key:"previewInitialize",value:function(e){return new pl(this.previewArgs(e))}},{key:"previewArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editor,n=null===t||void 0===t?void 0:t.selection.clip,r=go(n)?n:void 0,i=this.drawingTime,a=this.time,o=this.quantize,u=i||a;return(0,T.Z)({selectedClip:r,time:u.scale(o),mash:this},e)}},{key:"previewItemsPromise",value:function(e){var t={editor:e};return this.preview(t).previewItemsPromise}},{key:"putPromise",value:function(){var e=this.quantize,t=this.clips.flatMap((function(t){var n=t.container;if(Zl(n)&&!n.intrinsicsKnown({editing:!0,size:!0})){var r={editing:!0,visible:!0,quantize:e,time:t.time(e),clipTime:t.timeRange(e)};return n.loadPromise(r)}return[]}));return Promise.all(t).then(Nn)}},{key:"removeClipFromTrack",value:function(e){var t=ge(e)?e:[e];this.emitIfFramesChange((function(){t.forEach((function(e){e.track.removeClips([e])}))}))}},{key:"removeTrack",value:function(e){var t,n=this,r=de(e)?e:this.tracks.length-1;he(r),this.emitIfFramesChange((function(){n.tracks.splice(r,1)})),null===(t=this.emitter)||void 0===t||t.emit(an.Track)}},{key:"restartAfterStop",value:function(e,t,n){if(e.equalsTime(this.time)){var r;if(n)delete this.seekTime,null===(r=this.emitter)||void 0===r||r.emit(an.Seeked);this.drawTime(e),t||(this.playing=!0)}}},{key:"reload",value:function(){return this.stopLoadAndDraw()}},{key:"seekToTime",value:function(e){var t,n;this.seekTime!==e&&(this.seekTime=e,null===(t=this.emitter)||void 0===t||t.emit(an.Seeking),null===(n=this.emitter)||void 0===n||n.emit(an.Time));return this.stopLoadAndDraw(!0)}},{key:"selectables",value:function(){return[this]}},{key:"selectedItems",value:function(e){var t=this;return this.properties.map((function(n){var r=t.value(n.name),i={value:r,selectType:Et.Mash,property:n,changeHandler:function(n,i){we(n);var a={property:n,target:t,redoValue:i,undoValue:r};e.create(a)}};return i}))}},{key:"setDrawInterval",value:function(){var e=this;this.drawInterval||(this.clearDrawInterval(),this.drawInterval=setInterval((function(){e.handleDrawInterval()}),500/this.time.fps))}},{key:"stopLoadAndDraw",value:function(e){var t=this,n=this.time,r=this.paused,i=this.playing;return i&&(this.playing=!1),this.loadPromise({editing:!0,visible:!0,audible:i}).then((function(){t.restartAfterStop(n,r,e)}))}},{key:"time",get:function(){return this.seekTime||this.drawnTime||no(this._frame,this.quantize)}},{key:"timeRange",get:function(){var e=this.endTime,t=this.time,n=e.scale(t.fps);return eo(t,n.frame)}},{key:"timeRanges",value:function(e,t){var n=t||this.time,r=this.quantize,i=n.scale(this.quantize,"floor"),a=i.isRange?i.timeRange.endTime:void 0,o=this.clipsInTimeOfType(n,e),u=o.length;if(!u)return[];if(1===u||!i.isRange||e===Ct.Audio)return[n];var s=new Set;o.forEach((function(e){s.add(Math.max(e.frame,i.frame)),s.add(Math.min(e.frame+e.frames,a.frame))}));var c=(0,S.Z)(s).sort((function(e,t){return e-t})),l=c.shift();return c.map((function(e){var t=Ya(l,r,e-l);return l=e,t}))}},{key:"timeToBuffer",get:function(){var e=this.time,t=this.quantize,n=this.buffer;return this.paused?no(e.scale(t,"floor").frame,t):to(e,ro(n+e.seconds,e.fps))}},{key:"toJSON",value:function(){var e=this.encodings,t=this.tracks,r=this.quantize;this.frame;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{encodings:e,tracks:t,quantize:r})}},{key:"trackClips",value:function(e,t){if(de(t))return[[t,e]];var n=this.tracks.length-e.length;return e.map((function(e){return[n++,[e]]}))}}]),n}(Jc),tf={type:We,id:"",request:{response:{}}},nf=function(e,t){var n=(0,T.Z)({request:{response:{}},type:We},e);return new ef(n,t)},rf=function(e){return ql(e)},af=function(e){return Ti(e)&&e.type===qe},of=function(e){return(null===e||void 0===e?void 0:e.split("/").shift())||""};var uf,sf=function(e){return Ri(e)?function(e){var t,n=e.duration,r=e.videoWidth,i=e.clientWidth,a=e.videoHeight,o=e.clientHeight,u=r||i,s=a||o,c=e,l=c.mozHasAudio;return l||(l=Boolean(c.webkitAudioDecodedByteCount)),l||(l=Boolean(null===(t=c.audioTracks)||void 0===t?void 0:t.length)),l||console.log(Object.values(e)),{width:u,height:s,duration:n,audible:l}}(e):Ni(e)?Da(e):Hi(e)?{}:Vi(e)?{duration:e.duration,audible:!0}:{}},cf=function(e,t){return console.log("filePromises",e,t),e.map((function(e){var t=e.name,n=e.type,r=of(n);if(!ct(r))return console.log("filePromises NOT raw type",r,n,e),W(A.ImportType,{value:r});var i=[],a={endpoint:Tr(URL.createObjectURL(e))},o={request:a,decodings:i,type:r,label:t,file:e,id:Ao()},u=r===Be||r===$e,s=r===qe||r===$e;return Nc(a,r).then((function(e){if(console.log("filePromises",a,r,e),Ve(e))return e;var t=e.data,n=sf(t),c={data:n,type:Al};if(i.push(c),u){var l=n.duration,f=void 0===l?0:l;if(!ve(f))return W(A.ImportDuration,{value:f});n.audible=!0}if(s){var d=Da(n);if(!za(d))return W(A.ImportSize,{value:Ba(d)});o.clientMedia=t}else o.clientMedia=t;return console.log("filePromises",o),{mediaObject:o}}))}))},lf=function(){function e(t){(0,Z.Z)(this,e),(0,E.Z)(this,"actions",void 0),(0,E.Z)(this,"autoplay",vo.editor.autoplay),(0,E.Z)(this,"_buffer",vo.editor.buffer),(0,E.Z)(this,"dragging",!1),(0,E.Z)(this,"drawTimeout",void 0),(0,E.Z)(this,"_editType",void 0),(0,E.Z)(this,"editing",void 0),(0,E.Z)(this,"eventTarget",new qa),(0,E.Z)(this,"_fps",vo.editor.fps),(0,E.Z)(this,"mashMedia",void 0),(0,E.Z)(this,"mashMediaObject",void 0),(0,E.Z)(this,"_loop",vo.editor.loop),(0,E.Z)(this,"media",new Fi),(0,E.Z)(this,"_muted",!1),(0,E.Z)(this,"precision",vo.editor.precision),(0,E.Z)(this,"readOnly",!1),(0,E.Z)(this,"_rect",void 0),(0,E.Z)(this,"_selection",void 0),(0,E.Z)(this,"_volume",vo.editor.volume);var n=t.autoplay,r=t.precision,i=t.loop,a=t.fps,o=t.volume,u=t.buffer,s=t.baseUrl,c=t.editType,l=t.readOnly,f=t.dimensions,d=t.mash,h=Ko(f)?eu(f):Xo,p=Sa(f)?Da(f):Ta;this._rect=(0,T.Z)((0,T.Z)({},h),p),_t(c)&&(this._editType=c),l&&(this.readOnly=!0),this.editing=!this.readOnly,te(n)&&(this.autoplay=n),se(r)&&(this.precision=r),te(i)&&(this._loop=i),se(a)&&(this._fps=a),se(o)&&(this._volume=o),se(u)&&(this._buffer=u),this.actions=new xa(this),or()||ar(s),d&&this.load(d)}return(0,x.Z)(e,[{key:"addClip",value:function(e,t){var n=this,r=t.clip,i=void 0===r?0:r,a=t.track,o=void 0===a?0:a,u=ge(e)?e:[e],s=(0,C.Z)(u,1)[0];return s?this.assureMash(e).then((function(){var e=n.mashMedia;na(e);var t=e.tracks;me(t.length);var r=de(o),a=r?t[o]:void 0,c=(null===a||void 0===a?void 0:a.clips)||[],l=null===a||void 0===a?void 0:a.dense,f=(0,T.Z)((0,T.Z)({},n.selection.object),{},{clip:s}),d=r?0:u.length,h={clips:u,type:St.AddClipToTrack,trackIndex:o,redoSelection:f,createTracks:d};if(l){var p=de(i)?i:c.length;h.insertIndex=p}else if(d)h.redoFrame=de(i)?i:0;else{ho(a);var v=de(i)?i:a.frames;h.redoFrame=a.frameForClipNearFrame(s,v)}return n.actions.create(h),n.loadMashAndDraw()})):Promise.resolve()}},{key:"addEffect",value:function(e,t){var n=this.selection,r=this.actions,i=n.clip,a=n.mash;na(a),yo(i);var o=i.content;Go(o);var u=o.effects,s=de(t)?t:u.length,c=(0,S.Z)(u);c.splice(s,0,e);var l={objects:u,undoObjects:(0,S.Z)(u),redoObjects:c,type:St.Move};r.create(l),a.draw()}},{key:"addFiles",value:function(e,t){var n=this,r=(this.eventTarget,this.rect),i=Promise.resolve([]);return cf(e,r).forEach((function(e){i=i.then((function(t){return zo("activity"),e.then((function(e){var r=e.mediaObject;e.error;return Ei(r)?t.push(r):console.log(n.constructor.name,"addFiles NOT media object",r),t}))}))})),i.then((function(e){return n.addMedia(e,t).then((function(e){if(e.length){var t=nr(e.map((function(e){return e.type})));n.eventTarget.emit(an.Added,{definitionTypes:t})}return e}))}))}},{key:"addMedia",value:function(e,t){var n=this,r=ge(e)?e:[e];if(!r.length)return Promise.resolve([]);var i=r.map((function(e){return Ce(e),n.media.fromObject(e)}));if(!t)return Promise.resolve(i);var a=i.map((function(e){var t=e.id,n=e.type,r={};return e.isVector?r.containerId=t:r.contentId=t,n===Be&&(r.containerId=""),ml(r)}));return this.addClip(a,t).then((function(){return i}))}},{key:"addTrack",value:function(){var e={mash:this.mashMedia};this.actions.create({redoSelection:e,type:St.AddTrack,createTracks:1})}},{key:"assureMash",value:function(e){var t=this.selection.mash;if(!ta(t)){var n={label:(ge(e)?e[0]:e).content.definition.label,media:[],id:Ao()};return this.load(n)}return Promise.resolve()}},{key:"buffer",get:function(){return this._buffer},set:function(e){var t=Number(e);if(this._buffer!==t){this._buffer=t;var n=this.mashMedia;n&&(n.buffer=t)}}},{key:"can",value:function(e){var t=this.selection,n=t.track,r=t.clip,i=t.mash;switch(e){case cn.Save:return this.actions.canSave;case cn.Undo:return this.actions.canUndo;case cn.Redo:return this.actions.canRedo;case cn.Remove:return!(!r&&!n);case cn.Render:return!this.actions.canSave&&!(null===i||void 0===i||!i.id||Ro(i.id))}}},{key:"clearActions",value:function(){this.actions.instances.length&&(this.actions=new xa(this),this.eventTarget.emit(an.Action))}},{key:"clips",get:function(){var e;return(null===(e=this.mashMedia)||void 0===e?void 0:e.clips)||[]}},{key:"create",value:function(){return this.load({id:Ao()})}},{key:"currentTime",get:function(){var e=this.mashMedia;return e&&e.drawnTime?e.drawnTime.seconds:0}},{key:"define",value:function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){var n=e.id;e.type;if(we(n,"define id"),t.media.installed(n))console.warn(t.constructor.name,"define NOT redefining",n);else{var r=Oi(e);t.media.install(r)}}))}},{key:"definitions",get:function(){var e=this,t=this.mashMedia;return t?t.definitionIds.map((function(t){return e.media.fromId(t)})):[]}},{key:"definitionsUnsaved",get:function(){return this.definitions.filter((function(e){var t=e.type,n=e.id;return!!ft(t)&&Ro(n)}))}},{key:"destroy",value:function(){var e=this.mashMedia;e&&(this.paused=!0,e.destroy(),delete this.mashMedia,this.clearActions(),this.selection.clear(),this.media.undefineAll())}},{key:"duration",get:function(){var e;return(null===(e=this.mashMedia)||void 0===e?void 0:e.duration)||0}},{key:"editType",get:function(){return this._editType||(this._editType=$e)}},{key:"endTime",get:function(){var e=this.mashMedia;return e?e.endTime.scale(this.fps,"floor"):no()}},{key:"fps",get:function(){var e;return this._fps||(null===(e=this.mashMedia)||void 0===e?void 0:e.quantize)||vo.editor.fps},set:function(e){var t=Number(e);this._fps!==t&&(this._fps=t,this.eventTarget.emit(an.Fps),this.time=this.time.scale(this.fps))}},{key:"frame",get:function(){return this.time.frame},set:function(e){this.goToTime(no(Number(e),this.fps))}},{key:"frames",get:function(){return this.endTime.frame}},{key:"gain",get:function(){return this.muted?0:this.volume}},{key:"goToTime",value:function(e){var t,n=this.fps,r=this.time.frame,i=(e?e.scaleToFps(n):no(0,n)).frame,a=this.endTime.frame-1,o=a<1?0:Math.min(i,a);if(e&&r===o)return Promise.resolve();var u=null===(t=this.mashMedia)||void 0===t?void 0:t.seekToTime(no(o,n));return u||Promise.resolve()}},{key:"handleAction",value:function(e){var t=this,n=this.mashMedia;Te(n);var r=e.selection,i=r.mash;if(ta(i)&&(i.clearPreview(),e instanceof fa)){var a=e.property,o=e.target;if("gain"===a)go(o)&&i.composition.adjustClipGain(o,i.quantize)}this.selection.object=r,(n.reload()||Promise.resolve()).then((function(){i||t.handleDraw(),t.eventTarget.emit(an.Action,{action:e})}))}},{key:"handleDraw",value:function(e){var t,n=this;!this.drawTimeout&&null!==(t=this.mashMedia)&&void 0!==t&&t.loading&&(this.drawTimeout=setTimeout((function(){n.eventTarget.dispatch(an.Draw),delete n.drawTimeout}),10))}},{key:"load",value:function(e){return this.mashMediaObject=e,this.loadMashMediaObject()}},{key:"loadMashMediaObject",value:function(){var e=this,t=this.rect,n=this.mashMediaObject;J(n,"mashMediaObject");var r=n.kind;return za(t)||r===Be?(delete this.mashMediaObject,this.mashMediaObjectLoadPromise(n).then((function(){return e.goToTime().then((function(){var t=e.mashMedia;ta(t)&&t.clearPreview(),e.autoplay&&(e.paused=!1)}))}))):Promise.resolve()}},{key:"loadMashAndDraw",value:function(){var e=this.mashMedia;na(e);var t={editing:!0,visible:!0};return this.paused||(t.audible=!0),e.loadPromise(t).then((function(){e.draw()}))}},{key:"mashMediaFromObject",value:function(e){var t=this.rect,n=this.buffer,r=this.gain,i=this.loop,a=(0,T.Z)((0,T.Z)({},e),{},{mediaCollection:this.media,editor:this,emitter:this.eventTarget,size:Da(t),buffer:n,gain:r,loop:i});return this.destroy(),this.mashMedia=nf(e,a)}},{key:"mashMediaObjectLoadPromise",value:function(e){var t=this,n=this.mashMediaFromObject(e);return n.loadPromise({editing:!0,visible:!0}).then((function(){t.selection.set(n),t.handleDraw()}))}},{key:"loop",get:function(){return this._loop},set:function(e){var t=!!e;this._loop=t;var n=this.mashMedia;n&&(n.loop=t)}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ce(e,"clip"),go(e))this.moveClip(e,t);else{co(e);var n=t.clip,r=void 0===n?0:n;this.moveEffect(e,r)}}},{key:"moveClip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yo(e);var n=t.clip,r=void 0===n?0:n,i=t.track,a=void 0===i?0:i;he(r);var o=this.mashMedia;na(o);var u=o.tracks,s=e.trackNumber,c={clip:e,trackIndex:a,undoTrackIndex:s,type:St.MoveClip},l=!de(a);l&&(c.createTracks=1);var f=de(s)&&u[s].dense,d=de(a)&&u[a].dense,h=l?-1:u[a].clips.indexOf(e);if(d&&(c.insertIndex=r),f&&(c.undoInsertIndex=h,r<h&&(c.undoInsertIndex+=1)),!d||!f){var p=e.frame,v=(l?0:u[a].frameForClipNearFrame(e,r))-p;if(!v&&a===s)return;c.undoFrame=p,c.redoFrame=p+v}this.actions.create(c)}},{key:"moveEffect",value:function(e,t){var n=this.selection,r=this.actions,i=n.clip,a=n.mash;yo(i),na(a);var o=i.content;Go(o);var u=o.effects,s=u.indexOf(e),c=de(t)?t:u.length,l=s<c?c-1:c,f=u.filter((function(t){return t!==e}));f.splice(l,0,e);var d={type:St.Move,objects:u,undoObjects:(0,S.Z)(u),redoObjects:f};r.create(d),a.draw()}},{key:"moveTrack",value:function(){console.debug(this.constructor.name,"moveTrack coming soon...")}},{key:"muted",get:function(){return this._muted},set:function(e){var t=!!e;if(this._muted!==t){this._muted=t;var n=this.mashMedia;n&&(n.gain=this.gain)}}},{key:"pause",value:function(){this.paused=!0}},{key:"paused",get:function(){var e=this.mashMedia;return!e||e.paused},set:function(e){var t=this.mashMedia;t&&(t.paused=e),e&&this.redraw()}},{key:"play",value:function(){this.paused=!1}},{key:"position",get:function(){var e=0;return this.time.frame&&1!==(e=this.time.seconds/this.duration)&&(e=parseFloat(e.toFixed(this.precision))),e},set:function(e){this.goToTime(ro(this.duration*Number(e),this.fps))}},{key:"positionStep",get:function(){return parseFloat("0.".concat("0".repeat(this.precision-1),"1"))}},{key:"rect",get:function(){return this._rect},set:function(e){var t=this;(Aa(e),uu(this.rect,e))||(this._rect=e,(this.mashMediaObject?this.loadMashMediaObject():Promise.resolve()).then((function(){var n=t.mashMedia,r=t.rect,i=t.eventTarget;n&&(n.imageSize=Da(r),i.emit(an.Resize,{rect:e}),t.redraw())})))}},{key:"redo",value:function(){this.actions.canRedo&&this.handleAction(this.actions.redo())}},{key:"redraw",value:function(){var e=this.mashMedia;e&&(e.clearPreview(),this.eventTarget.dispatch(an.Draw))}},{key:"removeClip",value:function(e){na(this.mashMedia);var t=e.track,n=this.selection,r=(n.clip,{redoSelection:(0,y.Z)(n,M),clip:e,track:t,index:t.clips.indexOf(e),type:St.RemoveClip});this.actions.create(r)}},{key:"removeEffect",value:function(e){var t=this.selection,n=this.actions,r=t.clip,i=t.mash;yo(r),na(i);var a=r.content;Go(a);var o=a.effects,u={type:St.Move,objects:o,undoObjects:(0,S.Z)(o),redoObjects:o.filter((function(t){return t!==e}))};n.create(u),i.draw()}},{key:"removeTrack",value:function(e){console.debug(this.constructor.name,"removeTrack coming soon...")}},{key:"saved",value:function(e){var t=this;if(e){var n=this.mashMedia;Te(n),Object.entries(e).forEach((function(e){var r=(0,C.Z)(e,2),i=r[0],a=r[1];n.id===i?n.id=a:t.media.installed(i)?t.media.updateDefinitionId(i,a):console.warn(t.constructor.name,"saved could not find",i)}))}this.actions.save(),this.eventTarget.emit(an.Action)}},{key:"selection",get:function(){if(this._selection)return this._selection;var e=wo();return e.editor=this,this._selection=e}},{key:"svgElement",get:function(){return Ku()},set:function(e){Qu(e)}},{key:"previewItems",value:function(e){var t=this.mashMedia,n=this.rect,r=t?t.color:void 0,i=Da(n),a=os(i,is(i,"",r)),o=Promise.resolve([a]);if(!t)return o;var u=e&&this.paused?this:void 0;return o.then((function(e){return t.previewItemsPromise(u).then((function(t){return[].concat((0,S.Z)(e),(0,S.Z)(t))}))}))}},{key:"time",get:function(){var e;return(null===(e=this.mashMedia)||void 0===e?void 0:e.time)||no(0,this.fps)},set:function(e){this.goToTime(e)}},{key:"timeRange",get:function(){var e;return(null===(e=this.mashMedia)||void 0===e?void 0:e.timeRange)||Ya(0,this.fps)}},{key:"undo",value:function(){this.actions.canUndo&&this.handleAction(this.actions.undo())}},{key:"unload",value:function(){this.destroy()}},{key:"updateDefinition",value:function(e,t){var n=e.id,r=(e.type,e.id||t.id);we(r);var i=t||this.media.fromId(n),a=i.id,o=a!==r;console.log(this.constructor.name,"updateDefinition",o,e),o&&(this.media.updateDefinitionId(i.id,r),console.log(this.constructor.name,"updateDefinition called updateDefinitionId",i.id,r),Object.assign(i,e),Ti(i)&&(delete i.request.response,oc(i)&&delete i.loadedVideo,jl(i)&&delete i.loadedAudio,af(i)&&delete i.loadedImage));var u=this.mashMedia;return u&&o?(u.tracks.flatMap((function(e){return e.clips})).forEach((function(e){e.containerId===a&&e.setValue(n,"containerId"),e.contentId===a&&e.setValue(n,"contentId")})),this.loadMashAndDraw()):Promise.resolve()}},{key:"volume",get:function(){return this._volume},set:function(e){var t=Number(e);if(this._volume!==t){he(t),this._volume=t,ve(t)&&(this.muted=!1);var n=this.mashMedia;n&&(n.gain=this.gain),this.eventTarget.emit(an.Volume)}}}]),e}(),ff=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,T.Z)({autoplay:vo.editor.autoplay,precision:vo.editor.precision,loop:vo.editor.loop,fps:vo.editor.fps,volume:vo.editor.volume,buffer:vo.editor.buffer},e)},df=function(){return uf=new lf(ff(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))},hf=function(e){return $(e)&&"changeHandler"in e},pf=function(e,t,n){var r=e.filter((function(e){return!!hf(e)&&(e.property.group===t&&e.selectType===n)}));return Object.fromEntries(r.map((function(e){var t=e.name,n=e.property.name;return[t||n,e]})))},vf=function(e){return Object.fromEntries(Object.entries(e).map((function(e){return[e[0],e[1].value]})))},mf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){return(0,Z.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"contentPreviewItemPromise",value:function(e,t,n,r){return console.trace(this.constructor.name,"contentPreviewItemPromise"),Promise.resolve(is(e,"","currentColor"))}},{key:"mutable",value:function(){return!0}}]),n}(zl(al(ac(Vu)))),gf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"type",Be),e}return(0,x.Z)(n,[{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new mf(this.instanceArgs(e))}},{key:"loadPromise",value:function(e){var t=this,n=e.editing;if(!e.audible)return Promise.resolve();if(this.loadedAudio)return Promise.resolve();var r=(n?this.preferredTranscoding(Be):this).request;return Oc(r).then((function(e){if(Ve(e))return G(e.error);var n=e.data;t.loadedAudio=n}))}}]),n}(Hl(Jo(Uc(Jc)))),yf=function(e){return e.id?new gf(e):G(A.MediaId)},bf=function(e){return yf({id:e})},kf=function(e){var t=e.mediaId;return(e.definition||bf(t)).instanceFromObject(e)},wf=function(e){return kf({id:e})};Ii[Be]=yf;var Zf=function(e){return Ho(e)&&"path"in e},xf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"effects",[]),(0,E.Z)((0,b.Z)(e),"hasIntrinsicSizing",!0);var o=i[0];return e.addProperties(o,Oo({tweenable:!0,name:"width",type:Vt.Percent,group:bo.Size,defaultValue:1,max:2})),e.addProperties(o,Oo({tweenable:!0,name:"height",type:Vt.Percent,group:bo.Size,defaultValue:1,max:2})),e}return(0,x.Z)(n,[{key:"audibleCommandFiles",value:function(e){throw new Error("Method not implemented.")}},{key:"audibleCommandFilters",value:function(e){throw new Error("Method not implemented.")}},{key:"contentPreviewItemPromise",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"contentRects",value:function(e){throw new Error("Method not implemented.")}},{key:"contentSvgFilter",value:function(e,t,n,r,i){throw new Error("Method not implemented.")}},{key:"contentSvgItemPromise",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"effectsCommandFiles",value:function(e){throw new Error("Method not implemented.")}},{key:"svgItemForPlayerPromise",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"svgItemForTimelinePromise",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"canColor",value:function(e){return!this.isDefault&&!this.isTweeningColor(e)}},{key:"containerColorCommandFilters",value:function(e){var t=[],n=this.colorFilter,r=this.isDefault,i=e.contentColors,a=e.containerRects,o=e.videoRate,u=e.duration;xe(i,"contentColors");var s=(0,C.Z)(a,2),c=s[0],l=s[1],f=(0,C.Z)(i,2),d=f[0],h=f[1],p=r?c:wu.apply(void 0,(0,S.Z)(a)),v={videoRate:o,duration:u};n.setValue(d||$r,"color"),n.setValue(h,"color".concat(bi)),n.setValue(p.width,"width"),n.setValue(p.height,"height");var m=r;return n.setValue(m?l.width:void 0,"width".concat(bi)),n.setValue(m?l.height:void 0,"height".concat(bi)),t.push.apply(t,(0,S.Z)(n.commandFilters(v))),t}},{key:"containerCommandFilters",value:function(e,t){var r=[],i=e.contentColors,a=e.commandFiles,u=e.filterInput,s=Ze(i);if(this.requiresAlpha(e,!!t.size)){we(u,"container input");e.contentColors;var c=(0,y.Z)(e,F),l=(0,T.Z)((0,T.Z)({},c),{},{filterInput:u});r.push.apply(r,(0,S.Z)(o((0,g.Z)(n.prototype),"containerCommandFilters",this).call(this,l,t)))}else if(this.isDefault||s){var f=this.id;u||(u=Du(a,f,!0)),we(u,"final input"),r.push.apply(r,(0,S.Z)(this.containerFinalCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:u}))))}return r}},{key:"initialCommandFilters",value:function(e,t){var n=[],r=(e.contentColors,(0,y.Z)(e,z)),i=r.commandFiles,a=r.track,o=r.filterInput,u=r.containerRects,s=r.videoRate,c=o,l=this.requiresAlpha(e,!!t.size),f=this.isDefault,d=t.size?wu.apply(void 0,(0,S.Z)(u)):u[0],h=Pa(d),p="content-".concat(a),v="container-".concat(a);if(!t.canColor&&ke(c)&&!f)if(l){var m="format",g=zo(m),b={inputs:[c],ffmpegFilter:m,options:{pix_fmts:"yuv420p"},outputs:[g]};n.push(b),c=g}else if(!Ea(h,d)){var k=(0,T.Z)((0,T.Z)({},e),{},{contentColors:[Yr,Yr],outputSize:h});n.push.apply(n,(0,S.Z)(this.colorBackCommandFilters(k,"".concat(p,"-back"))));var w=Xn(Xn(n).outputs);we(c,"overlay input"),n.push.apply(n,(0,S.Z)(this.overlayCommandFilters(w,c))),c=Xn(Xn(n).outputs)}if(n.length?Xn(n).outputs=[p]:ke(c)&&p!==c&&n.push(this.copyCommandFilter(c,a)),l){var Z=this.id,x=Du(i,Z,!0);we(x,"scale input");var C=(0,T.Z)((0,T.Z)({},e),{},{contentColors:[Yr,Yr],outputSize:d});n.push.apply(n,(0,S.Z)(this.colorBackCommandFilters(C,"".concat(v,"-back"))));var E=Xn(Xn(n).outputs);n.push.apply(n,(0,S.Z)(this.scaleCommandFilters((0,T.Z)((0,T.Z)({},e),{},{filterInput:x})))),we(c=Xn(Xn(n).outputs),"overlay input"),n.push.apply(n,(0,S.Z)(this.overlayCommandFilters(E,c)));var _={duration:0,videoRate:s};we(c=Xn(Xn(n).outputs),"crop input");var P=this.cropFilter;P.setValue(d.width,"width"),P.setValue(d.height,"height"),P.setValue(0,"x"),P.setValue(0,"y"),n.push.apply(n,(0,S.Z)(P.commandFilters((0,T.Z)((0,T.Z)({},_),{},{filterInput:c})))),we(c=Xn(Xn(n).outputs),"format input");var I={inputs:[c],ffmpegFilter:"format",options:{pix_fmts:l?"yuv420p":"yuva420p"},outputs:[v]};n.push(I)}return n}},{key:"intrinsicRect",value:function(){var e=this.definition,t=e.pathHeight,n=e.pathWidth;return(0,T.Z)({width:n,height:t},Xo)}},{key:"intrinsicsKnown",value:function(e){return!0}},{key:"isTweeningColor",value:function(e){var t=e.contentColors;if(!Ze(t))return!1;var n=(0,C.Z)(t,2);return n[0]!==n[1]}},{key:"isTweeningSize",value:function(e){var t=e.containerRects;return!!Ze(t)&&!uu.apply(void 0,(0,S.Z)(t))}},{key:"loadPromise",value:function(e){return Promise.resolve()}},{key:"pathElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.definition,r=this.intrinsicRect(!0);if(!za(r))return is(e,"",t);var i=n.path,a=cs(i,"");return xs(a,r,e),a}},{key:"requiresAlpha",value:function(e,t){var n=e.contentColors,r=Ze(n);return this.isDefault?!r&&(te(t)?t:this.isTweeningSize(e)):!r||this.isTweeningColor(e)}},{key:"visibleCommandFiles",value:function(e){var t=this.isDefault,n=this.id,r=this.requiresAlpha(e),i=this.isTweeningColor(e);if(t&&!r)return[];var a=this.definition,o=a.path,u=e.contentColors,s=void 0===u?[]:u,c=e.containerRects,l=e.time,f=e.videoRate;xe(c,"containerRects");var d=je(l)?l.lengthSeconds:0,h=(0,C.Z)(c,2),p=h[0],v=h[1],m=(0,T.Z)((0,T.Z)({},Xo),wu(p,v)),g=m.width,y=m.height,b=(0,C.Z)(s,1)[0];r?b=$r:i&&(b=Gr);var k="none";t?k=$r:r&&(k=Gr);var w=t?m:this.intrinsicRect(),Z=w.width,x=w.height,S='width="'.concat(Z,'" height="').concat(x,'"'),E=Zs(w,m),_=[];_.push('<svg viewBox="0 0 '.concat(g," ").concat(y,'" xmlns="').concat(Dn,'">')),_.push("<g ".concat(S,' transform="').concat(E,'" >')),_.push("<rect ".concat(S,' fill="').concat(k,'"/>')),t||_.push('<path d="'.concat(o,'" fill="').concat(b,'"/>')),_.push("</g>"),_.push("</svg>");var P=_.join(""),I={};return d&&(I.loop=1,I.framerate=f,I.t=d),[{type:Lt.Svg,file:n,content:P,input:!0,inputId:n,definition:a,options:I}]}}]),n}(Bc(ac(Vu))),Sf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0];e=t.call(this,o),(0,E.Z)((0,b.Z)(e),"isVector",!0),(0,E.Z)((0,b.Z)(e),"path",""),(0,E.Z)((0,b.Z)(e),"pathHeight",0),(0,E.Z)((0,b.Z)(e),"pathWidth",0),(0,E.Z)((0,b.Z)(e),"type",qe);var u=o.path,s=o.pathHeight,c=o.pathWidth;return u&&(e.path=u),ve(c)&&(e.pathWidth=c),ve(s)&&(e.pathHeight=s),e}return(0,x.Z)(n,[{key:"definitionIcon",value:function(e){var t=this.id,n=this.pathHeight,r=this.pathWidth,i=this.path;if(t===Lo)return Promise.resolve(os(e,is(e,"","currentColor")));var a={width:r,height:n};if(za(a)&&ke(i)){var o=Fa(a,e,!0),u=(0,T.Z)((0,T.Z)({},o),hu(e,o)),s=cs(i);return xs(s,a,u),Promise.resolve(os(e,s))}}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new xf(this.instanceArgs(e))}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this);return this.path&&(e.path=this.path),ve(this.pathHeight)&&(e.pathHeight=this.pathHeight),ve(this.pathWidth)&&(e.pathWidth=this.pathWidth),e}}]),n}(Kc(Uc(Jc))),Cf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=2,i=3600,a=!1,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||e;return o>=i&&(e>=i?(n.push(String(Math.floor(e/i)).padStart(r,"0")),a=!0,e%=i):n.push("00:")),i=60,(a||o>=i)&&(a&&n.push(":"),e>=i?(n.push(String(Math.floor(e/i)).padStart(r,"0")),a=!0,e%=i):n.push("00:")),i=1,a||o>=i?(a&&n.push(":"),e>=i?(n.push(String(Math.floor(e/i)).padStart(r,"0")),a=!0,e%=i):n.push("00")):n.push("00"),t>1&&(10===t&&(r=1),n.push("."),e?(e=1===r?Math.round(10*e)/10:Math.round(100*e)/100,e=Number(String(e).slice(2)),n.push(String(e).padEnd(r,"0"))):n.push("0".padStart(r,"0"))),n.join("")},Ef=function(e,t,n){if(!ke(e)||!ve(n))return su;var r=globalThis.document.createElement("canvas").getContext("2d");J(r,"ctx"),r.font="".concat(n,"px ").concat(t);var i=r.measureText(e),a=i.actualBoundingBoxAscent,o=i.actualBoundingBoxDescent,u=i.actualBoundingBoxLeft;return{x:u,y:a,width:u+i.actualBoundingBoxRight,height:a+o}},Tf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return ke(t)?"".concat(e," ").concat(t).concat(1===e?"":n):t},_f=1e3,Pf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0];o.lock||(o.lock=""),e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_colorFilter",void 0),(0,E.Z)((0,b.Z)(e),"hasIntrinsicSizing",!0),(0,E.Z)((0,b.Z)(e),"_intrinsicRect",void 0),(0,E.Z)((0,b.Z)(e),"_textFilter",void 0);var u=o.intrinsic;return au(u)&&(e._intrinsicRect=u),e}return(0,x.Z)(n,[{key:"canColor",value:function(e){return!0}},{key:"canColorTween",value:function(e){return!0}},{key:"colorFilter",get:function(){return this._colorFilter||(this._colorFilter=ic("color"))}},{key:"initialCommandFilters",value:function(e,t){var n,r=this,i=[],a=e.contentColors,o=void 0===a?[]:a,u=e.outputSize,s=e.track,c=e.filterInput,l=e.containerRects,f=e.videoRate,d=e.commandFiles,h=e.duration,p=c;p&&i.push(this.copyCommandFilter(p,s));var v=(0,C.Z)(l,2),m=v[0],g=v[1],y=m.height,b=m.width,k=wu.apply(void 0,(0,S.Z)(l)),w="",Z=!!p||t.size;if(Z){var x=p?Gr:Kr,_=(0,T.Z)((0,T.Z)({},e),{},{contentColors:[x,x],outputSize:k});i.push.apply(i,(0,S.Z)(this.colorBackCommandFilters(_))),w=Xn(Xn(i).outputs)}var P=d.find((function(e){return e.inputId===r.id&&e.type===Lt.Txt}));Te(P,"text file");var I=P.resolved;we(I,"textfile");var O=d.find((function(e){return e.inputId===r.id&&e.type===Ue}));Te(O,"font file");var j=O.resolved;we(j,"fontfile");var M=this.textFilter,F=this.lock,z=this.intrinsicRect(),A=z.x*(m.width/z.width),R=(0,C.Z)(o,2),L=R[0],N=void 0===L?$r:L,D=R[1];we(N);var V=z.x*(g.width/z.width),B=_f/z.height,H=Math.round(y*B),U=Math.round(g.height*B),q=(n={x:A,y:0,width:b,height:H,color:N,textfile:I,fontfile:j,stretch:!Kt(F),intrinsicHeight:z.height,intrinsicWidth:z.width},(0,E.Z)(n,"x".concat(bi),V),(0,E.Z)(n,"y".concat(bi),0),(0,E.Z)(n,"color".concat(bi),D),(0,E.Z)(n,"height".concat(bi),U),(0,E.Z)(n,"width".concat(bi),g.width),n);M.setValues(q);var W={dimensions:u,videoRate:f,duration:h,filterInput:p};if(i.push.apply(i,(0,S.Z)(M.commandFilters(W))),Z){we(p=Xn(Xn(i).outputs),"overlay filterInput"),i.push.apply(i,(0,S.Z)(this.overlayCommandFilters(w,p))),we(p=Xn(Xn(i).outputs),"crop filterInput");var G={duration:0,videoRate:f,filterInput:p},$=this.cropFilter;$.setValue(k.width,"width"),$.setValue(k.height,"height"),$.setValue(0,"x"),$.setValue(0,"y"),i.push.apply(i,(0,S.Z)($.commandFilters(G)))}return i}},{key:"intrinsicRect",value:function(){return this._intrinsicRect||(this._intrinsicRect=this.intrinsicRectInitialize())}},{key:"intrinsicRectInitialize",value:function(){var e=this.definition.family;we(e);var t=this.string,n=(0,T.Z)({width:0,height:1e3},Xo);return t?Ef(t,e,1e3):n}},{key:"intrinsicsKnown",value:function(e){return!(e.size&&!au(this._intrinsicRect)&&!this.definition.family)}},{key:"loadPromise",value:function(e){return this.definition.loadPromise(e)}},{key:"pathElement",value:function(e){var t=this.string,n=this.definition.family,r=Zs(this.intrinsicRect(!0),e);return Ts(t,n,_f,r)}},{key:"setValue",value:function(e,t,r){if(o((0,g.Z)(n.prototype),"setValue",this).call(this,e,t,r),!r&&"string"===t)delete this._intrinsicRect}},{key:"textFilter",get:function(){return this._textFilter||(this._textFilter=ic("text"))}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this);return e.intrinsic=this.intrinsicRect(!0),e}},{key:"visibleCommandFiles",value:function(e){var t=o((0,g.Z)(n.prototype),"visibleCommandFiles",this).call(this,e),r=this.string,i={definition:this.definition,type:Lt.Txt,file:this.id,inputId:this.id,content:r};return t.push(i),t}}]),n}(Bc(ac(Vu))),If=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"_family",""),(0,E.Z)((0,b.Z)(r),"_intrinsicRect",void 0),(0,E.Z)((0,b.Z)(r),"isVector",!0),(0,E.Z)((0,b.Z)(r),"loadedFont",void 0),(0,E.Z)((0,b.Z)(r),"string",""),(0,E.Z)((0,b.Z)(r),"type",Ue);var i=e.string,a=e.label;return r.string=i||a||vo.font.string,r.properties.push(Oo({name:"string",custom:!0,type:Vt.String,defaultValue:r.string})),r.properties.push(Oo({name:"height",tweenable:!0,custom:!0,type:Vt.Percent,defaultValue:.3,max:2,group:bo.Size})),r.properties.push(Oo({name:"width",tweenable:!0,custom:!0,type:Vt.Percent,defaultValue:.8,max:2,group:bo.Size})),r}return(0,x.Z)(n,[{key:"definitionIcon",value:function(e){var t=this;return this.loadFontPromise(this.preferredTranscoding(Ue)).then((function(){var n=t.string,r=t.family;we(r),we(n);var i=t.intrinsicRect,a=Fa(i,e,!0),o=(0,T.Z)((0,T.Z)({},a),hu(e,a)),u=Zs(i,o),s=Ts(t.string,r,1e3,u);return Promise.resolve(os(e,s))}))}},{key:"family",get:function(){if(!this._family){var e=this.loadedFont;if(Hi(e)){var t=e.family;ke(t)&&(this._family=t)}}return this._family},set:function(e){this._family=e}},{key:"graphFiles",value:function(e){if(!e.visible)return[];var t=this.request.endpoint;Sr(t);var n=Cr(t);return[{type:Ue,file:n,definition:this}]}},{key:"instanceArgs",value:function(e){var t=e||{};return Y(t.lock)&&(t.lock=Ut.V),o((0,g.Z)(n.prototype),"instanceArgs",this).call(this,t)}},{key:"instanceFromObject",value:function(e){return new Pf(this.instanceArgs(e))}},{key:"intrinsicRect",get:function(){return this._intrinsicRect||(this._intrinsicRect=this.intrinsicRectInitialize())}},{key:"intrinsicRectInitialize",value:function(){var e=(0,T.Z)({width:0,height:1e3},Xo),t=this.family,n=this.string;if(!ke(t)||!ke(n))return e;var r=Ef(n,t,1e3);return console.log(this.constructor.name,"intrinsicRectInitialize",r),r}},{key:"loadFontPromise",value:function(e){var t=this;if(this.loadedFont)return Promise.resolve(this.loadedFont);var n=e.request;return jc(n).then((function(e){if(Ve(e))return G(e.error);var n=e.data;return t.family=n.family,t.loadedFont=n,n}))}},{key:"loadPromise",value:function(e){if(this.family)return Promise.resolve();var t=(e.editing?this.findTranscoding(Ue,"woff","woff2"):void 0)||this;return this.loadFontPromise(t).then(Nn)}},{key:"toJSON",value:function(){var e=this.string;return(0,T.Z)((0,T.Z)({},o((0,g.Z)(n.prototype),"toJSON",this).call(this)),{},{string:e})}}]),n}(Kc(Uc(Jc))),Of={label:"League Spartan",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=League+Spartan"}}},jf={label:"Butcherman",id:"com.moviemasher.font.butcherman",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Butcherman"}}},Mf={label:"Croissant One",id:"com.moviemasher.font.croissant-one",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Croissant+One"}}},Ff={label:"Germania One",id:"com.moviemasher.font.germania-one",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Germania+One"}}},zf={label:"Kenia",id:"com.moviemasher.font.kenia",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Kenia"}}},Af={label:"Luckiest Guy",id:"com.moviemasher.font.luckiest-guy",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Luckiest+Guy"}}},Rf={label:"Monoton",id:"com.moviemasher.font.monoton",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Monoton"}}},Lf={label:"Oleo Script",id:"com.moviemasher.font.oleo-script",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Oleo+Script"}}},Nf={label:"Shojumaru",id:"com.moviemasher.font.shojumaru",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Shojumaru"}}},Df={label:"Rubik+Dirt",id:"com.moviemasher.font.rubik-dirt",type:"font",request:{endpoint:{protocol:"https:",hostname:"fonts.googleapis.com",pathname:"/css2",search:"?family=Rubik+Dirt"}}},Vf=function(e){var t=ji[Ue].find((function(t){return t.id===e}));if(t)return t},Bf=function(e){var t=e.id,n=void 0===t?wl:t,r=Vf(n);if(r)return r;var i=(0,T.Z)((0,T.Z)({},e),{},{type:Ue,id:n});return new If(i)},Hf=Bf((0,T.Z)({id:wl},Of)),Uf=function(e){return Bf({id:e})};Ii[Ue]=Bf,ji[Ue].push(Hf,Bf(jf),Bf(Mf),Bf(zf),Bf(Ff),Bf(Af),Bf(Rf),Bf(Lf),Bf(Nf),Bf(Df));var qf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){return(0,Z.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"visibleCommandFiles",value:function(e){var t=[],n=e.visible,r=e.time,i=e.videoRate;if(!n)return t;var a=this.graphFiles(e),o=(0,C.Z)(a,1)[0],u=je(r)?r.lengthSeconds:0,s={loop:1,framerate:i};u&&(s.t=u);var c=this.id,l=(0,T.Z)((0,T.Z)({},o),{},{inputId:c,options:s});return t.push(l),t.push.apply(t,(0,S.Z)(this.effectsCommandFiles(e))),t}},{key:"graphFiles",value:function(e){var t=e.visible,n=(e.editing,[]);if(!t)return n;var r=this.definition,i=r.request,a=Cr(i.endpoint);a||console.log(this.constructor.name,"graphFiles",i),we(a);var o={input:!0,type:qe,file:a,definition:r};return n.push(o),n}},{key:"svgItemForTimelinePromise",value:function(e,t,n){var r=this.definition.preferredTranscoding(qe).request;return Mc(r).then((function(t){if(Ve(t))return G(t.error);var n=t.data.src,r=(0,T.Z)({},e);return _s(n,r)}))}}]),n}(Kl(al(Bc(ac(Vu))))),Wf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"loadedImage",void 0),(0,E.Z)((0,b.Z)(e),"type",qe),e}return(0,x.Z)(n,[{key:"definitionIcon",value:function(e){var t=this.preferredTranscoding(qe);return Mc(t.request).then((function(t){if(Ve(t))return G(t.error);var n=t.data;Aa(n);var r=n.width,i=n.height,a=n.src,o=Fa({width:r,height:i},e,!0),u=(0,T.Z)((0,T.Z)({},o),hu(e,o)),s=(0,T.Z)({},u);return _s(a,s).then((function(t){return os(e,t)}))}))}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new qf(this.instanceArgs(e))}},{key:"loadPromise",value:function(e){var t=this,n=e.editing;if(!e.visible)return Promise.resolve();if(this.loadedImage)return Promise.resolve();var r=(n?this.preferredTranscoding(qe):this).request;return Mc(r).then((function(e){if(Ve(e))return G(e.error);var n=e.data;t.loadedImage=n}))}}]),n}(Ql(Jo(Kc(Uc(Jc))))),Gf={label:"Color",type:"image",request:{response:{color:"#FFFFFF"}}},$f={label:"Rectangle",type:"image",request:{response:{}}},Jf=function(e){return we(e.id,"imageDefinition id"),new Wf(e)},Kf=function(e){var t=ji[qe].find((function(t){return t.id===e}));return t||Jf({id:e})},Qf=function(e){var t=e.mediaId;return(e.definition||Kf(t)).instanceFromObject(e)},Yf=function(e){return Qf({id:e})};Ii[qe]=Jf,ji[qe].push(new sl((0,T.Z)({id:qo},Gf)),new Sf((0,T.Z)({id:Lo},$f)));var Xf=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"speed",1),e}return(0,x.Z)(n,[{key:"visibleCommandFiles",value:function(e){var t=o((0,g.Z)(n.prototype),"visibleCommandFiles",this).call(this,e),r=e.streaming;return e.visible&&r?(t.forEach((function(e){var t=e.options,n=void 0===t?{}:t;n.loop=1,n.re="",e.options=n})),t):t}},{key:"graphFiles",value:function(e){var t=e.time,r=e.clipTime,i=e.editing,a=e.visible,u=this.definitionTime(t,r),s=(0,T.Z)((0,T.Z)({},e),{},{time:u}),c=o((0,g.Z)(n.prototype),"graphFiles",this).call(this,s);if(a){var l=this.definition;if(i){var f=l.framesArray(u).map((function(e){return{type:qe,file:"",input:!0,definition:l}}));f.push.apply(f,(0,S.Z)(f))}else{var d={type:$e,file:"",definition:l,input:!0};c.push(d)}}return c}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this);return 1!==this.speed&&(e.speed=this.speed),e}}]),n}(zl(Kl(al(Bc(ac(Vu)))))),ed=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0];e=t.call(this,o),(0,E.Z)((0,b.Z)(e),"begin",vo.definition.videosequence.begin),(0,E.Z)((0,b.Z)(e),"fps",vo.definition.videosequence.fps),(0,E.Z)((0,b.Z)(e),"increment",vo.definition.videosequence.increment),(0,E.Z)((0,b.Z)(e),"padding",void 0),(0,E.Z)((0,b.Z)(e),"pattern","%.jpg"),(0,E.Z)((0,b.Z)(e),"type",Ge);var u=o.padding,s=o.begin,c=o.fps,l=o.increment,f=o.pattern;if(de(s)&&(e.begin=s),c&&(e.fps=c),l&&(e.increment=l),f&&(e.pattern=f),u)e.padding=u;else{var d=e.begin+(e.increment*e.framesMax-e.begin);e.padding=String(d).length}return e}return(0,x.Z)(n,[{key:"framesArray",value:function(e){var t=this.duration,n=this.fps;return e.durationFrames(t,n)}},{key:"framesMax",get:function(){var e=this.fps,t=this.duration;return Math.floor(e*t)-2}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Xf(this.instanceArgs(e))}},{key:"toJSON",value:function(){var e=o((0,g.Z)(n.prototype),"toJSON",this).call(this),t=vo.definition.videosequence,r=this.pattern,i=this.increment,a=this.begin,u=this.fps,s=this.padding;return r!==t.pattern&&(e.pattern=r),i!==t.increment&&(e.increment=i),a!==t.begin&&(e.begin=a),u!==t.fps&&(e.fps=u),s!==t.padding&&(e.padding=s),e}}]),n}(Hl(Ql(Jo(Uc(Jc))))),td=function(e){return we(e.id),new ed(e)},nd=function(e){return td({id:e})},rd=function(e){var t=e.mediaId;return(e.definition||nd(t)).instanceFromObject(e)},id=function(e){return rd({id:e})};Ii[Ge]=td;var ad=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,E.Z)((0,b.Z)(e),"_foreignElement",void 0),(0,E.Z)((0,b.Z)(e),"loadedVideo",void 0),e}return(0,x.Z)(n,[{key:"foreignElement",get:function(){var e=this._foreignElement;if(e)return e;var t=globalThis.document.createElementNS(Dn,"foreignObject");return this._foreignElement=t}},{key:"graphFiles",value:function(e){var t=[],n=e.audible,r=e.visible,i=e.icon,a=this.definition,o=a.request,u=Cr(o.endpoint);if(we(u),r&&!i){var s={input:!0,type:$e,file:u,definition:a};t.push(s)}if(n&&((!a.duration||this.mutable())&&!this.muted)){var c={input:!0,type:Be,definition:a,file:""};t.push(c)}return t}},{key:"loadPromise",value:function(e){console.log(this.constructor.name,"loadPromise",e);var t=[],n=this.definition,r=n.audio,i=e.visible,a=e.audible;if(r&&a&&t.push(n.preloadAudioPromise),i){var o=n.preferredTranscoding(Ge,$e);if(Mr(o)){var u=r&&a&&n.preferredTranscoding(Be,$e);if(o!==u){var s=o.type,c=o.request;console.log(this.constructor.name,"loadPromise visibleTranscoding",o),s===$e?t.push(Ac(c).then((function(e){if(Ve(e))return G(e.error)}))):t.push(this.sequenceImagesPromise(e))}else console.log(this.constructor.name,"loadPromise",o,"===",u)}else console.log(this.constructor.name,"loadPromise NOT isTranscoding",o)}return Promise.all(t).then(Nn)}},{key:"previewVideoPromise",value:function(e){var t=this,n=this.loadedVideo;if(n)return Promise.resolve(n);var r=e.request;return Ac(r).then((function(e){if(Ve(e))return G(e.error);var n=e.data.cloneNode();return t.loadedVideo=n,t.foreignElement.appendChild(n),n}))}},{key:"sequenceImagesPromise",value:function(e){var t=this,n=e.time,r=e.clipTime,i=[];if(n.isRange){Me(n);var a=n.times.map((function(e){return t.definitionTime(e,r)})),o=(0,C.Z)(a,2),u=o[0],s=o[1],c=to(u,s);i.push.apply(i,(0,S.Z)(c.frameTimes))}else i.push(this.definitionTime(n,r));var l=i.map((function(e){return t.definition.loadedImagePromise(e)}));return Promise.all(l).then(Nn)}},{key:"sequenceItemPromise",value:function(e,t){return this.definition.loadedImagePromise(t).then((function(t){var n=t.src,r=Fa(Da(t),Da(e));return _s(n,r)}))}},{key:"serverPromise",value:function(e){console.log(this.constructor.name,"serverPromise",e);var t=this.definition.audio;return e.visible||t?this.definition.serverPromise(e):Promise.resolve()}},{key:"svgItemForPlayerPromise",value:function(e,t,n){var r=this.loadedVideo,i=this.definitionTime(t,n);if(r)return Promise.resolve(this.videoForPlayerPromise(e,i));var a=this.definition.previewTranscoding;switch(a.type){case $e:return this.videoItemForPlayerPromise(a,e,i);case Ge:return this.sequenceItemPromise(e,i)}return G(A.Type)}},{key:"svgItemForTimelinePromise",value:function(e,t,n){var r=this.definitionTime(t,n);return this.sequenceItemPromise(e,r)}},{key:"unload",value:function(){delete this._foreignElement,delete this.loadedVideo}},{key:"videoForPlayerPromise",value:function(e,t){var r=this.loadedVideo;Li(r);var i=n.clientCanMaskVideo;i&&ts(this.foreignElement,e),r.currentTime=t.seconds;var a=e.width,o=e.height;return r.width=a,r.height=o,i?this.foreignElement:r}},{key:"videoItemForPlayerPromise",value:function(e,t,n){var r=this;return console.log(this.constructor.name,"videoItemForPlayerPromise",n,e),this.previewVideoPromise(e).then((function(){return r.videoForPlayerPromise(t,n)}))}}],[{key:"clientCanMaskVideo",get:function(){var e=this._clientCanMaskVideo;if(te(e))return e;var t=globalThis.navigator.userAgent,n=t.includes("Safari")&&!t.includes("Chrome");return this._clientCanMaskVideo=!n}}]),n}(zl(Kl(al(Bc(ac(Vu))))));(0,E.Z)(ad,"_clientCanMaskVideo",void 0);var od=new Map,ud=function(e,t){console.log("videoImagePromise",e.currentTime);var n=Da(e),r=za(t)?Fa(n,t):n,i=r.width,a=r.height,o=sd(r),u=(0,C.Z)(o,2),s=u[0];u[1].drawImage(e,0,0,i,a);var c=new Image;return c.src=s.toDataURL(),c.decode().then((function(){return c}))},sd=function(e){var t=globalThis.document.createElement("canvas"),n=e.width,r=e.height;t.height=r,t.width=n;var i=t.getContext("2d");return Te(i),[t,i]},cd=function(e,t,n){console.log("imageFromVideoPromise",t);var r=new Promise((function(r){if(!function(e,t){var n=t.currentTime;return!n&&!e.frame||!ro(n,e.fps).equalsTime(e)}(t,e))return console.log("imageFromVideoPromise !seekNeeded",t),od.delete(e),ud(e,n);console.log("imageFromVideoPromise seekNeeded",t),e.onseeked=function(){console.log("imageFromVideoPromise onseeked",t),e.onseeked=null,ud(e,n).then((function(n){console.log("imageFromVideoPromise resolving after videoImagePromise",t),od.delete(e),r(n)}))},function(e,t){t.currentTime=e.seconds}(t,e)})),i=od.get(e);return od.set(e,r),i?(console.log("imageFromVideoPromise replacing promise",t),i.then((function(){return r}))):(console.log("imageFromVideoPromise setting promise",t),r)},ld=function(e){(0,k.Z)(n,e);var t=(0,w.Z)(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this,e),(0,E.Z)((0,b.Z)(r),"loadedImages",new Map),(0,E.Z)((0,b.Z)(r),"loadedVideo",void 0),(0,E.Z)((0,b.Z)(r),"pattern","%.jpg"),(0,E.Z)((0,b.Z)(r),"type",$e);var i=e.loadedVideo;return i&&(r.loadedVideo=i),r}return(0,x.Z)(n,[{key:"definitionIcon",value:function(e){var t=this.previewTranscoding,n=no(1);return this.imageFromTranscodingPromise(t,n).then((function(t){Aa(t);var n=t.width,r=t.height,i=t.src,a=Fa({width:n,height:r},e,!0),o=(0,T.Z)((0,T.Z)({},a),hu(e,a)),u=(0,T.Z)({},o);return _s(i,u).then((function(t){return os(e,t)}))}))}},{key:"loadedImage",value:function(e,t){return this.loadedImages.get(this.loadedImageKey(e,t))}},{key:"loadedImageKey",value:function(e,t){var n=e.frame,r=e.fps,i="".concat(n,"@").concat(r);return za(t)?"".concat(i,"-").concat(Ba(t)):i}},{key:"imageFromSequencePromise",value:function(e,t,n){throw new Error}},{key:"imageFromTranscodingPromise",value:function(e,t,n){var r=e.type,i=e.request;switch(r){case qe:return Mc(i).then((function(e){return Ve(e)?G(e.error):e.data}));case $e:return this.imageFromVideoTranscodingPromise(e,t,n);case Ge:return this.imageFromSequencePromise(e,t,n)}return G(A.Internal)}},{key:"imageFromVideoTranscodingPromise",value:function(e,t,n){var r=this;console.log(this.constructor.name,"imageFromVideoTranscodingPromise",t);var i=this.loadedImage(t,n);return i?Promise.resolve(i):Ac(e.request).then((function(e){if(Ve(e))return G(e.error);var i=e.data,a=r.loadedImageKey(t,n);return cd(i,t,n).then((function(e){return r.loadedImages.set(a,e),e}))}))}},{key:"instanceFromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ad(this.instanceArgs(e))}},{key:"loadedImagePromise",value:function(e,t){console.log(this.constructor.name,"loadedImagePromise",e);var n=this.previewTranscoding;return this.imageFromTranscodingPromise(n,e,t)}},{key:"iconTranscoding",get:function(){return this.preferredTranscoding(qe,Ge,$e)}},{key:"previewTranscoding",get:function(){return this.preferredTranscoding(Ge,$e)}}]),n}(Hl(Ql(Jo(Kc(Uc(Jc)))))),fd=function(e){return we(e.id),new ld(e)},dd=function(e){return fd({id:e})},hd=function(e){var t=e.mediaId;return(e.definition||dd(t)).instanceFromObject(e)},pd=function(e){return hd({id:e})};Ii[$e]=fd;var vd=function(e){return Tn(e)&&"type"in e&&Ll(e.type)};function md(e){vd(e)||G(e,"DecodeOutput")}var gd="alpha",yd="audible",bd="duration",kd="size",wd=[gd,yd,bd,kd],Zd=function(e){return $(e)&&"types"in e&&ge(e.types)};function xd(e){Zd(e)||G(e,"ProbeOptions")}var Sd=function(e){return vd(e)&&"options"in e&&Zd(e.options)};function Cd(e){Sd(e)||G(e,"ProbeOutput")}var Ed="en",Td={},_d=function(e){if(e)return Td[e]},Pd=function(e,t,n){var r=_d(t);if(r)return(0,r.requestPromise)(e).then((function(e){return Vc(e,n)}));var i={path:e};return Promise.resolve(i)},Id=function(e,t){var n=_d(t);return n?n.requestPromise(e).then(Vc):{path:e}},Od=function(e,t){var n=_d(t);return n?n.extension:Pc(e)},jd=function(e){return Tn(e)&&"type"in e&&it(e.type)}},1617:function(e,t,n){"use strict";n.r(t),n.d(t,{ProtocolSupabase:function(){return At},SupabaseProtocol:function(){return zt}});var r=n(4165),i=n(5861),a=n(5671),o=n(3144),u=n(4942),s=n(2994),c=n(827),l=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},f=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return l(void 0,void 0,void 0,(0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(n,4255,23));case 2:return e.next=4,(i=e.sent).fetch.apply(i,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},d=n(7326),h=n(136),p=n(7277),v=n(8415);function m(e,t,n,r){return m="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,a=(0,v.Z)(e,t);if(a){if((i=Object.getOwnPropertyDescriptor(a,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else(0,u.Z)(r,t,n);return!0},m(e,t,n,r)}var g,y,b,k,w,Z=n(1120),x=n(8737),S=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",u=arguments.length>2?arguments[2]:void 0;return(0,a.Z)(this,n),i=t.call(this,e),function(e,t,n,r,i){if(!m(e,t,n,r||e)&&i)throw new TypeError("failed to set property")}((r=(0,d.Z)(i),(0,Z.Z)(n.prototype)),"name",o,r,!0),i.context=u,i}return(0,o.Z)(n)}((0,x.Z)(Error)),C=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,"Failed to send a request to the Edge Function","FunctionsFetchError",e)}return(0,o.Z)(n)}(S),E=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,"Relay Error invoking the Edge Function","FunctionsRelayError",e)}return(0,o.Z)(n)}(S),T=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,"Edge Function returned a non-2xx status code","FunctionsHttpError",e)}return(0,o.Z)(n)}(S),_=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,i=void 0===r?{}:r,o=n.customFetch;(0,a.Z)(this,e),this.url=t,this.headers=i,this.fetch=f(o)}return(0,o.Z)(e,[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c,l,f,d;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=n.headers,o=n.body,u={},o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",s=o):"string"===typeof o?(u["Content-Type"]="text/plain",s=o):"undefined"!==typeof FormData&&o instanceof FormData?s=o:(u["Content-Type"]="application/json",s=JSON.stringify(o))),r.next=6,this.fetch("".concat(this.url,"/").concat(e),{method:"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:s}).catch((function(e){throw new C(e)}));case 6:if(c=r.sent,!(l=c.headers.get("x-relay-error"))||"true"!==l){r.next=10;break}throw new E(c);case 10:if(c.ok){r.next=12;break}throw new T(c);case 12:if("application/json"!==(f=(null!==(t=c.headers.get("Content-Type"))&&void 0!==t?t:"text/plain").split(";")[0].trim())){r.next=19;break}return r.next=16,c.json();case 16:d=r.sent,r.next=34;break;case 19:if("application/octet-stream"!==f){r.next=25;break}return r.next=22,c.blob();case 22:d=r.sent,r.next=34;break;case 25:if("multipart/form-data"!==f){r.next=31;break}return r.next=28,c.formData();case 28:d=r.sent,r.next=34;break;case 31:return r.next=33,c.text();case 33:d=r.sent;case 34:return r.abrupt("return",{data:d,error:null});case 37:return r.prev=37,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 40:case"end":return r.stop()}}),i,this,[[0,37]])})))}}]),e}(),I=n(885),O=n(2982),j=n(4255),M=n.n(j),F=function(){function e(t){(0,a.Z)(this,e),this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:"undefined"===typeof fetch?this.fetch=M():this.fetch=fetch}return(0,o.Z)(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var a=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,a,o,u,s,c,l,f,d,h,p,v,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=null,s=null,c=null,l=t.status,f=t.statusText,!t.ok){e.next=16;break}if("HEAD"===n.method){e.next=11;break}return e.next=9,t.text();case 9:""===(d=e.sent)||(s="text/csv"===n.headers.Accept||n.headers.Accept&&n.headers.Accept.includes("application/vnd.pgrst.plan+text")?d:JSON.parse(d));case 11:h=null===(i=n.headers.Prefer)||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),p=null===(a=t.headers.get("content-range"))||void 0===a?void 0:a.split("/"),h&&p&&p.length>1&&(c=parseInt(p[1])),e.next=23;break;case 16:return e.next=18,t.text();case 18:v=e.sent;try{u=JSON.parse(v),Array.isArray(u)&&404===t.status&&(s=[],u=null,l=200,f="OK")}catch(r){404===t.status&&""===v?(l=204,f="No Content"):u={message:v}}if(u&&n.allowEmpty&&(null===(o=null===u||void 0===u?void 0:u.details)||void 0===o?void 0:o.includes("Results contain 0 rows"))&&(u=null,l=200,f="OK"),!u||!n.shouldThrowOnError){e.next=23;break}throw u;case 23:return m={error:u,data:s,count:c,status:l,statusText:f},e.abrupt("return",m);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return this.shouldThrowOnError||(a=a.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:null,count:null,status:0,statusText:""}}))),a.then(e,t)}}]),e}(),z=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"select",value:function(e){var t=!1,n=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ascending,r=void 0===n||n,i=t.nullsFirst,a=t.foreignTable,o=a?"".concat(a,".order"):"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(u?"".concat(u,","):"").concat(e,".").concat(r?"asc":"desc").concat(void 0===i?"":i?".nullsfirst":".nullslast")),this}},{key:"limit",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).foreignTable,n="undefined"===typeof t?"limit":"".concat(t,".limit");return this.url.searchParams.set(n,"".concat(e)),this}},{key:"range",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).foreignTable,r="undefined"===typeof n?"offset":"".concat(n,".offset"),i="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}},{key:"geojson",value:function(){return this.headers.Accept="application/geo+json",this}},{key:"explain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.analyze,n=void 0!==t&&t,r=e.verbose,i=void 0!==r&&r,a=e.settings,o=void 0!==a&&a,u=e.buffers,s=void 0!==u&&u,c=e.wal,l=void 0!==c&&c,f=e.format,d=void 0===f?"text":f,h=[n?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=this.headers.Accept;return this.headers.Accept="application/vnd.pgrst.plan+".concat(d,'; for="').concat(p,'"; options=').concat(h,";"),this}},{key:"rollback",value:function(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}},{key:"returns",value:function(){return this}}]),n}(F),A=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"eq",value:function(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}},{key:"in",value:function(e,t){var n=t.map((function(e){return"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}},{key:"contains",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,i=n.type,a="";"plain"===i?a="pl":"phrase"===i?a="ph":"websearch"===i&&(a="w");var o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(o,".").concat(t)),this}},{key:"match",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=(0,I.Z)(e,2),r=n[0],i=n[1];t.url.searchParams.append(r,"eq.".concat(i))})),this}},{key:"not",value:function(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}},{key:"or",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).foreignTable,n=t?"".concat(t,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}},{key:"filter",value:function(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}]),n}(z),R=function(){function e(t,n){var r=n.headers,i=void 0===r?{}:r,o=n.schema,u=n.fetch;(0,a.Z)(this,e),this.url=t,this.headers=i,this.schema=o,this.fetch=u}return(0,o.Z)(e,[{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.head,r=void 0!==n&&n,i=t.count,a=r?"HEAD":"GET",o=!1,u=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)})).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer="count=".concat(i)),new A({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},{key:"insert",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count,n=[],r=e;if(t&&n.push("count=".concat(t)),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),Array.isArray(e)){var i=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(i.length>0){var a=(0,O.Z)(new Set(i)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",a.join(","))}}return new A({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onConflict,r=t.ignoreDuplicates,i=void 0!==r&&r,a=t.count,o=["resolution=".concat(i?"ignore":"merge","-duplicates")];void 0!==n&&this.url.searchParams.set("on_conflict",n);var u=e;return a&&o.push("count=".concat(a)),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new A({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}},{key:"update",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count,n=[],r=e;return t&&n.push("count=".concat(t)),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new A({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}},{key:"delete",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).count,t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new A({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}]),e}(),L={"X-Client-Info":"postgrest-js/".concat("1.4.1")},N=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,i=void 0===r?{}:r,o=n.schema,u=n.fetch;(0,a.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},L),i),this.schema=o,this.fetch=u}return(0,o.Z)(e,[{key:"from",value:function(e){var t=new URL("".concat(this.url,"/").concat(e));return new R(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}},{key:"rpc",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.head,o=void 0!==a&&a,u=i.count,s=new URL("".concat(this.url,"/rpc/").concat(e));o?(t="HEAD",Object.entries(r).forEach((function(e){var t=(0,I.Z)(e,2),n=t[0],r=t[1];s.searchParams.append(n,"".concat(r))}))):(t="POST",n=r);var c=Object.assign({},this.headers);return u&&(c.Prefer="count=".concat(u)),new A({method:t,url:s,headers:c,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}}]),e}(),D=n(5087),V={"X-Client-Info":"realtime-js/".concat("2.6.0")},B=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(g||(g={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(y||(y={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(b||(b={})),function(e){e.websocket="websocket"}(k||(k={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(w||(w={}));var H,U=function(){function e(t,n){(0,a.Z)(this,e),this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}return(0,o.Z)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),q=function(){function e(){(0,a.Z)(this,e),this.HEADER_LENGTH=1}return(0,o.Z)(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}},{key:"_decodeBroadcast",value:function(e,t,n){var r=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=n.decode(e.slice(a,a+r));a+=r;var u=n.decode(e.slice(a,a+i));return a+=i,{ref:null,topic:o,event:u,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}]),e}(),W=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B;(0,a.Z)(this,e),this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}return(0,o.Z)(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel._off(this.refEvent,{})}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,n=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}();!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(H||(H={}));var G,$=function(){function e(t,n){var r=this;(0,a.Z)(this,e),this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}};var i=(null===n||void 0===n?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},(function(t){var n=r.caller,i=n.onJoin,a=n.onLeave,o=n.onSync;r.joinRef=r.channel._joinRef(),r.state=e.syncState(r.state,t,i,a),r.pendingDiffs.forEach((function(t){r.state=e.syncDiff(r.state,t,i,a)})),r.pendingDiffs=[],o()})),this.channel._on(i.diff,{},(function(t){var n=r.caller,i=n.onJoin,a=n.onLeave,o=n.onSync;r.inPendingSyncState()?r.pendingDiffs.push(t):(r.state=e.syncDiff(r.state,t,i,a),o())})),this.onJoin((function(e,t,n){r.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave((function(e,t,n){r.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((function(){r.channel._trigger("presence",{event:"sync"})}))}return(0,o.Z)(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}],[{key:"syncState",value:function(e,t,n,r){var i=this.cloneDeep(e),a=this.transformState(t),o={},u={};return this.map(i,(function(e,t){a[e]||(u[e]=t)})),this.map(a,(function(e,t){var n=i[e];if(n){var r=t.map((function(e){return e.presence_ref})),a=n.map((function(e){return e.presence_ref})),s=t.filter((function(e){return a.indexOf(e.presence_ref)<0})),c=n.filter((function(e){return r.indexOf(e.presence_ref)<0}));s.length>0&&(o[e]=s),c.length>0&&(u[e]=c)}else o[e]=t})),this.syncDiff(i,{joins:o,leaves:u},n,r)}},{key:"syncDiff",value:function(e,t,n,r){var i=this,a={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)},o=a.joins,u=a.leaves;return n||(n=function(){}),r||(r=function(){}),this.map(o,(function(t,r){var a,o=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=i.cloneDeep(r),o.length>0){var u,s=e[t].map((function(e){return e.presence_ref})),c=o.filter((function(e){return s.indexOf(e.presence_ref)<0}));(u=e[t]).unshift.apply(u,(0,O.Z)(c))}n(t,o,r)})),this.map(u,(function(t,n){var i=e[t];if(i){var a=n.map((function(e){return e.presence_ref}));i=i.filter((function(e){return a.indexOf(e.presence_ref)<0})),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}})),e}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))}},{key:"transformState",value:function(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((function(t,n){var r=e[n];return t[n]="metas"in r?r.metas.map((function(e){return e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e})):r,t}),{})}},{key:"cloneDeep",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(G||(G={}));var J,K,Q,Y=function(e,t){var n,r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((function(n,i){return n[i]=X(i,e,t,r),n}),{})},X=function(e,t,n,r){var i=t.find((function(t){return t.name===e})),a=null===i||void 0===i?void 0:i.type,o=n[e];return a&&!r.includes(a)?ee(a,o):te(o)},ee=function(e,t){if("_"===e.charAt(0)){var n=e.slice(1,e.length);return ae(t,n)}switch(e){case G.bool:return ne(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return re(t);case G.json:case G.jsonb:return ie(t);case G.timestamp:return oe(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:default:return te(t)}},te=function(e){return e},ne=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},re=function(e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ie=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},ae=function(e,t){if("string"!==typeof e)return e;var n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){var i,a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch(o){i=a?a.split(","):[]}return i.map((function(e){return ee(t,e)}))}return e},oe=function(e){return"string"===typeof e?e.replace(" ","T"):e},ue=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))};!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(J||(J={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(K||(K={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Q||(Q={}));var se=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},i=arguments.length>2?arguments[2]:void 0;(0,a.Z)(this,e),this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=y.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new W(this,b.join,this.params,this.timeout),this.rejoinTimer=new U((function(){return n._rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){n.state=y.joined,n.rejoinTimer.reset(),n.pushBuffer.forEach((function(e){return e.send()})),n.pushBuffer=[]})),this._onClose((function(){n.rejoinTimer.reset(),n.socket.log("channel","close ".concat(n.topic," ").concat(n._joinRef())),n.state=y.closed,n.socket._remove(n)})),this._onError((function(e){n._isLeaving()||n._isClosed()||(n.socket.log("channel","error ".concat(n.topic),e),n.state=y.errored,n.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){n._isJoining()&&(n.socket.log("channel","timeout ".concat(n.topic),n.joinPush.timeout),n.state=y.errored,n.rejoinTimer.scheduleTimeout())})),this._on(b.reply,{},(function(e,t){n._trigger(n._replyEventName(t),e)})),this.presence=new $(this)}return(0,o.Z)(e,[{key:"subscribe",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";var a=this.params.config,o=a.broadcast,u=a.presence;this._onError((function(t){return e&&e("CHANNEL_ERROR",t)})),this._onClose((function(){return e&&e("CLOSED")}));var s={},c={broadcast:o,presence:u,postgres_changes:null!==(n=null===(t=this.bindings.postgres_changes)||void 0===t?void 0:t.map((function(e){return e.filter})))&&void 0!==n?n:[]};return this.socket.accessToken&&(s.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},s)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",(function(t){var n,i=t.postgres_changes;if(r.socket.accessToken&&r.socket.setAuth(r.socket.accessToken),void 0!==i){for(var a=r.bindings.postgres_changes,o=null!==(n=null===a||void 0===a?void 0:a.length)&&void 0!==n?n:0,u=[],s=0;s<o;s++){var c=a[s],l=c.filter,f=l.event,d=l.schema,h=l.table,p=l.filter,v=i&&i[s];if(!v||v.event!==f||v.schema!==d||v.table!==h||v.filter!==p)return r.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));u.push(Object.assign(Object.assign({},c),{id:v.id}))}return r.bindings.postgres_changes=u,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(function(t){e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(function(){e&&e("TIMED_OUT")})),this}},{key:"presenceState",value:function(){return this.presence.state}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ue(this,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"untrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ue(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({type:"presence",event:"untrack"},e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"on",value:function(e,t,n){return this._on(e,t,n)}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var i,a,o,u=t._push(e.type,e,n.timeout||t.timeout);u.rateLimited&&r("rate limited"),"broadcast"!==e.type||(null===(o=null===(a=null===(i=t.params)||void 0===i?void 0:i.config)||void 0===a?void 0:a.broadcast)||void 0===o?void 0:o.ack)||r("ok"),u.receive("ok",(function(){return r("ok")})),u.receive("timeout",(function(){return r("timed out")}))}))}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=y.leaving;var n=function(){e.socket.log("channel","leave ".concat(e.topic)),e._trigger(b.close,"leave",e._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((function(r){var i=new W(e,b.leave,{},t);i.receive("ok",(function(){n(),r("ok")})).receive("timeout",(function(){n(),r("timed out")})).receive("error",(function(){r("error")})),i.send(),e._canPush()||i.trigger("ok",{})}))}},{key:"_push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var r=new W(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"_onMessage",value:function(e,t,n){return t}},{key:"_isMember",value:function(e){return this.topic===e}},{key:"_joinRef",value:function(){return this.joinPush.ref}},{key:"_trigger",value:function(e,t,n){var r,i,a=this,o=e.toLocaleLowerCase(),u=b.close,s=b.error,c=b.leave,l=b.join;if(!(n&&[u,s,c,l].indexOf(o)>=0&&n!==this._joinRef())){var f=this._onMessage(o,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((function(e){var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((function(e){return e.callback(f,n)})):null===(i=this.bindings[o])||void 0===i||i.filter((function(e){var n,r,i,a,u,s;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){var c=e.id,l=null===(n=e.filter)||void 0===n?void 0:n.event;return c&&(null===(r=t.ids)||void 0===r?void 0:r.includes(c))&&("*"===l||(null===l||void 0===l?void 0:l.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}var f=null===(u=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===u?void 0:u.toLocaleLowerCase();return"*"===f||f===(null===(s=null===t||void 0===t?void 0:t.event)||void 0===s?void 0:s.toLocaleLowerCase())}return e.type.toLocaleLowerCase()===o})).map((function(e){if("object"===typeof f&&"ids"in f){var t=f.data,r={schema:t.schema,table:t.table,commit_timestamp:t.commit_timestamp,eventType:t.type,new:{},old:{},errors:t.errors};f=Object.assign(Object.assign({},r),a._getPayloadRecords(t))}e.callback(f,n)}))}}},{key:"_isClosed",value:function(){return this.state===y.closed}},{key:"_isJoined",value:function(){return this.state===y.joined}},{key:"_isJoining",value:function(){return this.state===y.joining}},{key:"_isLeaving",value:function(){return this.state===y.leaving}},{key:"_replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"_on",value:function(e,t,n){var r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}},{key:"_off",value:function(t,n){var r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((function(t){var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===r&&e.isEqual(t.filter,n))})),this}},{key:"_rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}},{key:"_onClose",value:function(e){this._on(b.close,{},e)}},{key:"_onError",value:function(e){this._on(b.error,{},(function(t){return e(t)}))}},{key:"_canPush",value:function(){return this.socket.isConnected()&&this._isJoined()}},{key:"_rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=y.joining,this.joinPush.resend(e))}},{key:"_getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Y(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Y(e.columns,e.old_record)),t}}],[{key:"isEqual",value:function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}}]),e}(),ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},le=function(){},fe=function(){function e(t,n){var i,o=this;(0,a.Z)(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=V,this.params={},this.timeout=B,this.transport=D.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=le,this.conn=null,this.sendBuffer=[],this.serializer=new q,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint="".concat(t,"/").concat(k.websocket),(null===n||void 0===n?void 0:n.params)&&(this.params=n.params),(null===n||void 0===n?void 0:n.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),(null===n||void 0===n?void 0:n.timeout)&&(this.timeout=n.timeout),(null===n||void 0===n?void 0:n.logger)&&(this.logger=n.logger),(null===n||void 0===n?void 0:n.transport)&&(this.transport=n.transport),(null===n||void 0===n?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);var u=null===(i=null===n||void 0===n?void 0:n.params)||void 0===i?void 0:i.eventsPerSecond;u&&(this.eventsPerSecondLimitMs=Math.floor(1e3/u)),this.reconnectAfterMs=(null===n||void 0===n?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null===n||void 0===n?void 0:n.encode)?n.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null===n||void 0===n?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U((function(){return ce(o,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disconnect(),this.connect();case 2:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return(0,o.Z)(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e._onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}},{key:"getChannels",value:function(){return this.channels}},{key:"removeChannel",value:function(e){var t=this;return e.unsubscribe().then((function(e){return 0===t.channels.length&&t.disconnect(),e}))}},{key:"removeAllChannels",value:function(){var e=this;return Promise.all(this.channels.map((function(e){return e.unsubscribe()}))).then((function(t){return e.disconnect(),t}))}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case g.connecting:return w.Connecting;case g.open:return w.Open;case g.closing:return w.Closing;default:return w.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===w.Open}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};this.isConnected()||this.connect();var n=new se("realtime:".concat(e),t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this,n=e.topic,r=e.event,i=e.payload,a=e.ref,o=function(){t.encode(e,(function(e){var n;null===(n=t.conn)||void 0===n||n.send(e)}))};if(this.log("push","".concat(n," ").concat(r," (").concat(a,")"),i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}},{key:"setAuth",value:function(e){this.accessToken=e,this.channels.forEach((function(t){e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(b.access_token,{access_token:e})}))}},{key:"_makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"_leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t._isJoined()||t._isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_remove",value:function(e){this.channels=this.channels.filter((function(t){return t._joinRef()!==e._joinRef()}))}},{key:"_endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"_onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,r=e.event,i=e.payload,a=e.ref;(a&&a===t.pendingHeartbeatRef||r===(null===i||void 0===i?void 0:i.type))&&(t.pendingHeartbeatRef=null),t.log("receive","".concat(i.status||""," ").concat(n," ").concat(r," ").concat(a&&"("+a+")"||""),i),t.channels.filter((function(e){return e._isMember(n)})).forEach((function(e){return e._trigger(r,i,a)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"_onConnOpen",value:function(){var e=this;this.log("transport","connected to ".concat(this._endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e._trigger(b.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}},{key:"_throttle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.eventsPerSecondLimitMs;return function(){return!!t.inThrottle||(e(),n>0&&(t.inThrottle=!0,setTimeout((function(){t.inThrottle=!1}),n)),!1)}}}]),e}(),de=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).__isStorageError=!0,r.name="StorageError",r}return(0,o.Z)(n)}((0,x.Z)(Error));function he(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var pe=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).name="StorageApiError",i.status=r,i}return(0,o.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(de),ve=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).name="StorageUnknownError",i.originalError=r,i}return(0,o.Z)(n)}(de),me=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},ge=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return me(void 0,void 0,void 0,(0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(n,4255,23));case 2:return e.next=4,(i=e.sent).fetch.apply(i,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},be=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},ke=function(e,t){return ye(void 0,void 0,void 0,(0,r.Z)().mark((function i(){var a;return(0,r.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,me(void 0,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Response){e.next=4;break}return e.next=3,Promise.resolve().then(n.t.bind(n,4255,23));case 3:return e.abrupt("return",e.sent.Response);case 4:return e.abrupt("return",Response);case 5:case"end":return e.stop()}}),e)})));case 2:a=i.sent,e instanceof a?e.json().then((function(n){t(new pe(be(n),e.status||500))})):t(new ve(be(e),e));case 4:case"end":return i.stop()}}),i)})))},we=function(e,t,n,r){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function Ze(e,t,n,i,a,o){return ye(this,void 0,void 0,(0,r.Z)().mark((function u(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,u){e(n,we(t,i,a,o)).then((function(e){if(!e.ok)throw e;return(null===i||void 0===i?void 0:i.noResolveJson)?e:e.json()})).then((function(e){return r(e)})).catch((function(e){return ke(e,u)}))})));case 1:case"end":return r.stop()}}),u)})))}function xe(e,t,n,i){return ye(this,void 0,void 0,(0,r.Z)().mark((function a(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ze(e,"GET",t,n,i));case 1:case"end":return r.stop()}}),a)})))}function Se(e,t,n,i,a){return ye(this,void 0,void 0,(0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ze(e,"POST",t,i,a,n));case 1:case"end":return r.stop()}}),o)})))}function Ce(e,t,n,i,a){return ye(this,void 0,void 0,(0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ze(e,"PUT",t,i,a,n));case 1:case"end":return r.stop()}}),o)})))}function Ee(e,t,n,i,a){return ye(this,void 0,void 0,(0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Ze(e,"DELETE",t,i,a,n));case 1:case"end":return r.stop()}}),o)})))}var Te=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,a.Z)(this,e),this.url=t,this.headers=n,this.bucketId=r,this.fetch=ge(i)}return(0,o.Z)(e,[{key:"uploadOrUpdate",value:function(e,t,n,i){return Te(this,void 0,void 0,(0,r.Z)().mark((function a(){var o,u,s,c,l,f,d;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u=Object.assign(Object.assign({},Pe),i),s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(u.upsert)}),"undefined"!==typeof Blob&&n instanceof Blob?((o=new FormData).append("cacheControl",u.cacheControl),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n).append("cacheControl",u.cacheControl):(o=n,s["cache-control"]="max-age=".concat(u.cacheControl),s["content-type"]=u.contentType),c=this._removeEmptyFolders(t),l=this._getFinalPath(c),r.next=8,this.fetch("".concat(this.url,"/object/").concat(l),{method:e,body:o,headers:s});case 8:if(!(f=r.sent).ok){r.next=13;break}return r.abrupt("return",{data:{path:c},error:null});case 13:return r.next=15,f.json();case 15:return d=r.sent,r.abrupt("return",{data:null,error:d});case 17:r.next=24;break;case 19:if(r.prev=19,r.t0=r.catch(0),!he(r.t0)){r.next=23;break}return r.abrupt("return",{data:null,error:r.t0});case 23:throw r.t0;case 24:case"end":return r.stop()}}),a,this,[[0,19]])})))}},{key:"upload",value:function(e,t,n){return Te(this,void 0,void 0,(0,r.Z)().mark((function i(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("POST",e,t,n));case 1:case"end":return r.stop()}}),i,this)})))}},{key:"update",value:function(e,t,n){return Te(this,void 0,void 0,(0,r.Z)().mark((function i(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("PUT",e,t,n));case 1:case"end":return r.stop()}}),i,this)})))}},{key:"move",value:function(e,t){return Te(this,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Se(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:i,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!he(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"copy",value:function(e,t){return Te(this,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Se(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:{path:i.Key},error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!he(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t,n){return Te(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=this._getFinalPath(e),r.next=4,Se(this.fetch,"".concat(this.url,"/object/sign/").concat(a),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});case 4:return o=r.sent,u=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"",s=encodeURI("".concat(this.url).concat(o.signedURL).concat(u)),o={signedUrl:s},r.abrupt("return",{data:o,error:null});case 11:if(r.prev=11,r.t0=r.catch(0),!he(r.t0)){r.next=15;break}return r.abrupt("return",{data:null,error:r.t0});case 15:throw r.t0;case 16:case"end":return r.stop()}}),i,this,[[0,11]])})))}},{key:"createSignedUrls",value:function(e,t,n){return Te(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u=this;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Se(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers});case 3:return a=r.sent,o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"",r.abrupt("return",{data:a.map((function(e){return Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(u.url).concat(e.signedURL).concat(o)):null})})),error:null});case 8:if(r.prev=8,r.t0=r.catch(0),!he(r.t0)){r.next=12;break}return r.abrupt("return",{data:null,error:r.t0});case 12:throw r.t0;case 13:case"end":return r.stop()}}),i,this,[[0,8]])})))}},{key:"download",value:function(e,t){return Te(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o,u,s,c,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform),a=i?"render/image/authenticated":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),u=o?"?".concat(o):"",n.prev=4,s=this._getFinalPath(e),n.next=8,xe(this.fetch,"".concat(this.url,"/").concat(a,"/").concat(s).concat(u),{headers:this.headers,noResolveJson:!0});case 8:return c=n.sent,n.next=11,c.blob();case 11:return l=n.sent,n.abrupt("return",{data:l,error:null});case 15:if(n.prev=15,n.t0=n.catch(4),!he(n.t0)){n.next=19;break}return n.abrupt("return",{data:null,error:n.t0});case 19:throw n.t0;case 20:case"end":return n.stop()}}),n,this,[[4,15]])})))}},{key:"getPublicUrl",value:function(e,t){var n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&r.push(i);var a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);var u=r.join("&");return""!==u&&(u="?".concat(u)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(u))}}}},{key:"remove",value:function(e){return Te(this,void 0,void 0,(0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!he(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,n){return Te(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=Object.assign(Object.assign(Object.assign({},_e),t),{prefix:e||""}),r.next=4,Se(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},n);case 4:return o=r.sent,r.abrupt("return",{data:o,error:null});case 8:if(r.prev=8,r.t0=r.catch(0),!he(r.t0)){r.next=12;break}return r.abrupt("return",{data:null,error:r.t0});case 12:throw r.t0;case 13:case"end":return r.stop()}}),i,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}},{key:"transformOptsToQueryString",value:function(e){var t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}]),e}(),Oe={"X-Client-Info":"storage-js/".concat("2.3.0")},je=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},Me=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;(0,a.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},Oe),n),this.fetch=ge(r)}return(0,o.Z)(e,[{key:"listBuckets",value:function(){return je(this,void 0,void 0,(0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:if(e.prev=7,e.t0=e.catch(0),!he(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return je(this,void 0,void 0,(0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!he(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return je(this,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Se(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:i,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!he(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return je(this,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:i,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!he(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return je(this,void 0,void 0,(0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!he(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return je(this,void 0,void 0,(0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!he(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),Fe=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return(0,a.Z)(this,n),t.call(this,e,r,i)}return(0,o.Z)(n,[{key:"from",value:function(e){return new Ie(this.url,this.headers,e,this.fetch)}}]),n}(Me),ze={"X-Client-Info":"supabase-js/".concat("2.8.0")},Ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},Re=function(e){var t;return t=e||("undefined"===typeof fetch?M():fetch),function(){return t.apply(void 0,arguments)}},Le=function(e,t,n){var i=Re(n),a="undefined"===typeof Headers?j.Headers:Headers;return function(n,o){return Ae(void 0,void 0,void 0,(0,r.Z)().mark((function u(){var s,c,l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:if(r.t1=s=r.sent,r.t0=null!==r.t1,!r.t0){r.next=6;break}r.t0=void 0!==s;case 6:if(!r.t0){r.next=10;break}r.t2=s,r.next=11;break;case 10:r.t2=e;case 11:return c=r.t2,(l=new a(null===o||void 0===o?void 0:o.headers)).has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(c)),r.abrupt("return",i(n,Object.assign(Object.assign({},o),{headers:l})));case 16:case"end":return r.stop()}}),u)})))}};var Ne=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))};var De=function(){return"undefined"!==typeof document},Ve={tested:!1,writable:!1},Be=function(){if(!De())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ve.tested)return Ve.writable;var e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ve.tested=!0,Ve.writable=!0}catch(t){Ve.tested=!0,Ve.writable=!1}return Ve.writable};function He(e,t){var n;t||(t=(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}var Ue=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ne(void 0,void 0,void 0,(0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(n,4255,23));case 2:return e.next=4,(i=e.sent).fetch.apply(i,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},qe=function(e,t){return Ne(void 0,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getItem(t);case 2:if(i=n.sent){n.next=5;break}return n.abrupt("return",null);case 5:return n.prev=5,n.abrupt("return",JSON.parse(i));case 9:return n.prev=9,n.t0=n.catch(5),n.abrupt("return",i);case 12:case"end":return n.stop()}}),n,null,[[5,9]])})))},We=function(e,t){return Ne(void 0,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.removeItem(t);case 2:case"end":return n.stop()}}),n)})))};var Ge=(0,o.Z)((function e(){var t=this;(0,a.Z)(this,e),this.promise=new e.promiseConstructor((function(e,n){t.resolve=e,t.reject=n}))}));function $e(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");var n=t[1];return JSON.parse(function(e){var t,n,r,i,a,o,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)t=u.indexOf(e.charAt(c++))<<2|(i=u.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(a=u.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(o=u.indexOf(e.charAt(c++))),s+=String.fromCharCode(t),64!=a&&0!=n&&(s+=String.fromCharCode(n)),64!=o&&0!=r&&(s+=String.fromCharCode(r));return s}(n))}function Je(e){return new Promise((function(t){setTimeout((function(){return t(null)}),e)}))}function Ke(e,t){var n=this;return new Promise((function(i,a){Ne(n,void 0,void 0,(0,r.Z)().mark((function n(){var o,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=0;case 1:if(!(o<1/0)){n.next=19;break}return n.prev=2,n.next=5,e(o);case 5:if(u=n.sent,t(o,null,u)){n.next=9;break}return i(u),n.abrupt("return");case 9:n.next=16;break;case 11:if(n.prev=11,n.t0=n.catch(2),t(o,n.t0)){n.next=16;break}return a(n.t0),n.abrupt("return");case 16:o++,n.next=1;break;case 19:case"end":return n.stop()}}),n,null,[[2,11]])})))}))}Ge.promiseConstructor=Promise;var Qe=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).__isAuthError=!0,i.name="AuthError",i.status=r,i}return(0,o.Z)(n)}((0,x.Z)(Error));function Ye(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}var Xe=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e,r)).name="AuthApiError",i.status=r,i}return(0,o.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(Qe);function et(e){return Ye(e)&&"AuthApiError"===e.name}var tt=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).name="AuthUnknownError",i.originalError=r,i}return(0,o.Z)(n)}(Qe),nt=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this,e)).name=r,o.status=i,o}return(0,o.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(Qe),rt=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(){return(0,a.Z)(this,n),t.call(this,"Auth session missing!","AuthSessionMissingError",400)}return(0,o.Z)(n)}(nt),it=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,"AuthInvalidCredentialsError",400)}return(0,o.Z)(n)}(nt),at=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,a.Z)(this,n),(r=t.call(this,e,"AuthImplicitGrantRedirectError",500)).details=null,r.details=i,r}return(0,o.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),n}(nt),ot=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e,r){return(0,a.Z)(this,n),t.call(this,e,"AuthRetryableFetchError",r)}return(0,o.Z)(n)}(nt),ut=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ct=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},lt=function(e,t){return ut(void 0,void 0,void 0,(0,r.Z)().mark((function n(){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=[502,503,504],"object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json?i.includes(e.status)?t(new ot(ct(e),e.status)):e.json().then((function(n){t(new Xe(ct(n),e.status||500))})).catch((function(e){t(new tt(ct(e),e))})):t(new ot(ct(e),0));case 2:case"end":return n.stop()}var r}),n)})))},ft=function(e,t,n,r){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function dt(e,t,n,i){var a;return ut(this,void 0,void 0,(0,r.Z)().mark((function o(){var u,s,c,l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=Object.assign({},null===i||void 0===i?void 0:i.headers),(null===i||void 0===i?void 0:i.jwt)&&(u.Authorization="Bearer ".concat(i.jwt)),s=null!==(a=null===i||void 0===i?void 0:i.query)&&void 0!==a?a:{},(null===i||void 0===i?void 0:i.redirectTo)&&(s.redirect_to=i.redirectTo),c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",r.next=7,ht(e,t,n+c,{headers:u,noResolveJson:null===i||void 0===i?void 0:i.noResolveJson},{},null===i||void 0===i?void 0:i.body);case 7:return l=r.sent,r.abrupt("return",(null===i||void 0===i?void 0:i.xform)?null===i||void 0===i?void 0:i.xform(l):{data:Object.assign({},l),error:null});case 9:case"end":return r.stop()}}),o)})))}function ht(e,t,n,i,a,o){return ut(this,void 0,void 0,(0,r.Z)().mark((function u(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,u){e(n,ft(t,i,a,o)).then((function(e){if(!e.ok)throw e;return(null===i||void 0===i?void 0:i.noResolveJson)?e:e.json()})).then((function(e){return r(e)})).catch((function(e){return lt(e,u)}))})));case 1:case"end":return r.stop()}}),u)})))}function pt(e){var t,n,r=null;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&((r=Object.assign({},e)).expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function vt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function mt(e){return{data:e,error:null}}function gt(e){var t=e.action_link,n=e.email_otp,r=e.hashed_token,i=e.redirect_to,a=e.verification_type,o=st(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function yt(e){return e}var bt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wt=function(){function e(t){var n=t.url,r=void 0===n?"":n,i=t.headers,o=void 0===i?{}:i,u=t.fetch;(0,a.Z)(this,e),this.url=r,this.headers=o,this.fetch=Ue(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}return(0,o.Z)(e,[{key:"signOut",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(this.fetch,"POST","".concat(this.url,"/logout"),{headers:this.headers,jwt:e,noResolveJson:!0});case 3:return t.abrupt("return",{data:null,error:null});case 6:if(t.prev=6,t.t0=t.catch(0),!Ye(t.t0)){t.next=10;break}return t.abrupt("return",{data:null,error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bt(this,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,dt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:vt});case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),!Ye(n.t0)){n.next=10;break}return n.abrupt("return",{data:{user:null},error:n.t0});case 10:throw n.t0;case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"generateLink",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.options,i=kt(e,["options"]),a=Object.assign(Object.assign({},i),n),"newEmail"in i&&(a.new_email=null===i||void 0===i?void 0:i.newEmail,delete a.newEmail),t.next=6,dt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:gt,redirectTo:null===n||void 0===n?void 0:n.redirectTo});case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(0),!Ye(t.t0)){t.next=13;break}return t.abrupt("return",{data:{properties:null,user:null},error:t.t0});case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"createUser",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:vt});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!Ye(t.t0)){t.next=10;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"listUsers",value:function(e){var t,n,i,a,o,u,s;return bt(this,void 0,void 0,(0,r.Z)().mark((function c(){var l,f,d,h,p;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l={nextPage:null,lastPage:0,total:0},r.next=4,dt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(i=null===e||void 0===e?void 0:e.perPage)||void 0===i?void 0:i.toString())&&void 0!==a?a:""},xform:yt});case 4:if(!(f=r.sent).error){r.next=7;break}throw f.error;case 7:return r.next=9,f.json();case 9:return d=r.sent,h=null!==(o=f.headers.get("x-total-count"))&&void 0!==o?o:0,(p=null!==(s=null===(u=f.headers.get("link"))||void 0===u?void 0:u.split(","))&&void 0!==s?s:[]).length>0&&(p.forEach((function(e){var t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t})),l.total=parseInt(h)),r.abrupt("return",{data:Object.assign(Object.assign({},d),l),error:null});case 16:if(r.prev=16,r.t0=r.catch(0),!Ye(r.t0)){r.next=20;break}return r.abrupt("return",{data:{users:[]},error:r.t0});case 20:throw r.t0;case 21:case"end":return r.stop()}}),c,this,[[0,16]])})))}},{key:"getUserById",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:vt});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!Ye(t.t0)){t.next=10;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"updateUserById",value:function(e,t){return bt(this,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,dt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:vt});case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),!Ye(n.t0)){n.next=10;break}return n.abrupt("return",{data:{user:null},error:n.t0});case 10:throw n.t0;case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"deleteUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return bt(this,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,dt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:vt});case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),!Ye(n.t0)){n.next=10;break}return n.abrupt("return",{data:{user:null},error:n.t0});case 10:throw n.t0;case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"_listFactors",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:function(e){return{data:{factors:e},error:null}}});case 3:return n=t.sent,i=n.data,a=n.error,t.abrupt("return",{data:i,error:a});case 9:if(t.prev=9,t.t0=t.catch(0),!Ye(t.t0)){t.next=13;break}return t.abrupt("return",{data:null,error:t.t0});case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"_deleteFactor",value:function(e){return bt(this,void 0,void 0,(0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!Ye(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),Zt={"X-Client-Info":"gotrue-js/".concat("2.12.1")},xt={getItem:function(e){return Be()?globalThis.localStorage.getItem(e):null},setItem:function(e,t){Be()&&globalThis.localStorage.setItem(e,t)},removeItem:function(e){Be()&&globalThis.localStorage.removeItem(e)}};var St=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))};!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();var Ct={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zt},Et=1e4,Tt=function(){function e(t){var n=this;(0,a.Z)(this,e),this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;var r=Object.assign(Object.assign({},Ct),t);this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||xt,this.admin=new wt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ue(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey&&(this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey),this.broadcastChannel.addEventListener("message",(function(e){n._notifyAllSubscribers(e.data.event,e.data.session,!1)}))),this.initialize()}return(0,o.Z)(e,[{key:"initialize",value:function(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}},{key:"_initialize",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n,i,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initializePromise){e.next=2;break}return e.abrupt("return",this.initializePromise);case 2:if(e.prev=2,!this.detectSessionInUrl||!this._isImplicitGrantFlow()){e.next=19;break}return e.next=6,this._getSessionFromUrl();case 6:if(t=e.sent,n=t.data,!(i=t.error)){e.next=13;break}return e.next=12,this._removeSession();case 12:return e.abrupt("return",{error:i});case 13:return a=n.session,o=n.redirectType,e.next=16,this._saveSession(a);case 16:return this._notifyAllSubscribers("SIGNED_IN",a),"recovery"===o&&this._notifyAllSubscribers("PASSWORD_RECOVERY",a),e.abrupt("return",{error:null});case 19:return e.next=21,this._recoverAndRefresh();case 21:return e.abrupt("return",{error:null});case 24:if(e.prev=24,e.t0=e.catch(2),!Ye(e.t0)){e.next=28;break}return e.abrupt("return",{error:e.t0});case 28:return e.abrupt("return",{error:new tt("Unexpected error during initialization",e.t0)});case 29:return e.prev=29,e.next=32,this._handleVisibilityChange();case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,this,[[2,24,29,33]])})))}},{key:"signUp",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c,l,f,d,h,p,v,m;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._removeSession();case 3:if(!("email"in e)){r.next=10;break}return o=e.email,u=e.password,s=e.options,r.next=7,dt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:o,password:u,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:pt});case 7:a=r.sent,r.next=18;break;case 10:if(!("phone"in e)){r.next=17;break}return c=e.phone,l=e.password,f=e.options,r.next=14,dt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:c,password:l,data:null!==(n=null===f||void 0===f?void 0:f.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===f||void 0===f?void 0:f.captchaToken}},xform:pt});case 14:a=r.sent,r.next=18;break;case 17:throw new it("You must provide either an email or phone number and a password");case 18:if(h=(d=a).data,!(p=d.error)&&h){r.next=21;break}return r.abrupt("return",{data:{user:null,session:null},error:p});case 21:if(v=h.session,m=h.user,!h.session){r.next=27;break}return r.next=26,this._saveSession(h.session);case 26:this._notifyAllSubscribers("SIGNED_IN",v);case 27:return r.abrupt("return",{data:{user:m,session:v},error:null});case 30:if(r.prev=30,r.t0=r.catch(0),!Ye(r.t0)){r.next=34;break}return r.abrupt("return",{data:{user:null,session:null},error:r.t0});case 34:throw r.t0;case 35:case"end":return r.stop()}}),i,this,[[0,30]])})))}},{key:"signInWithPassword",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c,l,f,d,h,p;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._removeSession();case 3:if(!("email"in e)){r.next=10;break}return o=e.email,u=e.password,s=e.options,r.next=7,dt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:o,password:u,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:pt});case 7:a=r.sent,r.next=18;break;case 10:if(!("phone"in e)){r.next=17;break}return c=e.phone,l=e.password,f=e.options,r.next=14,dt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:c,password:l,data:null!==(n=null===f||void 0===f?void 0:f.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===f||void 0===f?void 0:f.captchaToken}},xform:pt});case 14:a=r.sent,r.next=18;break;case 17:throw new it("You must provide either an email or phone number and a password");case 18:if(h=(d=a).data,!(p=d.error)&&h){r.next=21;break}return r.abrupt("return",{data:{user:null,session:null},error:p});case 21:if(!h.session){r.next=25;break}return r.next=24,this._saveSession(h.session);case 24:this._notifyAllSubscribers("SIGNED_IN",h.session);case 25:return r.abrupt("return",{data:h,error:p});case 28:if(r.prev=28,r.t0=r.catch(0),!Ye(r.t0)){r.next=32;break}return r.abrupt("return",{data:{user:null,session:null},error:r.t0});case 32:throw r.t0;case 33:case"end":return r.stop()}}),i,this,[[0,28]])})))}},{key:"signInWithOAuth",value:function(e){var t,n,i,a;return St(this,void 0,void 0,(0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._removeSession();case 2:return r.abrupt("return",this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect}));case 3:case"end":return r.stop()}}),o,this)})))}},{key:"signInWithIdToken",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a,o,u,s,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._removeSession();case 2:return t.prev=2,n=e.options,i=e.provider,a=e.token,o=e.nonce,t.next=6,dt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:i,id_token:a,nonce:o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:pt});case 6:if(u=t.sent,s=u.data,!(c=u.error)&&s){t.next=10;break}return t.abrupt("return",{data:{user:null,session:null},error:c});case 10:if(!s.session){t.next=14;break}return t.next=13,this._saveSession(s.session);case 13:this._notifyAllSubscribers("SIGNED_IN",s.session);case 14:return t.abrupt("return",{data:s,error:c});case 17:if(t.prev=17,t.t0=t.catch(2),!Ye(t.t0)){t.next=21;break}return t.abrupt("return",{data:{user:null,session:null},error:t.t0});case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,this,[[2,17]])})))}},{key:"signInWithOtp",value:function(e){var t,n,i,a;return St(this,void 0,void 0,(0,r.Z)().mark((function o(){var u,s,c,l,f,d,h,p;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._removeSession();case 3:if(!("email"in e)){r.next=10;break}return u=e.email,s=e.options,r.next=7,dt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:u,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});case 7:return c=r.sent,l=c.error,r.abrupt("return",{data:{user:null,session:null},error:l});case 10:if(!("phone"in e)){r.next=17;break}return f=e.phone,d=e.options,r.next=14,dt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:f,data:null!==(i=null===d||void 0===d?void 0:d.data)&&void 0!==i?i:{},create_user:null===(a=null===d||void 0===d?void 0:d.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===d||void 0===d?void 0:d.captchaToken}}});case 14:return h=r.sent,p=h.error,r.abrupt("return",{data:{user:null,session:null},error:p});case 17:throw new it("You must provide either an email or phone number.");case 20:if(r.prev=20,r.t0=r.catch(0),!Ye(r.t0)){r.next=24;break}return r.abrupt("return",{data:{user:null,session:null},error:r.t0});case 24:throw r.t0;case 25:case"end":return r.stop()}}),o,this,[[0,20]])})))}},{key:"verifyOtp",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._removeSession();case 3:return r.next=5,dt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:null===(t=e.options)||void 0===t?void 0:t.captchaToken}}),redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,xform:pt});case 5:if(a=r.sent,o=a.data,!(u=a.error)){r.next=10;break}throw u;case 10:if(o){r.next=12;break}throw"An error occurred on token verification.";case 12:if(s=o.session,c=o.user,!(null===s||void 0===s?void 0:s.access_token)){r.next=18;break}return r.next=17,this._saveSession(s);case 17:this._notifyAllSubscribers("SIGNED_IN",s);case 18:return r.abrupt("return",{data:{user:c,session:s},error:null});case 21:if(r.prev=21,r.t0=r.catch(0),!Ye(r.t0)){r.next=25;break}return r.abrupt("return",{data:{user:null,session:null},error:r.t0});case 25:throw r.t0;case 26:case"end":return r.stop()}}),i,this,[[0,21]])})))}},{key:"signInWithSSO",value:function(e){var t,n,i;return St(this,void 0,void 0,(0,r.Z)().mark((function a(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._removeSession();case 3:return r.next=5,dt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(i=null===e||void 0===e?void 0:e.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:mt});case 5:return r.abrupt("return",r.sent);case 8:if(r.prev=8,r.t0=r.catch(0),!Ye(r.t0)){r.next=12;break}return r.abrupt("return",{data:null,error:r.t0});case 12:throw r.t0;case 13:case"end":return r.stop()}}),a,this,[[0,8]])})))}},{key:"getSession",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n,i,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:if(t=null,!this.persistSession){e.next=16;break}return e.next=6,qe(this.storage,this.storageKey);case 6:if(null===(n=e.sent)){e.next=14;break}if(!this._isValidSession(n)){e.next=12;break}t=n,e.next=14;break;case 12:return e.next=14,this._removeSession();case 14:e.next=17;break;case 16:t=this.inMemorySession;case 17:if(t){e.next=19;break}return e.abrupt("return",{data:{session:null},error:null});case 19:if(!!t.expires_at&&t.expires_at<=Date.now()/1e3){e.next=22;break}return e.abrupt("return",{data:{session:t},error:null});case 22:return e.next=24,this._callRefreshToken(t.refresh_token);case 24:if(i=e.sent,a=i.session,!(o=i.error)){e.next=29;break}return e.abrupt("return",{data:{session:null},error:o});case 29:return e.abrupt("return",{data:{session:a},error:null});case 30:case"end":return e.stop()}}),e,this)})))}},{key:"getUser",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=10;break}return r.next=4,this.getSession();case 4:if(a=r.sent,o=a.data,!(u=a.error)){r.next=9;break}throw u;case 9:e=null!==(n=null===(t=o.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0;case 10:return r.next=12,dt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:vt});case 12:return r.abrupt("return",r.sent);case 15:if(r.prev=15,r.t0=r.catch(0),!Ye(r.t0)){r.next=19;break}return r.abrupt("return",{data:{user:null},error:r.t0});case 19:throw r.t0;case 20:case"end":return r.stop()}}),i,this,[[0,15]])})))}},{key:"updateUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o,u,s,c,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getSession();case 3:if(i=n.sent,a=i.data,!(o=i.error)){n.next=8;break}throw o;case 8:if(a.session){n.next=10;break}throw new rt;case 10:return u=a.session,n.next=13,dt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:e,jwt:u.access_token,xform:vt});case 13:if(s=n.sent,c=s.data,!(l=s.error)){n.next=18;break}throw l;case 18:return u.user=c.user,n.next=21,this._saveSession(u);case 21:return this._notifyAllSubscribers("USER_UPDATED",u),n.abrupt("return",{data:{user:u.user},error:null});case 25:if(n.prev=25,n.t0=n.catch(0),!Ye(n.t0)){n.next=29;break}return n.abrupt("return",{data:{user:null},error:n.t0});case 29:throw n.t0;case 30:case"end":return n.stop()}}),n,this,[[0,25]])})))}},{key:"_decodeJWT",value:function(e){return $e(e)}},{key:"setSession",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a,o,u,s,c,l,f,d,h;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.access_token&&e.refresh_token){t.next=3;break}throw new rt;case 3:if(n=Date.now()/1e3,i=n,a=!0,o=null,(u=$e(e.access_token)).exp&&(i=u.exp,a=i<=n),!a){t.next=22;break}return t.next=12,this._callRefreshToken(e.refresh_token);case 12:if(s=t.sent,c=s.session,!(l=s.error)){t.next=17;break}return t.abrupt("return",{data:{user:null,session:null},error:l});case 17:if(c){t.next=19;break}return t.abrupt("return",{data:{user:null,session:null},error:null});case 19:o=c,t.next=33;break;case 22:return t.next=24,this.getUser(e.access_token);case 24:if(f=t.sent,d=f.data,!(h=f.error)){t.next=29;break}throw h;case 29:return o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},t.next=32,this._saveSession(o);case 32:this._notifyAllSubscribers("SIGNED_IN",o);case 33:return t.abrupt("return",{data:{user:o.user,session:o},error:null});case 36:if(t.prev=36,t.t0=t.catch(0),!Ye(t.t0)){t.next=40;break}return t.abrupt("return",{data:{session:null,user:null},error:t.t0});case 40:throw t.t0;case 41:case"end":return t.stop()}}),t,this,[[0,36]])})))}},{key:"refreshSession",value:function(e){var t;return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o,u,s,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e){n.next=10;break}return n.next=4,this.getSession();case 4:if(i=n.sent,a=i.data,!(o=i.error)){n.next=9;break}throw o;case 9:e=null!==(t=a.session)&&void 0!==t?t:void 0;case 10:if(null===e||void 0===e?void 0:e.refresh_token){n.next=12;break}throw new rt;case 12:return n.next=14,this._callRefreshToken(e.refresh_token);case 14:if(u=n.sent,s=u.session,!(c=u.error)){n.next=19;break}return n.abrupt("return",{data:{user:null,session:null},error:c});case 19:if(s){n.next=21;break}return n.abrupt("return",{data:{user:null,session:null},error:null});case 21:return n.abrupt("return",{data:{user:s.user,session:s},error:null});case 24:if(n.prev=24,n.t0=n.catch(0),!Ye(n.t0)){n.next=28;break}return n.abrupt("return",{data:{user:null,session:null},error:n.t0});case 28:throw n.t0;case 29:case"end":return n.stop()}}),n,this,[[0,24]])})))}},{key:"_getSessionFromUrl",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,De()){e.next=3;break}throw new at("No browser detected.");case 3:if(this._isImplicitGrantFlow()){e.next=5;break}throw new at("Not a valid implicit grant flow url.");case 5:if(!(t=He("error_description"))){e.next=14;break}if(n=He("error_code")){e.next=10;break}throw new at("No error_code detected.");case 10:if(i=He("error")){e.next=13;break}throw new at("No error detected.");case 13:throw new at(t,{error:i,code:n});case 14:if(a=He("provider_token"),o=He("provider_refresh_token"),u=He("access_token")){e.next=19;break}throw new at("No access_token detected.");case 19:if(s=He("expires_in")){e.next=22;break}throw new at("No expires_in detected.");case 22:if(c=He("refresh_token")){e.next=25;break}throw new at("No refresh_token detected.");case 25:if(l=He("token_type")){e.next=28;break}throw new at("No token_type detected.");case 28:return f=Math.round(Date.now()/1e3),d=f+parseInt(s),e.next=32,this.getUser(u);case 32:if(h=e.sent,p=h.data,!(v=h.error)){e.next=37;break}throw v;case 37:return m=p.user,g={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:parseInt(s),expires_at:d,refresh_token:c,token_type:l,user:m},y=He("type"),window.location.hash="",e.abrupt("return",{data:{session:g,redirectType:y},error:null});case 44:if(e.prev=44,e.t0=e.catch(0),!Ye(e.t0)){e.next=48;break}return e.abrupt("return",{data:{session:null,redirectType:null},error:e.t0});case 48:throw e.t0;case 49:case"end":return e.stop()}}),e,this,[[0,44]])})))}},{key:"_isImplicitGrantFlow",value:function(){return De()&&(Boolean(He("access_token"))||Boolean(He("error_description")))}},{key:"signOut",value:function(){var e;return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a,o,u,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSession();case 2:if(n=t.sent,i=n.data,!(a=n.error)){t.next=7;break}return t.abrupt("return",{error:a});case 7:if(!(o=null===(e=i.session)||void 0===e?void 0:e.access_token)){t.next=16;break}return t.next=11,this.admin.signOut(o);case 11:if(u=t.sent,!(s=u.error)){t.next=16;break}if(et(s)&&(404===s.status||401===s.status)){t.next=16;break}return t.abrupt("return",{error:s});case 16:return t.next=18,this._removeSession();case 18:return this._notifyAllSubscribers("SIGNED_OUT",null),t.abrupt("return",{error:null});case 20:case"end":return t.stop()}}),t,this)})))}},{key:"onAuthStateChange",value:function(e){var t=this,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:n,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,r),{data:{subscription:r}}}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return St(this,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,dt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo});case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),!Ye(n.t0)){n.next=10;break}return n.abrupt("return",{data:null,error:n.t0});case 10:throw n.t0;case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"_refreshAccessToken",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i=this;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Date.now(),t.next=4,Ke((function(t){return St(i,void 0,void 0,(0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Je(200*t);case 2:return n.next=4,dt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:pt});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n,this)})))}),(function(e,t,r){return r&&r.error&&r.error instanceof ot&&Date.now()+200*(e+1)-n<Et}));case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(0),!Ye(t.t0)){t.next=11;break}return t.abrupt("return",{data:{session:null,user:null},error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))}},{key:"_isValidSession",value:function(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return De()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}},{key:"_recoverAndRefresh",value:function(){var e;return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qe(this.storage,this.storageKey);case 3:if(n=t.sent,this._isValidSession(n)){t.next=9;break}if(null===n){t.next=8;break}return t.next=8,this._removeSession();case 8:return t.abrupt("return");case 9:if(i=Math.round(Date.now()/1e3),!((null!==(e=n.expires_at)&&void 0!==e?e:1/0)<i+10)){t.next=26;break}if(!this.autoRefreshToken||!n.refresh_token){t.next=22;break}return t.next=14,this._callRefreshToken(n.refresh_token);case 14:if(a=t.sent,!(o=a.error)){t.next=20;break}return console.log(o.message),t.next=20,this._removeSession();case 20:t.next=24;break;case 22:return t.next=24,this._removeSession();case 24:t.next=30;break;case 26:if(!this.persistSession){t.next=29;break}return t.next=29,this._saveSession(n);case 29:this._notifyAllSubscribers("SIGNED_IN",n);case 30:t.next=36;break;case 32:return t.prev=32,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 36:case"end":return t.stop()}}),t,this,[[0,32]])})))}},{key:"_callRefreshToken",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.refreshingDeferred){r.next=2;break}return r.abrupt("return",this.refreshingDeferred.promise);case 2:if(r.prev=2,this.refreshingDeferred=new Ge,e){r.next=6;break}throw new rt;case 6:return r.next=8,this._refreshAccessToken(e);case 8:if(a=r.sent,o=a.data,!(u=a.error)){r.next=13;break}throw u;case 13:if(o.session){r.next=15;break}throw new rt;case 15:return r.next=17,this._saveSession(o.session);case 17:return this._notifyAllSubscribers("TOKEN_REFRESHED",o.session),s={session:o.session,error:null},this.refreshingDeferred.resolve(s),r.abrupt("return",s);case 23:if(r.prev=23,r.t0=r.catch(2),!Ye(r.t0)){r.next=29;break}return c={session:null,error:r.t0},null===(t=this.refreshingDeferred)||void 0===t||t.resolve(c),r.abrupt("return",c);case 29:throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(r.t0),r.t0;case 31:return r.prev=31,this.refreshingDeferred=null,r.finish(31);case 34:case"end":return r.stop()}}),i,this,[[2,23,31,34]])})))}},{key:"_notifyAllSubscribers",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach((function(n){return n.callback(e,t)}))}},{key:"_saveSession",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.persistSession||(this.inMemorySession=e),!this.persistSession||!e.expires_at){t.next=4;break}return t.next=4,this._persistSession(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"_persistSession",value:function(e){return t=this.storage,n=this.storageKey,i=e,Ne(void 0,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setItem(n,JSON.stringify(i));case 2:case"end":return e.stop()}}),e)})));var t,n,i}},{key:"_removeSession",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.persistSession){e.next=5;break}return e.next=3,We(this.storage,this.storageKey);case 3:e.next=6;break;case 5:this.inMemorySession=null;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_removeVisibilityChangedCallback",value:function(){var e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}},{key:"_startAutoRefresh",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._stopAutoRefresh();case 2:return t=setInterval((function(){return n._autoRefreshTokenTick()}),Et),this.autoRefreshTicker=t,t&&"object"===typeof t&&"function"===typeof t.unref&&t.unref(),e.next=7,this._autoRefreshTokenTick();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_stopAutoRefresh",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.autoRefreshTicker,this.autoRefreshTicker=null,t&&clearInterval(t);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"startAutoRefresh",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeVisibilityChangedCallback(),e.next=3,this._startAutoRefresh();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"stopAutoRefresh",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeVisibilityChangedCallback(),e.next=3,this._stopAutoRefresh();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_autoRefreshTokenTick",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),e.prev=1,e.next=4,this.getSession();case 4:if(n=e.sent,(i=n.data.session)&&i.refresh_token&&i.expires_at){e.next=8;break}return e.abrupt("return");case 8:if(!(Math.floor((1e3*i.expires_at-t)/Et)<3)){e.next=12;break}return e.next=12,this._callRefreshToken(i.refresh_token);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Auto refresh tick failed with error. This is likely a transient error.",e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})))}},{key:"_handleVisibilityChange",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De()&&(null===window||void 0===window?void 0:window.addEventListener)){e.next=3;break}return this.autoRefreshToken&&this.startAutoRefresh(),e.abrupt("return",!1);case 3:return e.prev=3,this.visibilityChangedCallback=function(){return St(t,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._onVisibilityChanged(!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),e.next=8,this._onVisibilityChanged(!0);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("_handleVisibilityChange",e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})))}},{key:"_onVisibilityChanged",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("visible"!==document.visibilityState){t.next=9;break}if(e){t.next=6;break}return t.next=4,this.initializePromise;case 4:return t.next=6,this._recoverAndRefresh();case 6:this.autoRefreshToken&&this._startAutoRefresh(),t.next=10;break;case 9:"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"_getUrlForProvider",value:function(e,t){var n=["provider=".concat(encodeURIComponent(e))];if((null===t||void 0===t?void 0:t.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null===t||void 0===t?void 0:t.scopes)&&n.push("scopes=".concat(encodeURIComponent(t.scopes))),null===t||void 0===t?void 0:t.queryParams){var r=new URLSearchParams(t.queryParams);n.push(r.toString())}return"".concat(this.url,"/authorize?").concat(n.join("&"))}},{key:"_unenroll",value:function(e){var t;return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getSession();case 3:if(i=n.sent,a=i.data,!(o=i.error)){n.next=8;break}return n.abrupt("return",{data:null,error:o});case 8:return n.next=10,dt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(t=null===a||void 0===a?void 0:a.session)||void 0===t?void 0:t.access_token});case 10:return n.abrupt("return",n.sent);case 13:if(n.prev=13,n.t0=n.catch(0),!Ye(n.t0)){n.next=17;break}return n.abrupt("return",{data:null,error:n.t0});case 17:throw n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,13]])})))}},{key:"_enroll",value:function(e){var t,n;return St(this,void 0,void 0,(0,r.Z)().mark((function i(){var a,o,u,s,c,l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.getSession();case 3:if(a=r.sent,o=a.data,!(u=a.error)){r.next=8;break}return r.abrupt("return",{data:null,error:u});case 8:return r.next=10,dt(this.fetch,"POST","".concat(this.url,"/factors"),{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(t=null===o||void 0===o?void 0:o.session)||void 0===t?void 0:t.access_token});case 10:if(s=r.sent,c=s.data,!(l=s.error)){r.next=15;break}return r.abrupt("return",{data:null,error:l});case 15:return(null===(n=null===c||void 0===c?void 0:c.totp)||void 0===n?void 0:n.qr_code)&&(c.totp.qr_code="data:image/svg+xml;utf-8,".concat(c.totp.qr_code)),r.abrupt("return",{data:c,error:null});case 19:if(r.prev=19,r.t0=r.catch(0),!Ye(r.t0)){r.next=23;break}return r.abrupt("return",{data:null,error:r.t0});case 23:throw r.t0;case 24:case"end":return r.stop()}}),i,this,[[0,19]])})))}},{key:"_verify",value:function(e){var t;return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o,u,s,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getSession();case 3:if(i=n.sent,a=i.data,!(o=i.error)){n.next=8;break}return n.abrupt("return",{data:null,error:o});case 8:return n.next=10,dt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(t=null===a||void 0===a?void 0:a.session)||void 0===t?void 0:t.access_token});case 10:if(u=n.sent,s=u.data,!(c=u.error)){n.next=15;break}return n.abrupt("return",{data:null,error:c});case 15:return n.next=17,this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s));case 17:return this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),n.abrupt("return",{data:s,error:c});case 21:if(n.prev=21,n.t0=n.catch(0),!Ye(n.t0)){n.next=25;break}return n.abrupt("return",{data:null,error:n.t0});case 25:throw n.t0;case 26:case"end":return n.stop()}}),n,this,[[0,21]])})))}},{key:"_challenge",value:function(e){var t;return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.getSession();case 3:if(i=n.sent,a=i.data,!(o=i.error)){n.next=8;break}return n.abrupt("return",{data:null,error:o});case 8:return n.next=10,dt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{headers:this.headers,jwt:null===(t=null===a||void 0===a?void 0:a.session)||void 0===t?void 0:t.access_token});case 10:return n.abrupt("return",n.sent);case 13:if(n.prev=13,n.t0=n.catch(0),!Ye(n.t0)){n.next=17;break}return n.abrupt("return",{data:null,error:n.t0});case 17:throw n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,13]])})))}},{key:"_challengeAndVerify",value:function(e){return St(this,void 0,void 0,(0,r.Z)().mark((function t(){var n,i,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._challenge({factorId:e.factorId});case 2:if(n=t.sent,i=n.data,!(a=n.error)){t.next=7;break}return t.abrupt("return",{data:null,error:a});case 7:return t.next=9,this._verify({factorId:e.factorId,challengeId:i.id,code:e.code});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"_listFactors",value:function(){return St(this,void 0,void 0,(0,r.Z)().mark((function e(){var t,n,i,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:if(t=e.sent,n=t.data.user,!(i=t.error)){e.next=7;break}return e.abrupt("return",{data:null,error:i});case 7:return a=(null===n||void 0===n?void 0:n.factors)||[],o=a.filter((function(e){return"totp"===e.factor_type&&"verified"===e.status})),e.abrupt("return",{data:{all:a,totp:o},error:null});case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_getAuthenticatorAssuranceLevel",value:function(){var e,t;return St(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a,o,u,s,c,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getSession();case 2:if(i=n.sent,a=i.data.session,!(o=i.error)){n.next=7;break}return n.abrupt("return",{data:null,error:o});case 7:if(a){n.next=9;break}return n.abrupt("return",{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null});case 9:return u=this._decodeJWT(a.access_token),s=null,u.aal&&(s=u.aal),c=s,(null!==(t=null===(e=a.user.factors)||void 0===e?void 0:e.filter((function(e){return"verified"===e.status})))&&void 0!==t?t:[]).length>0&&(c="aal2"),l=u.amr||[],n.abrupt("return",{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:l},error:null});case 17:case"end":return n.stop()}}),n,this)})))}}]),e}(),_t=function(e){(0,h.Z)(n,e);var t=(0,p.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e)}return(0,o.Z)(n)}(Tt),Pt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},It={headers:ze},Ot={schema:"public"},jt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Mt={},Ft=function(){function e(t,n,r){var i,o,u,s,c,l,f,d;if((0,a.Z)(this,e),this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");var h=t.replace(/\/$/,"");if(this.realtimeUrl="".concat(h,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(h,"/auth/v1"),this.storageUrl="".concat(h,"/storage/v1"),h.match(/(supabase\.co)|(supabase\.in)/)){var p=h.split(".");this.functionsUrl="".concat(p[0],".functions.").concat(p[1],".").concat(p[2])}else this.functionsUrl="".concat(h,"/functions/v1");var v="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),m=function(e,t){var n=e.db,r=e.auth,i=e.realtime,a=e.global,o=t.db,u=t.auth,s=t.realtime,c=t.global;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},s),i),global:Object.assign(Object.assign({},c),a)}}(null!==r&&void 0!==r?r:{},{db:Ot,realtime:Mt,auth:Object.assign(Object.assign({},jt),{storageKey:v}),global:It});this.storageKey=null!==(o=null===(i=m.auth)||void 0===i?void 0:i.storageKey)&&void 0!==o?o:"",this.headers=null!==(s=null===(u=m.global)||void 0===u?void 0:u.headers)&&void 0!==s?s:{},this.auth=this._initSupabaseAuthClient(null!==(c=m.auth)&&void 0!==c?c:{},this.headers,null===(l=m.global)||void 0===l?void 0:l.fetch),this.fetch=Le(n,this._getAccessToken.bind(this),null===(f=m.global)||void 0===f?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new N("".concat(h,"/rest/v1"),{headers:this.headers,schema:null===(d=m.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}return(0,o.Z)(e,[{key:"functions",get:function(){return new P(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}},{key:"storage",get:function(){return new Fe(this.storageUrl,this.headers,this.fetch)}},{key:"from",value:function(e){return this.rest.from(e)}},{key:"rpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.rest.rpc(e,t,n)}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}},{key:"getChannels",value:function(){return this.realtime.getChannels()}},{key:"removeChannel",value:function(e){return this.realtime.removeChannel(e)}},{key:"removeAllChannels",value:function(){return this.realtime.removeAllChannels()}},{key:"_getAccessToken",value:function(){var e,t;return Pt(this,void 0,void 0,(0,r.Z)().mark((function n(){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getSession();case 2:return i=n.sent,a=i.data,n.abrupt("return",null!==(t=null===(e=a.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"_initSupabaseAuthClient",value:function(e,t,n){var r=e.autoRefreshToken,i=e.persistSession,a=e.detectSessionInUrl,o=e.storage,u=e.storageKey,s={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new _t({url:this.authUrl,headers:Object.assign(Object.assign({},s),t),storageKey:u,autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:o,fetch:n})}},{key:"_initRealtimeClient",value:function(e){return new fe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,n){e._handleTokenChanged(t,null===n||void 0===n?void 0:n.access_token,"CLIENT")}))}},{key:"_handleTokenChanged",value:function(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.realtime.setAuth(this.supabaseKey),"STORAGE"==n&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!==t&&void 0!==t?t:null),this.changedAccessToken=t)}}]),e}(),zt="supabase",At=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"_client",void 0),(0,u.Z)(this,"type",zt)}return(0,o.Z)(e,[{key:"client",get:function(){return this._client||(this._client=this.clientInitialize)}},{key:"clientInitialize",get:function(){var e,t=(0,c.config)(c.Config.SUPABASE_PROJECT_URL),n=(0,c.config)(c.Config.SUPABASE_ANON_KEY);return(0,s.assertPopulatedString)(t),(0,s.assertPopulatedString)(n),new Ft(t,n,e)}},{key:"promise",value:function(e,t){switch(t){case s.ImageType:case s.AudioType:case s.VideoType:case s.FontType:var n=e.endpoint,r=e.init;(0,s.assertEndpoint)(n);var i=n.hostname,a=n.pathname;(0,s.assertPopulatedString)(a);var o=this.client,u=(0,c.config)(c.Config.SUPABASE_BUCKET)||i;(0,s.assertPopulatedString)(u);var l=a.slice(1),f=Number((0,c.config)(c.Config.SUPABASE_EXPIRES)||60);return o.storage.from(u).createSignedUrl(l,f).then((function(e){if(e.error)return(0,s.errorCaught)(e.error);var n=e.data.signedUrl,i={init:r,endpoint:(0,s.endpointFromUrl)(n)};return(0,s.requestMediaPromise)(i,t)}));case s.RecordType:return this.recordPromise(e)}return(0,s.errorPromise)(s.ErrorName.Type)}},{key:"recordPromise",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.config)(c.Config.SUPABASE_TABLE),(0,s.assertPopulatedString)(n),i=this.client,e.next=5,i.from(n).select();case 5:if(a=e.sent,console.log("response",a),!a.error){e.next=9;break}return e.abrupt("return",(0,s.errorCaught)(a.error));case 9:return o=a.data,u=o[0],l={data:u},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();console.log("ProtocolSupabase",s.ProtocolType,zt),s.Plugins[s.ProtocolType][zt]=new At},5083:function(e,t,n){"use strict";n.r(t),n.d(t,{Icons:function(){return h}});var r=n(2791),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),o=globalThis.window&&globalThis.window.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},u=globalThis.window&&globalThis.window.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(e){return e&&e.map((function(e,t){return r.createElement(e.tag,o({key:t},e.attr),s(e.child))}))}function c(e){return function(t){return r.createElement(l,o({attr:o({},e.attr)},t),s(e.child))}}function l(e){var t=function(t){var n,i=e.attr,a=e.size,s=e.title,c=u(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:n,style:o(o({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return t(e)})):t(i)}function f(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16.24 7.75A5.974 5.974 0 0012 5.99v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0a5.99 5.99 0 00-.01-8.48zM12 1.99c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}}]})(e)}function d(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 7.22L6.603 10H3v4h3.603L10 16.78V7.22zM5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm14.525-4l3.536 3.536-1.414 1.414L19 13.414l-3.536 3.536-1.414-1.414L17.586 12 14.05 8.464l1.414-1.414L19 10.586l3.536-3.536 1.414 1.414L20.414 12z"}}]}]})(e)}var h={active:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12c0-2.76 1.12-5.26 2.93-7.07L12 12V2c5.52 0 10 4.48 10 10z"}}]})(e)}),{key:"active"}),activity:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 12h4.5l1.5 -6l4 12l2 -9l1.5 3h4.5"}}]})(e)}),{key:"activity"}),add:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"}}]}]})(e)}),{key:"add"}),app:r.createElement((function(){return r.createElement("svg",{width:"2em",height:"1em",viewBox:"0 0 52 24"},r.createElement("defs",null,r.createElement("linearGradient",{id:"gradient_0",gradientUnits:"userSpaceOnUse",x1:"27.12",y1:"20.06",x2:"26.83",y2:"0.10"},r.createElement("stop",{offset:"0%",stopColor:"#62789b"}),r.createElement("stop",{offset:"100%",stopColor:"#8c9bdd"}))),r.createElement("path",{d:"M 10.83 0.00 C 10.18 0.00 9.61 0.22 9.14 0.69 L 9.14 0.69 L 1.40 8.29 C 0.91 8.81 0.64 9.38 0.62 10.07 L 0.62 10.07 C 0.62 10.69 0.85 11.24 1.34 11.71 L 1.34 11.71 C 1.85 12.18 2.43 12.38 3.07 12.33 L 3.07 12.33 C 3.74 12.38 4.30 12.15 4.77 11.64 L 4.77 11.64 L 10.83 5.88 L 16.16 11.13 C 16.94 11.84 17.34 12.24 17.41 12.29 L 17.41 12.29 C 17.87 12.75 18.43 12.97 19.08 12.97 L 19.08 12.97 C 19.72 13.02 20.33 12.80 20.84 12.33 L 20.84 12.33 C 20.88 12.31 21.28 11.91 22.02 11.13 L 22.02 11.13 C 22.80 10.38 23.71 9.51 24.74 8.54 L 24.74 8.54 C 25.79 7.47 26.68 6.61 27.41 5.88 L 27.41 5.88 L 37.04 15.44 C 37.51 15.90 38.07 16.17 38.67 16.21 L 38.67 16.21 L 45.25 16.21 L 45.18 20.52 L 52.00 13.86 L 45.25 7.08 L 45.25 11.44 L 39.76 11.38 L 29.11 0.75 C 28.62 0.33 28.06 0.11 27.41 0.11 L 27.41 0.11 C 26.77 0.09 26.19 0.29 25.65 0.75 L 25.65 0.75 L 19.15 7.21 L 13.75 1.95 C 12.97 1.15 12.57 0.73 12.52 0.69 L 12.52 0.69 C 12.03 0.22 11.52 0.00 10.96 0.00 L 10.96 0.00 C 10.92 0.00 10.88 0.00 10.83 0.00",stroke:"none",fill:"url(#gradient_0)"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"gradient_1",gradientUnits:"userSpaceOnUse",x1:"22.21",y1:"23.71",x2:"21.97",y2:"10.91"},r.createElement("stop",{offset:"0%",stopColor:"#62789b"}),r.createElement("stop",{offset:"100%",stopColor:"#8c9bdd"}))),r.createElement("path",{d:"M 9.09 11.54 L 3.05 17.44 L -0.00 14.46 L -0.00 23.89 L 9.63 23.89 L 6.49 20.85 C 6.53 20.85 6.58 20.83 6.62 20.78 L 6.62 20.78 L 10.86 16.66 L 17.43 23.14 C 17.90 23.60 18.46 23.82 19.10 23.82 L 19.10 23.82 C 19.77 23.87 20.35 23.67 20.86 23.20 L 20.86 23.20 L 27.37 16.66 L 34.01 23.31 C 34.48 23.73 35.06 23.96 35.71 23.96 L 35.71 23.96 L 40.59 24.00 C 41.28 23.98 41.86 23.73 42.35 23.31 L 42.35 23.31 C 42.82 22.85 43.06 22.27 43.06 21.54 L 43.06 21.54 C 43.06 20.87 42.82 20.30 42.35 19.83 L 42.35 19.83 C 41.90 19.41 41.35 19.21 40.66 19.21 L 40.66 19.21 L 36.76 19.14 L 29.13 11.60 C 28.66 11.18 28.08 10.96 27.44 10.96 L 27.44 10.96 C 26.79 10.94 26.21 11.14 25.70 11.60 L 25.70 11.60 L 19.10 17.99 L 12.48 11.54 C 11.99 11.07 11.46 10.85 10.86 10.85 L 10.86 10.85 C 10.21 10.85 9.63 11.07 9.09 11.54",stroke:"none",fill:"url(#gradient_1)"}))}),{key:"app"}),broadcast:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M20 6H4V8H2V6C2 4.89543 2.89543 4 4 4H20C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H15V18H20V6Z",fill:"currentColor"}},{tag:"path",attr:{d:"M2 13C5.86599 13 9 16.134 9 20H7C7 17.2386 4.76142 15 2 15V13Z",fill:"currentColor"}},{tag:"path",attr:{d:"M2 17C3.65685 17 5 18.3431 5 20H2V17Z",fill:"currentColor"}},{tag:"path",attr:{d:"M2 9C8.07513 9 13 13.9249 13 20H11C11 15.0294 6.97056 11 2 11V9Z",fill:"currentColor"}}]})(e)}),{key:"broadcast"}),broadcaster:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4.929 2.929l1.414 1.414A7.975 7.975 0 0 0 4 10c0 2.21.895 4.21 2.343 5.657L4.93 17.07A9.969 9.969 0 0 1 2 10a9.969 9.969 0 0 1 2.929-7.071zm14.142 0A9.969 9.969 0 0 1 22 10a9.969 9.969 0 0 1-2.929 7.071l-1.414-1.414A7.975 7.975 0 0 0 20 10c0-2.21-.895-4.21-2.343-5.657L19.07 2.93zM7.757 5.757l1.415 1.415A3.987 3.987 0 0 0 8 10c0 1.105.448 2.105 1.172 2.828l-1.415 1.415A5.981 5.981 0 0 1 6 10c0-1.657.672-3.157 1.757-4.243zm8.486 0A5.981 5.981 0 0 1 18 10a5.981 5.981 0 0 1-1.757 4.243l-1.415-1.415A3.987 3.987 0 0 0 16 10a3.987 3.987 0 0 0-1.172-2.828l1.415-1.415zM12 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 2c.58 0 1.077.413 1.184.983L14.5 22h-5l1.316-7.017c.107-.57.604-.983 1.184-.983z"}}]}]})(e)}),{key:"broadcaster"}),browser:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"}}]})(e)}),{key:"browser"}),browserAudio:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 3v14a4 4 0 1 1-2-3.465V6H9v11a4 4 0 1 1-2-3.465V3h13z"}}]}]})(e)}),{key:"browserAudio"}),browserAudioStream:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4.929 19.071A9.969 9.969 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10H2l2.929-2.929zM11 6v12h2V6h-2zM7 9v6h2V9H7zm8 0v6h2V9h-2z"}}]}]})(e)}),{key:"browserAudioStream"}),browserImage:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 5H4v14l9.292-9.294a1 1 0 0 1 1.414 0L20 15.01V5zM2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"}}]}]})(e)}),{key:"browserImage"}),browserShape:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 15c-.183 0-.358.022-.532.054L8.946 6.532C8.978 6.359 9 6.182 9 6c0-1.654-1.346-3-3-3S3 4.346 3 6c0 1.302.839 2.401 2 2.815v6.369A2.997 2.997 0 0 0 3 18c0 1.654 1.346 3 3 3a2.993 2.993 0 0 0 2.815-2h6.369a2.994 2.994 0 0 0 2.815 2c1.654 0 3-1.346 3-3S19.654 15 18 15zm-11 .184V8.816c.329-.118.629-.291.894-.508l7.799 7.799a2.961 2.961 0 0 0-.508.894h-6.37A2.99 2.99 0 0 0 7 15.184zM6 5a1.001 1.001 0 1 1-1 1c0-.551.448-1 1-1zm0 14a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2zm12 0a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2z"}}]})(e)}),{key:"browserShape"}),browserText:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}}]})(e)}),{key:"browserText"}),browserVideo:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H2.992A.993.993 0 0 1 2 20.007V3.993zM4 5v2h2V5H4zm14 0v2h2V5h-2zM4 9v2h2V9H4zm14 0v2h2V9h-2zM4 13v2h2v-2H4zm14 0v2h2v-2h-2zM4 17v2h2v-2H4zm14 0v2h2v-2h-2z"}}]}]})(e)}),{key:"browserVideo"}),browserVideoStream:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.455 19L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455zM14 10.25V8H7v6h7v-2.25L17 14V8l-3 2.25z"}}]}]})(e)}),{key:"browserVideoStream"}),cam:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5z"}}]})(e)}),{key:"cam"}),camDisabled:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l.714 1H9.5a1 1 0 0 1 1 1v6a1 1 0 0 1-.144.518l.605.847zM1.428 4.18A.999.999 0 0 0 1 5v6a1 1 0 0 0 1 1h5.014l.714 1H2a2 2 0 0 1-2-2V5c0-.675.334-1.272.847-1.634l.58.814zM15 11.73l-3.5-1.555v-4.35L15 4.269v7.462zm-4.407 3.56-10-14 .814-.58 10 14-.814.58z"}}]})(e)}),{key:"cam-disabled"}),clicking:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 1.75v2.716l.047-.002c.312-.012.742-.016 1.051.046.28.056.543.18.738.288.273.152.456.385.56.642l.132-.012c.312-.024.794-.038 1.158.108.37.148.689.487.88.716.075.09.141.175.195.248h.582a2 2 0 0 1 1.99 2.199l-.272 2.715a3.5 3.5 0 0 1-.444 1.389l-1.395 2.441A1.5 1.5 0 0 1 12.42 16H6.118a1.5 1.5 0 0 1-1.342-.83l-1.215-2.43L1.07 8.589a1.517 1.517 0 0 1 2.373-1.852L5 8.293V1.75a1.75 1.75 0 0 1 3.5 0z"}}]})(e)}),{key:"control"}),clip:r.createElement(f,{key:"clip"}),collapse:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 5.56L2.413 5h11.194l.393.54L8.373 11h-.827L2 5.56z"}}]})(e)}),{key:"collapse"}),collapsed:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.56 14L5 13.587V2.393L5.54 2 11 7.627v.827L5.56 14z"}}]})(e)}),{key:"collapsed"}),color:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M136.5 77.7l37 67L32 285.7 216.4 464l152.4-148.6 54.4-11.4L166.4 48l-29.9 29.7zm184 208H114.9l102.8-102.3 102.8 102.3zM423.3 304s-56.7 61.5-56.7 92.1c0 30.7 25.4 55.5 56.7 55.5 31.3 0 56.7-24.9 56.7-55.5S423.3 304 423.3 304z"}}]})(e)}),{key:"color"}),complete:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"}}]})(e)}),{key:"complete"}),composer:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M157 21.234v16h18v-16zm180 0v16h18v-16zM153 55.232v62.002h206V55.232zm-3.89 80c-26.567 5.315-53.134 10.626-79.7 15.942l3.531 17.648L87 166.01v80.222h18V162.41l52-10.4v45.224h18v-62.002zm187.89 0v62.002h18V152.01l52 10.4v83.822h18V166.01l14.059 2.812 3.53-17.648c-26.565-5.315-53.132-10.628-79.698-15.942zm-174 80l-40.004 30.002h266.008L349 215.232zm-69.836 48l118.363 82.854c-37.367 27.406-74.74 54.805-112.105 82.213l10.642 14.514 18.743-13.745-8.008 20.823-37.332 26.13 10.322 14.745L256 377.216c54.07 37.851 108.142 75.698 162.21 113.55l10.323-14.745-37.332-26.13-8.008-20.823 18.743 13.745 10.642-14.514c-37.367-27.406-74.737-54.809-112.105-82.213l118.363-82.854h-31.383l-102.307 71.616-13.927-10.215 83.728-61.4H324.51L256 313.472l-68.51-50.24h-30.437l83.728 61.4-13.927 10.215-102.307-71.616zM256 335.793l13.574 9.955L256 355.25l-13.574-9.502zm-28.9 21.193l13.209 9.246-93.125 65.188 8.48-22.047zm57.8 0l71.436 52.387 8.48 22.047-93.125-65.186z"}}]})(e)}),{key:"composer"}),container:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 7h2v2h-2zm0 8h2v2h-2zm-4-4h2v2H7zm8 0h2v2h-2zm-4 0h2v2h-2z"}},{tag:"path",attr:{d:"M19 3H3v18h18V3h-2zm0 4v12H5V5h14v2z"}}]})(e)}),{key:"container"}),content:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 19h2v2h-2zM7 19h2v2H7zm8 0h2v2h-2zM3 19h2v2H3zm0-4h2v2H3zm0-8h2v2H3zm0-4h2v2H3zm12 0h2v2h-2zM7 3h2v2H7zm12 0h2v2h-2zm0 12h2v2h-2zm0-8h2v2h-2z"}},{tag:"path",attr:{d:"M5 13h6v8h2v-8h8v-2h-8V3h-2v8H3v2h1.93z"}}]})(e)}),{key:"content"}),control:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 2H7C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5zm3 15c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3h10c1.654 0 3 1.346 3 3v10z"}}]})(e)}),{key:"control"}),document:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z"}},{tag:"path",attr:{d:"M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z"}}]})(e)}),{key:"document"}),effect:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 4.81V19c-3.31 0-6-2.63-6-5.87 0-1.56.62-3.03 1.75-4.14L12 4.81M6.35 7.56C4.9 8.99 4 10.96 4 13.13 4 17.48 7.58 21 12 21s8-3.52 8-7.87c0-2.17-.9-4.14-2.35-5.57L12 2 6.35 7.56z"}}]})(e)}),{key:"effect"}),end:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"}}]})(e)}),{key:"end"}),endTrim:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M5.20837 7.75725L0.969116 12.0033L5.21515 16.2428L6.62823 14.8274L4.80949 13.0116L21.0229 13.0298L21.0189 15.0297L23.0189 15.0338L23.0309 9.03377L21.0309 9.02976L21.0249 12.019L21.0261 11.0298L4.78543 11.0115L6.62371 9.17033L5.20837 7.75725Z",fill:"currentColor"}}]})(e)}),{key:"end-trim"}),endUndefined:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.713 3.31 4 3.655 4 4.308v7.384c0 .653.713.998 1.233.696L11.5 8.752V12a.5.5 0 0 0 1 0V4zM5 4.633 10.804 8 5 11.367V4.633z"}}]})(e)}),{key:"endUndefined"}),error:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}),{key:"error"}),folder:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 5v14h16V7h-8.414l-2-2H4zm8.414 0H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2z"}}]}]})(e)}),{key:"folder"}),folderAdd:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.414 5H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2zM11 12H8v2h3v3h2v-3h3v-2h-3V9h-2v3z"}}]}]})(e)}),{key:"folderAdd"}),folderOpen:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 21a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2H20a1 1 0 0 1 1 1v3h-2V7h-7.414l-2-2H4v11.998L5.5 11h17l-2.31 9.243a1 1 0 0 1-.97.757H3zm16.938-8H7.062l-1.5 6h12.876l1.5-6z"}}]}]})(e)}),{key:"folderOpen"}),frame:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"line",attr:{x1:"20",y1:"12",x2:"10",y2:"12"}},{tag:"line",attr:{x1:"20",y1:"12",x2:"16",y2:"16"}},{tag:"line",attr:{x1:"20",y1:"12",x2:"16",y2:"8"}},{tag:"line",attr:{x1:"4",y1:"4",x2:"4",y2:"20"}}]})(e)}),{key:"frame"}),frames:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"line",attr:{x1:"14",y1:"12",x2:"4",y2:"12"}},{tag:"line",attr:{x1:"14",y1:"12",x2:"10",y2:"16"}},{tag:"line",attr:{x1:"14",y1:"12",x2:"10",y2:"8"}},{tag:"line",attr:{x1:"20",y1:"4",x2:"20",y2:"20"}}]})(e)}),{key:"frames"}),gain:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 7.22L6.603 10H3v4h3.603L10 16.78V7.22zM5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z"}}]}]})(e)}),{key:"gain"}),height:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}},{tag:"path",attr:{d:"M18 14v7"}},{tag:"path",attr:{d:"M18 3v7"}},{tag:"path",attr:{d:"M15 18l3 3l3 -3"}},{tag:"path",attr:{d:"M15 6l3 -3l3 3"}}]})(e)}),{key:"height"}),horz:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M387.02 278.627v67.883L477.53 256l-90.51-90.51v67.883H124.98V165.49L34.47 256l90.51 90.51v-67.883h262.04z"}}]})(e)}),{key:"horz-flip"}),icon:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"circle",attr:{cx:"8",cy:"8",r:"8"}}]})(e)}),{key:"icon"}),import:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"}},{tag:"path",attr:{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}}]})(e)}),{key:"upload"}),inaudible:r.createElement(d,{key:"inaudible"}),inspector:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9.243 19H21v2H3v-4.243l9.9-9.9 4.242 4.244L9.242 19zm5.07-13.556l2.122-2.122a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414l-2.122 2.121-4.242-4.242z"}}]}]})(e)}),{key:"inspector"}),invisible:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.882 19.297A10.949 10.949 0 0 1 12 21c-5.392 0-9.878-3.88-10.819-9a10.982 10.982 0 0 1 3.34-6.066L1.392 2.808l1.415-1.415 19.799 19.8-1.415 1.414-3.31-3.31zM5.935 7.35A8.965 8.965 0 0 0 3.223 12a9.005 9.005 0 0 0 13.201 5.838l-2.028-2.028A4.5 4.5 0 0 1 8.19 9.604L5.935 7.35zm6.979 6.978l-3.242-3.242a2.5 2.5 0 0 0 3.241 3.241zm7.893 2.264l-1.431-1.43A8.935 8.935 0 0 0 20.777 12 9.005 9.005 0 0 0 9.552 5.338L7.974 3.76C9.221 3.27 10.58 3 12 3c5.392 0 9.878 3.88 10.819 9a10.947 10.947 0 0 1-2.012 4.592zm-9.084-9.084a4.5 4.5 0 0 1 4.769 4.769l-4.77-4.769z"}}]}]})(e)}),{key:"invisible"}),label:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}}]})(e)}),{key:"label"}),lock:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}}]})(e)}),{key:"lock"}),mic:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z"}},{tag:"path",attr:{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"}}]})(e)}),{key:"mic"}),micDisabled:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879l-1-1V3a2 2 0 0 0-3.997-.118l-.845-.845A3.001 3.001 0 0 1 11 3z"}},{tag:"path",attr:{d:"m9.486 10.607-.748-.748A2 2 0 0 1 6 8v-.878l-1-1V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"}}]})(e)}),{key:"mic-disabled"}),mmTube:r.createElement((function(){return r.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},r.createElement("defs",null,r.createElement("clipPath",{id:"tube-m-m"},r.createElement("path",{d:"\n          M 3.60 21.00 C 1.61 21.00 0.00 19.39 0.00 17.40 L 0.00 6.60 C 0.00 4.61 1.61 3.00 3.60 3.00 L 20.40 3.00 C 22.39 3.00 24.00 4.61 24.00 6.60 L 24.00 17.40 C 24.00 19.39 22.39 21.00 20.40 21.00 Z M 3.60 21.00\n          M 5.57 11.81 L 3.03 14.30 L 1.75 13.04 L 1.75 17.03 L 5.79 17.03 L 4.47 15.75 C 4.49 15.75 4.51 15.74 4.53 15.72 L 4.53 15.72 L 6.30 13.97 L 9.06 16.71 C 9.26 16.91 9.49 17.00 9.76 17.00 L 9.76 17.00 C 10.04 17.02 10.28 16.94 10.50 16.74 L 10.50 16.74 L 13.23 13.97 L 16.01 16.79 C 16.21 16.96 16.45 17.06 16.72 17.06 L 16.72 17.06 L 18.77 17.08 C 19.06 17.07 19.30 16.96 19.51 16.79 L 19.51 16.79 C 19.70 16.59 19.81 16.35 19.81 16.04 L 19.81 16.04 C 19.81 15.75 19.70 15.51 19.51 15.31 L 19.51 15.31 C 19.32 15.14 19.09 15.05 18.80 15.05 L 18.80 15.05 L 17.16 15.02 L 13.97 11.83 C 13.77 11.65 13.53 11.56 13.26 11.56 L 13.26 11.56 C 12.99 11.55 12.74 11.64 12.53 11.83 L 12.53 11.83 L 9.76 14.54 L 6.99 11.81 C 6.78 11.61 6.56 11.51 6.30 11.51 L 6.30 11.51 C 6.03 11.51 5.79 11.61 5.57 11.81\n          M 6.29 6.93 C 6.02 6.93 5.78 7.02 5.58 7.22 L 5.58 7.22 L 2.34 10.43 C 2.14 10.65 2.02 10.89 2.01 11.18 L 2.01 11.18 C 2.01 11.45 2.11 11.68 2.31 11.88 L 2.31 11.88 C 2.53 12.08 2.77 12.16 3.04 12.14 L 3.04 12.14 C 3.32 12.16 3.56 12.07 3.75 11.85 L 3.75 11.85 L 6.29 9.41 L 8.53 11.64 C 8.85 11.94 9.02 12.10 9.05 12.12 L 9.05 12.12 C 9.25 12.32 9.48 12.41 9.75 12.41 L 9.75 12.41 C 10.02 12.43 10.27 12.34 10.49 12.14 L 10.49 12.14 C 10.51 12.13 10.68 11.96 10.98 11.64 L 10.98 11.64 C 11.31 11.32 11.70 10.95 12.12 10.54 L 12.12 10.54 C 12.56 10.09 12.94 9.72 13.25 9.41 L 13.25 9.41 L 17.28 13.46 C 17.48 13.65 17.71 13.76 17.97 13.78 L 17.97 13.78 L 20.72 13.78 L 20.69 15.60 L 23.55 12.79 L 20.72 9.92 L 20.72 11.77 L 18.42 11.74 L 13.96 7.24 C 13.75 7.07 13.52 6.97 13.25 6.97 L 13.25 6.97 C 12.98 6.96 12.73 7.05 12.51 7.24 L 12.51 7.24 L 9.78 9.97 L 7.52 7.75 C 7.19 7.41 7.02 7.24 7.00 7.22 L 7.00 7.22 C 6.80 7.02 6.58 6.93 6.35 6.93 L 6.35 6.93 C 6.33 6.93 6.31 6.93 6.29 6.93\n        "}))),r.createElement("path",{clipPath:"url(#tube-m-m)",d:"M 0.00 0.00 L 24.00 0.00 L 24.00 24.00 L 0.00 24.00 Z M 0.00 0.00",stroke:"none",fill:"currentColor"}))}),{key:"mmTube"}),mmWide:r.createElement((function(){return r.createElement("svg",{width:"2em",height:"1em",viewBox:"0 0 48 24"},r.createElement("path",{d:"M 0.00 0.00 L 48.00 0.00 L 48.00 24.00 L 0.00 24.00 Z M 0.00 0.00",stroke:"none",fill:"none"}),r.createElement("path",{d:"M 9.16 2.00 C 8.62 2.00 8.13 2.18 7.73 2.57 L 7.73 2.57 L 1.19 8.91 C 0.77 9.34 0.55 9.82 0.53 10.39 L 0.53 10.39 C 0.53 10.91 0.72 11.37 1.13 11.76 L 1.13 11.76 C 1.56 12.15 2.05 12.31 2.60 12.28 L 2.60 12.28 C 3.17 12.31 3.64 12.13 4.03 11.70 L 4.03 11.70 L 9.16 6.90 L 13.67 11.28 C 14.33 11.87 14.67 12.20 14.73 12.24 L 14.73 12.24 C 15.12 12.63 15.60 12.81 16.14 12.81 L 16.14 12.81 C 16.69 12.85 17.20 12.66 17.63 12.28 L 17.63 12.28 C 17.67 12.26 18.01 11.93 18.63 11.28 L 18.63 11.28 C 19.29 10.65 20.07 9.93 20.93 9.12 L 20.93 9.12 C 21.82 8.23 22.57 7.51 23.20 6.90 L 23.20 6.90 L 31.34 14.86 C 31.74 15.25 32.21 15.47 32.72 15.51 L 32.72 15.51 L 38.29 15.51 L 38.23 19.10 L 44.00 13.55 L 38.29 7.90 L 38.29 11.54 L 33.65 11.48 L 24.63 2.63 C 24.22 2.28 23.74 2.09 23.20 2.09 L 23.20 2.09 C 22.65 2.07 22.16 2.24 21.71 2.63 L 21.71 2.63 L 16.20 8.01 L 11.64 3.63 C 10.98 2.96 10.64 2.61 10.60 2.57 L 10.60 2.57 C 10.18 2.18 9.75 2.00 9.28 2.00 L 9.28 2.00 C 9.24 2.00 9.20 2.00 9.16 2.00",stroke:"none",fill:"currentColor"}),r.createElement("path",{d:"M 7.70 11.61 L 2.58 16.53 L 0.00 14.05 L 0.00 21.91 L 8.15 21.91 L 5.49 19.38 C 5.53 19.38 5.56 19.36 5.60 19.32 L 5.60 19.32 L 9.19 15.88 L 14.75 21.28 C 15.14 21.67 15.62 21.85 16.16 21.85 L 16.16 21.85 C 16.73 21.89 17.22 21.72 17.65 21.33 L 17.65 21.33 L 23.16 15.88 L 28.78 21.43 C 29.18 21.78 29.67 21.96 30.21 21.96 L 30.21 21.96 L 34.34 22.00 C 34.93 21.98 35.42 21.78 35.83 21.43 L 35.83 21.43 C 36.23 21.04 36.44 20.56 36.44 19.95 L 36.44 19.95 C 36.44 19.39 36.23 18.91 35.83 18.53 L 35.83 18.53 C 35.46 18.17 34.99 18.01 34.40 18.01 L 34.40 18.01 L 31.10 17.95 L 24.65 11.67 C 24.25 11.32 23.76 11.13 23.22 11.13 L 23.22 11.13 C 22.67 11.11 22.18 11.28 21.75 11.67 L 21.75 11.67 L 16.16 16.99 L 10.56 11.61 C 10.15 11.22 9.69 11.04 9.19 11.04 L 9.19 11.04 C 8.64 11.04 8.15 11.22 7.70 11.61",stroke:"none",fill:"currentColor"}))}),{key:"mmWide"}),muted:r.createElement(d,{key:"muted"}),opacity:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M24 0H0v24h24V0zm0 0H0v24h24V0zM0 24h24V0H0v24z"}},{tag:"path",attr:{d:"M17.66 8L12 2.35 6.34 8A8.02 8.02 0 004 13.64c0 2 .78 4.11 2.34 5.67a7.99 7.99 0 0011.32 0c1.56-1.56 2.34-3.67 2.34-5.67S19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"}}]})(e)}),{key:"opacity"}),pause:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM9 9v6h2V9H9zm4 0v6h2V9h-2z"}}]}]})(e)}),{key:"pause"}),play:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM10.622 8.415a.4.4 0 0 0-.622.332v6.506a.4.4 0 0 0 .622.332l4.879-3.252a.4.4 0 0 0 0-.666l-4.88-3.252z"}}]}]})(e)}),{key:"play"}),point:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"}}]})(e)}),{key:"point"}),redo:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z"}}]}]})(e)}),{key:"redo"}),refresh:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}}]})(e)}),{key:"refresh"}),remove:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zM9 4v2h6V4H9z"}}]}]})(e)}),{key:"remove"}),render:r.createElement((function(e){return c({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.341 3.579c-0.347-0.473-0.831-1.027-1.362-1.558s-1.085-1.015-1.558-1.362c-0.806-0.591-1.197-0.659-1.421-0.659h-7.75c-0.689 0-1.25 0.561-1.25 1.25v13.5c0 0.689 0.561 1.25 1.25 1.25h11.5c0.689 0 1.25-0.561 1.25-1.25v-9.75c0-0.224-0.068-0.615-0.659-1.421v0 0zM12.271 2.729c0.48 0.48 0.856 0.912 1.134 1.271h-2.406v-2.405c0.359 0.278 0.792 0.654 1.271 1.134v0 0zM14 14.75c0 0.136-0.114 0.25-0.25 0.25h-11.5c-0.135 0-0.25-0.114-0.25-0.25v-13.5c0-0.135 0.115-0.25 0.25-0.25 0 0 7.749-0 7.75 0v3.5c0 0.276 0.224 0.5 0.5 0.5h3.5v9.75z"}},{tag:"path",attr:{d:"M4 8h5v5h-5v-5z"}},{tag:"path",attr:{d:"M9 10l3-2v5l-3-2z"}}]})(e)}),{key:"render"}),size:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"}}]})(e)}),{key:"size"}),sizing:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 12.5v-9A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5zM2.5 4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0V5h2.5a.5.5 0 0 0 0-1h-3zm11 8a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-1 0V11h-2.5a.5.5 0 0 0 0 1h3z"}}]})(e)}),{key:"sizing"}),speed:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.38 8.57l-1.23 1.85a8 8 0 01-.22 7.58H5.07A8 8 0 0115.58 6.85l1.85-1.23A10 10 0 003.35 19a2 2 0 001.72 1h13.85a2 2 0 001.74-1 10 10 0 00-.27-10.44z"}},{tag:"path",attr:{d:"M10.59 15.41a2 2 0 002.83 0l5.66-8.49-8.49 5.66a2 2 0 000 2.83z"}}]})(e)}),{key:"speed"}),start:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"}}]})(e)}),{key:"start"}),startTrim:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M18.9164 7.75739L23.1662 11.9929L18.9305 16.2426L17.5139 14.8308L19.3325 13.0061L2.8338 13.0285V15.0299H0.833801V9.02988H2.8338V11.0285L19.3429 11.0061L17.5046 9.17398L18.9164 7.75739Z",fill:"currentColor"}}]})(e)}),{key:"start-trim"}),streamCached:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2zm0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2zm.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}}]})(e)}),{key:"streamer-cached"}),streamUncached:r.createElement((function(e){return c({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}},{tag:"path",attr:{d:"M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"}}]})(e)}),{key:"streamer-uncached"}),timeline:r.createElement(f,{key:"timeline"}),timing:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M180 176h-60c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8zm724 0h-60c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8zM785.3 504.3L657.7 403.6a7.23 7.23 0 0 0-11.7 5.7V476H378v-62.8c0-6-7-9.4-11.7-5.7L238.7 508.3a7.14 7.14 0 0 0 0 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h268v62.8c0 6 7 9.4 11.7 5.7l127.5-100.8c3.8-2.9 3.8-8.5.2-11.4z"}}]})(e)}),{key:"timing"}),track:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.083 15.2l1.202.721a.5.5 0 0 1 0 .858l-8.77 5.262a1 1 0 0 1-1.03 0l-8.77-5.262a.5.5 0 0 1 0-.858l1.202-.721L12 20.05l8.083-4.85zm0-4.7l1.202.721a.5.5 0 0 1 0 .858L12 17.65l-9.285-5.571a.5.5 0 0 1 0-.858l1.202-.721L12 15.35l8.083-4.85zm-7.569-9.191l8.771 5.262a.5.5 0 0 1 0 .858L12 13 2.715 7.429a.5.5 0 0 1 0-.858l8.77-5.262a1 1 0 0 1 1.03 0zM12 3.332L5.887 7 12 10.668 18.113 7 12 3.332z"}}]}]})(e)}),{key:"track"}),trackDense:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.083 10.5l1.202.721a.5.5 0 0 1 0 .858L12 17.65l-9.285-5.571a.5.5 0 0 1 0-.858l1.202-.721L12 15.35l8.083-4.85zm0 4.7l1.202.721a.5.5 0 0 1 0 .858l-8.77 5.262a1 1 0 0 1-1.03 0l-8.77-5.262a.5.5 0 0 1 0-.858l1.202-.721L12 20.05l8.083-4.85zM12.514 1.309l8.771 5.262a.5.5 0 0 1 0 .858L12 13 2.715 7.429a.5.5 0 0 1 0-.858l8.77-5.262a1 1 0 0 1 1.03 0z"}}]}]})(e)}),{key:"track-dense"}),undo:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z"}}]}]})(e)}),{key:"undo"}),unlock:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"}}]})(e)}),{key:"unlock"}),vert:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M233.373 387.02H165.49L256 477.53l90.51-90.51h-67.883V124.98h67.883L256 34.47l-90.51 90.51h67.883v262.04z"}}]})(e)}),{key:"vert"}),view:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}}]})(e)}),{key:"view"}),width:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}},{tag:"path",attr:{d:"M10 18h-7"}},{tag:"path",attr:{d:"M21 18h-7"}},{tag:"path",attr:{d:"M6 15l-3 3l3 3"}},{tag:"path",attr:{d:"M18 15l3 3l-3 3"}}]})(e)}),{key:"width"}),webrtc:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Stream_On",dataName:"Stream On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M6.26,19.089A9.625,9.625,0,0,1,6.234,4.911C6.709,4.475,6,3.769,5.527,4.2A10.516,10.516,0,0,0,5.553,19.8c.475.433,1.184-.273.707-.707Z"}},{tag:"path",attr:{d:"M8.84,15.706a5.024,5.024,0,0,1-.014-7.412c.474-.437-.234-1.143-.707-.707a6.028,6.028,0,0,0,.014,8.826c.474.434,1.183-.272.707-.707Z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.244"}},{tag:"path",attr:{d:"M17.74,4.911a9.625,9.625,0,0,1,.026,14.178c-.475.436.234,1.142.707.707A10.516,10.516,0,0,0,18.447,4.2c-.475-.433-1.184.273-.707.707Z"}},{tag:"path",attr:{d:"M15.16,8.294a5.024,5.024,0,0,1,.014,7.412c-.474.437.234,1.143.707.707a6.028,6.028,0,0,0-.014-8.826c-.474-.434-1.183.272-.707.707Z"}}]}]}]})(e)}),{key:"webrtc"}),webrtcPreview:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",opacity:".1"}},{tag:"path",attr:{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2a9 9 0 019 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}}]})(e)}),{key:"webrtc-preview"}),webrtcOptions:r.createElement((function(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z",fill:"currentColor"}}]})(e)}),{key:"webrtc-options"}),zoomLess:r.createElement((function(e){return c({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 12h-5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5h5c.275 0 .5.225.5.5s-.225.5-.5.5zM19.381 15.956l-2.245-2.283c.228-.687.364-1.412.364-2.173 0-3.859-3.141-7-7-7s-7 3.141-7 7 3.141 7 7 7c.761 0 1.488-.137 2.173-.364l2.397 2.386c.601.506 1.348.783 2.104.783 1.727 0 3.131-1.404 3.131-3.131 0-.84-.328-1.628-.924-2.218zm-3.901-1.11l2.492 2.531c.205.203.332.486.332.797 0 .625-.507 1.131-1.131 1.131-.312 0-.594-.127-.816-.313l-2.512-2.511c.646-.436 1.201-.991 1.635-1.635zm-9.98-3.346c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z"}}]})(e)}),{key:"zoom-less"}),zoomMore:r.createElement((function(e){return c({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 11h-2v-2c0-.275-.225-.5-.5-.5s-.5.225-.5.5v2h-2c-.275 0-.5.225-.5.5s.225.5.5.5h2v2c0 .275.225.5.5.5s.5-.225.5-.5v-2h2c.275 0 .5-.225.5-.5s-.225-.5-.5-.5zM19.381 15.956l-2.244-2.283c.227-.687.363-1.412.363-2.173 0-3.859-3.141-7-7-7s-7 3.141-7 7 3.141 7 7 7c.762 0 1.488-.137 2.173-.364l2.397 2.386c.601.506 1.348.783 2.104.783 1.727 0 3.131-1.404 3.131-3.131 0-.84-.328-1.628-.924-2.218zm-3.901-1.11l2.492 2.531c.205.203.332.486.332.797 0 .625-.507 1.131-1.131 1.131-.312 0-.594-.127-.816-.313l-2.512-2.511c.646-.436 1.201-.991 1.635-1.635zm-9.98-3.346c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z"}}]})(e)}),{key:"zoom-more"})}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{24:"47b3978a",45:"f0651c28",58:"a04c543a",94:"e67b6f9d",126:"38b084de",128:"d431e0d7",133:"91c7ea2d",153:"b65b930a",178:"2156fad3",182:"f1d8f0f7",215:"7c3d2887",253:"e21f12b8",263:"1c06ead9",373:"2d9c68d5",393:"aad3dbbc",397:"b2326799",403:"d7573d95",523:"59b8b945",526:"7a09be2c",546:"dcb2bc41",665:"63e2cc45",685:"7ebd7781",770:"c1623c6b",779:"ea22b018",811:"7039a8b5",815:"05112734",890:"78cfb97a",982:"032b4307"}[e]+".chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="@moviemasher/example-supabase:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk_moviemasher_example_supabase=self.webpackChunk_moviemasher_example_supabase||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{apple:function(){return He},azure:function(){return $e},bitbucket:function(){return We},discord:function(){return Ge},facebook:function(){return Ve},github:function(){return Ue},gitlab:function(){return qe},google:function(){return De},keycloak:function(){return Je},linkedin:function(){return Ke},notion:function(){return Qe},slack:function(){return Ye},spotify:function(){return Xe},twitch:function(){return et},twitter:function(){return Be},workos:function(){return tt}});var t={};n.r(t),n.d(t,{de_formal:function(){return st},de_informal:function(){return ct},en:function(){return lt},ja:function(){return ft}});var r,i=n(827),a=n(2791),o=n(1250),u=n(1413),s=n(885),c=n(184),l=n(5671),f=n(3144),d=n(4942),h=n(4925),p=n(7762),v=n(2982),m=["variants","compoundVariants","defaultVariants"],g=["css"],y=["css"],b="colors",k="sizes",w="space",Z={gap:w,gridGap:w,columnGap:w,gridColumnGap:w,rowGap:w,gridRowGap:w,inset:w,insetBlock:w,insetBlockEnd:w,insetBlockStart:w,insetInline:w,insetInlineEnd:w,insetInlineStart:w,margin:w,marginTop:w,marginRight:w,marginBottom:w,marginLeft:w,marginBlock:w,marginBlockEnd:w,marginBlockStart:w,marginInline:w,marginInlineEnd:w,marginInlineStart:w,padding:w,paddingTop:w,paddingRight:w,paddingBottom:w,paddingLeft:w,paddingBlock:w,paddingBlockEnd:w,paddingBlockStart:w,paddingInline:w,paddingInlineEnd:w,paddingInlineStart:w,top:w,right:w,bottom:w,left:w,scrollMargin:w,scrollMarginTop:w,scrollMarginRight:w,scrollMarginBottom:w,scrollMarginLeft:w,scrollMarginX:w,scrollMarginY:w,scrollMarginBlock:w,scrollMarginBlockEnd:w,scrollMarginBlockStart:w,scrollMarginInline:w,scrollMarginInlineEnd:w,scrollMarginInlineStart:w,scrollPadding:w,scrollPaddingTop:w,scrollPaddingRight:w,scrollPaddingBottom:w,scrollPaddingLeft:w,scrollPaddingX:w,scrollPaddingY:w,scrollPaddingBlock:w,scrollPaddingBlockEnd:w,scrollPaddingBlockStart:w,scrollPaddingInline:w,scrollPaddingInlineEnd:w,scrollPaddingInlineStart:w,fontSize:"fontSizes",background:b,backgroundColor:b,backgroundImage:b,borderImage:b,border:b,borderBlock:b,borderBlockEnd:b,borderBlockStart:b,borderBottom:b,borderBottomColor:b,borderColor:b,borderInline:b,borderInlineEnd:b,borderInlineStart:b,borderLeft:b,borderLeftColor:b,borderRight:b,borderRightColor:b,borderTop:b,borderTopColor:b,caretColor:b,color:b,columnRuleColor:b,fill:b,outline:b,outlineColor:b,stroke:b,textDecorationColor:b,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:k,minBlockSize:k,maxBlockSize:k,inlineSize:k,minInlineSize:k,maxInlineSize:k,width:k,minWidth:k,maxWidth:k,height:k,minHeight:k,maxHeight:k,flexBasis:k,gridTemplateColumns:k,gridTemplateRows:k,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},x=function(e,t){return"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t},S=function(){var e=Object.create(null);return function(t,n){for(var r=function(e){return JSON.stringify(e,x)}(t),i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return r in e?e[r]:e[r]=n.apply(void 0,[t].concat(a))}},C=Symbol.for("sxs.internal"),E=function(e,t){return Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))},T=function(e){for(var t in e)return!0;return!1},_=Object.prototype.hasOwnProperty,P=function(e){return e.includes("-")?e:e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},I=/\s+(?![^()]*\))/,O=function(e){return function(t){return e.apply(void 0,(0,v.Z)("string"==typeof t?String(t).split(I):[t]))}},j={appearance:function(e){return{WebkitAppearance:e,appearance:e}},backfaceVisibility:function(e){return{WebkitBackfaceVisibility:e,backfaceVisibility:e}},backdropFilter:function(e){return{WebkitBackdropFilter:e,backdropFilter:e}},backgroundClip:function(e){return{WebkitBackgroundClip:e,backgroundClip:e}},boxDecorationBreak:function(e){return{WebkitBoxDecorationBreak:e,boxDecorationBreak:e}},clipPath:function(e){return{WebkitClipPath:e,clipPath:e}},content:function(e){return{content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}},hyphens:function(e){return{WebkitHyphens:e,hyphens:e}},maskImage:function(e){return{WebkitMaskImage:e,maskImage:e}},maskSize:function(e){return{WebkitMaskSize:e,maskSize:e}},tabSize:function(e){return{MozTabSize:e,tabSize:e}},textSizeAdjust:function(e){return{WebkitTextSizeAdjust:e,textSizeAdjust:e}},userSelect:function(e){return{WebkitUserSelect:e,userSelect:e}},marginBlock:O((function(e,t){return{marginBlockStart:e,marginBlockEnd:t||e}})),marginInline:O((function(e,t){return{marginInlineStart:e,marginInlineEnd:t||e}})),maxSize:O((function(e,t){return{maxBlockSize:e,maxInlineSize:t||e}})),minSize:O((function(e,t){return{minBlockSize:e,minInlineSize:t||e}})),paddingBlock:O((function(e,t){return{paddingBlockStart:e,paddingBlockEnd:t||e}})),paddingInline:O((function(e,t){return{paddingInlineStart:e,paddingInlineEnd:t||e}}))},M=/([\d.]+)([^]*)/,F=function(e,t){return e.length?e.reduce((function(e,n){return e.push.apply(e,(0,v.Z)(t.map((function(e){return e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e})))),e}),[]):t},z=function(e,t){return e in A&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(function(t,n,r,i){return n+("stretch"===r?"-moz-available".concat(i,";").concat(P(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(P(e),":").concat(n,"fit-content"))+i})):String(t)},A={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},R=function(e){return e?e+"-":""},L=function(e,t,n){return e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(function(e,r,i,a,o){return"$"==a==!!i?e:(r||"--"==a?"calc(":"")+"var(--"+("$"===a?R(t)+(o.includes("$")?"":R(n))+o.replace(/\$/g,"-"):o)+")"+(r||"--"==a?"*"+(r||"")+(i||"1")+")":"")}))},N=/\s*,\s*(?![^()]*\))/,D=Object.prototype.toString,V=function(e,t,n,r,i){var a,o,u;!function e(t,n,c){var l,f;(function t(d){for(l in d){var h,m=64===l.charCodeAt(0),g=m&&Array.isArray(d[l])?d[l]:[d[l]],y=(0,p.Z)(g);try{for(y.s();!(h=y.n()).done;){f=h.value;var b=/[A-Z]/.test(E=l)?E:E.replace(/-[^]/g,(function(e){return e[1].toUpperCase()})),k="object"==typeof f&&f&&f.toString===D&&(!r.utils[b]||!n.length);if(b in r.utils&&!k){var w=r.utils[b];if(w!==o){o=w,t(w(f)),o=null;continue}}else if(b in j){var Z=j[b];if(Z!==u){u=Z,t(Z(f)),u=null;continue}}if(m&&(C=l.slice(1)in r.media?"@media "+r.media[l.slice(1)]:l,l=C.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(function(e,t,n,r,i,a){var o=M.test(t),u=.0625*(o?-1:1),c=o?[r,t]:[t,r],l=(0,s.Z)(c,2),f=l[0],d=l[1];return"("+("="===n[0]?"":">"===n[0]===o?"max-":"min-")+f+":"+("="!==n[0]&&1===n.length?d.replace(M,(function(e,t,r){return Number(t)+u*(">"===n?1:-1)+r})):d)+(i?") and ("+(">"===i[0]?"min-":"max-")+f+":"+(1===i.length?a.replace(M,(function(e,t,n){return Number(t)+u*(">"===i?-1:1)+n})):a):"")+")"}))),k){var x=m?c.concat(l):(0,v.Z)(c),S=m?(0,v.Z)(n):F(n,l.split(N));void 0!==a&&i(B.apply(void 0,(0,v.Z)(a))),a=void 0,e(f,S,x)}else void 0===a&&(a=[[],n,c]),l=m||36!==l.charCodeAt(0)?l:"--".concat(R(r.prefix)).concat(l.slice(1).replace(/\$/g,"-")),f=k?f:"number"==typeof f?f&&b in H?String(f)+"px":String(f):L(z(b,null==f?"":f),r.prefix,r.themeMap[b]),a[0].push("".concat(m?"".concat(l," "):"".concat(P(l),":")).concat(f))}}catch(T){y.e(T)}finally{y.f()}}var C,E})(t),void 0!==a&&i(B.apply(void 0,(0,v.Z)(a))),a=void 0}(e,t,n)},B=function(e,t,n){return"".concat(n.map((function(e){return"".concat(e,"{")})).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}"))},H={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},U=function(e){return String.fromCharCode(e+(e>25?39:97))},q=function(e){return function(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=U(t%52)+n;return U(t%52)+n}(function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e}(5381,JSON.stringify(e))>>>0)},W=["themed","global","styled","onevar","resonevar","allvar","inline"],G=function(e){if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},$=function(e){var t=e.group,n=t.cssRules.length;e.apply=function(e){try{t.insertRule(e,n),++n}catch(e){}}},J=Symbol(),K=S(),Q=function(e,t){return K(e,(function(){return function(){for(var n={type:null,composers:new Set},r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,u=i;o<u.length;o++){var s=u[o];if(null!=s)if(s[C]){null==n.type&&(n.type=s[C].type);var c,l=(0,p.Z)(s[C].composers);try{for(l.s();!(c=l.n()).done;){var f=c.value;n.composers.add(f)}}catch(d){l.e(d)}finally{l.f()}}else s.constructor!==Object||s.$$typeof?null==n.type&&(n.type=s):n.composers.add(Y(s,e))}return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),X(e,n,t)}}))},Y=function(e,t){var n,r,i=e.variants,a=e.compoundVariants,o=e.defaultVariants,u=(0,h.Z)(e,m),s="".concat(R(t.prefix),"c-").concat(q(u)),c=[],l=[],f=Object.create(null),v=[];for(var y in o)f[y]=String(o[y]);if("object"==typeof i&&i)for(var b in i){n=f,r=b,_.call(n,r)||(f[b]="undefined");var k=i[b];for(var w in k){var Z=(0,d.Z)({},b,String(w));"undefined"===String(w)&&v.push(b);var x=k[w],S=[Z,x,!T(x)];c.push(S)}}if("object"==typeof a&&a){var C,E=(0,p.Z)(a);try{for(E.s();!(C=E.n()).done;){var P=C.value,I=P.css,O=(0,h.Z)(P,g);for(var j in I="object"==typeof I&&I||{},O)O[j]=String(O[j]);var M=[O,I,!T(I)];l.push(M)}}catch(F){E.e(F)}finally{E.f()}}return[s,u,c,l,f,v]},X=function(e,t,n){var r,i=ee(t.composers),a=(0,s.Z)(i,4),o=a[0],c=a[1],l=a[2],f=a[3],m="function"==typeof t.type||t.type.$$typeof?function(e){function t(){for(var n=0;n<t[J].length;n++){var r=(0,s.Z)(t[J][n],2),i=r[0],a=r[1];e.rules[i].apply(a)}return t[J]=[],null}return t[J]=[],t.rules={},W.forEach((function(e){return t.rules[e]={apply:function(n){return t[J].push([e,n])}}})),t}(n):null,g=(m||n).rules,b=".".concat(o).concat(c.length>1?":where(.".concat(c.slice(1).join("."),")"):""),k=function(r){var i=r="object"==typeof r&&r||ne,a=i.css,d=(0,h.Z)(i,y),k={};for(var w in l)if(delete d[w],w in r){var Z=r[w];"object"==typeof Z&&Z?k[w]=(0,u.Z)({"@initial":l[w]},Z):(Z=String(Z),k[w]="undefined"!==Z||f.has(w)?Z:l[w])}else k[w]=l[w];var x,S=new Set((0,v.Z)(c)),C=(0,p.Z)(t.composers);try{for(C.s();!(x=C.n()).done;){var E=(0,s.Z)(x.value,4),T=E[0],_=E[1],P=E[2],I=E[3];n.rules.styled.cache.has(T)||(n.rules.styled.cache.add(T),V(_,[".".concat(T)],[],e,(function(e){g.styled.apply(e)})));var O,j=te(P,k,e.media),M=te(I,k,e.media,!0),F=(0,p.Z)(j);try{for(F.s();!(O=F.n()).done;){var z=O.value;if(void 0!==z){var A,R=(0,p.Z)(z);try{var L=function(){var t=(0,s.Z)(A.value,3),r=t[0],i=t[1],a=t[2],o="".concat(T,"-").concat(q(i),"-").concat(r);S.add(o);var u=(a?n.rules.resonevar:n.rules.onevar).cache,c=a?g.resonevar:g.onevar;u.has(o)||(u.add(o),V(i,[".".concat(o)],[],e,(function(e){c.apply(e)})))};for(R.s();!(A=R.n()).done;)L()}catch(re){R.e(re)}finally{R.f()}}}}catch(re){F.e(re)}finally{F.f()}var N,D=(0,p.Z)(M);try{for(D.s();!(N=D.n()).done;){var B=N.value;if(void 0!==B){var H,U=(0,p.Z)(B);try{for(U.s();!(H=U.n()).done;){var W=(0,s.Z)(H.value,2),G=W[0],$=W[1],J="".concat(T,"-").concat(q($),"-").concat(G);S.add(J),n.rules.allvar.cache.has(J)||(n.rules.allvar.cache.add(J),V($,[".".concat(J)],[],e,(function(e){g.allvar.apply(e)})))}}catch(re){U.e(re)}finally{U.f()}}}}catch(re){D.e(re)}finally{D.f()}}}catch(re){C.e(re)}finally{C.f()}if("object"==typeof a&&a){var K="".concat(o,"-i").concat(q(a),"-css");S.add(K),n.rules.inline.cache.has(K)||(n.rules.inline.cache.add(K),V(a,[".".concat(K)],[],e,(function(e){g.inline.apply(e)})))}var Q,Y=(0,p.Z)(String(r.className||"").trim().split(/\s+/));try{for(Y.s();!(Q=Y.n()).done;){var X=Q.value;X&&S.add(X)}}catch(re){Y.e(re)}finally{Y.f()}var ee=d.className=(0,v.Z)(S).join(" ");return{type:t.type,className:ee,selector:b,props:d,toString:function(){return ee},deferredInjector:m}};return E(k,(r={className:o,selector:b},(0,d.Z)(r,C,t),(0,d.Z)(r,"toString",(function(){return n.rules.styled.cache.has(o)||k(),o})),r))},ee=function(e){var t,n="",r=[],i={},a=[],o=(0,p.Z)(e);try{for(o.s();!(t=o.n()).done;){var u=(0,s.Z)(t.value,6),c=u[0],l=u[4],f=u[5];for(var d in""===n&&(n=c),r.push(c),a.push.apply(a,(0,v.Z)(f)),l){var h=l[d];(void 0===i[d]||"undefined"!==h||f.includes(h))&&(i[d]=h)}}}catch(m){o.e(m)}finally{o.f()}return[n,r,i,new Set(a)]},te=function(e,t,n,r){var i,a=[],o=(0,p.Z)(e);try{e:for(o.s();!(i=o.n()).done;){var u=(0,s.Z)(i.value,3),c=u[0],l=u[1];if(!u[2]){var f=void 0,h=0,v=!1;for(f in c){var m=c[f],g=t[f];if(g!==m){if("object"!=typeof g||!g)continue e;var y=void 0,b=void 0,k=0;for(var w in g){if(m===String(g[w])){if("@initial"!==w){var Z=w.slice(1);(b=b||[]).push(Z in n?n[Z]:w.replace(/^@media ?/,"")),v=!0}h+=k,y=!0}++k}if(b&&b.length&&(l=(0,d.Z)({},"@media "+b.join(", "),l)),!y)continue e}}(a[h]=a[h]||[]).push([r?"cv":"".concat(f,"-").concat(c[f]),l,v])}}}catch(x){o.e(x)}finally{o.f()}return a},ne={},re=S(),ie=function(e,t){return re(e,(function(){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=function(){for(var n=0,i=r;n<i.length;n++){var a=i[n],o=q(a="object"==typeof a&&a||{});if(!t.rules.global.cache.has(o)){if(t.rules.global.cache.add(o),"@import"in a){var u,s=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1,c=(0,p.Z)([].concat(a["@import"]));try{for(c.s();!(u=c.n()).done;){var l=u.value;l=l.includes('"')||l.includes("'")?l:'"'.concat(l,'"'),t.sheet.insertRule("@import ".concat(l,";"),s++)}}catch(f){c.e(f)}finally{c.f()}delete a["@import"]}V(a,[],[],e,(function(e){t.rules.global.apply(e)}))}}return""};return E(a,{toString:a})}}))},ae=S(),oe=function(e,t){return ae(e,(function(){return function(n){var r="".concat(R(e.prefix),"k-").concat(q(n)),i=function(){if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);var i=[];V(n,[],[],e,(function(e){return i.push(e)}));var a="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(a)}return r};return E(i,{get name(){return i()},toString:i})}}))},ue=function(){function e(t,n,r,i){(0,l.Z)(this,e),this.token=null==t?"":String(t),this.value=null==n?"":String(n),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}return(0,f.Z)(e,[{key:"computedValue",get:function(){return"var("+this.variable+")"}},{key:"variable",get:function(){return"--"+R(this.prefix)+R(this.scale)+this.token}},{key:"toString",value:function(){return this.computedValue}}]),e}(),se=S(),ce=function(e,t){return se(e,(function(){return function(n,r){r="object"==typeof n&&n||Object(r);var i=".".concat(n=(n="string"==typeof n?n:"")||"".concat(R(e.prefix),"t-").concat(q(r))),a={},o=[];for(var s in r)for(var c in a[s]={},r[s]){var l="--".concat(R(e.prefix)).concat(s,"-").concat(c),f=L(String(r[s][c]),e.prefix,s);a[s][c]=new ue(c,f,s,e.prefix),o.push("".concat(l,":").concat(f))}var d=function(){if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);var i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(o.join(";"),"}");t.rules.themed.apply(i)}return n};return(0,u.Z)((0,u.Z)({},a),{},{get className(){return d()},selector:i,toString:d})}}))},le=S(),fe=function(e){var t=!1,n=le(e,(function(e){t=!0;var n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,a="object"==typeof e.theme&&e.theme||{},o={prefix:n,media:r,theme:a,themeMap:"object"==typeof e.themeMap&&e.themeMap||(0,u.Z)({},Z),utils:"object"==typeof e.utils&&e.utils||{}},s=function(e){var t,n=function(){var e=t.sheet.cssRules;return[].map.call(e,(function(n,r){var i=n.cssText,a="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(a=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(var o in t.rules)if(t.rules[o].group===n)return"--sxs{--sxs:".concat((0,v.Z)(t.rules[o].cache).join(" "),"}").concat(i);return n.cssRules.length?"".concat(a).concat(i):""}return i})).join("")};return function r(){if(t){var i=t,a=i.rules,o=i.sheet;if(!o.deleteRule){for(;3===Object(Object(o.cssRules)[0]).type;)o.cssRules.splice(0,1);o.cssRules=[]}for(var u in a)delete a[u]}var s,c=Object(e).styleSheets||[],l=(0,p.Z)(c);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(G(f)){for(var d=0,h=f.cssRules;h[d];++d){var v=Object(h[d]);if(1===v.type){var m=Object(h[d+1]);if(4===m.type){++d;var g=v.cssText;if(g.startsWith("--sxs")){var y=g.slice(14,-3).trim().split(/\s+/),b=W[y[0]];b&&(t||(t={sheet:f,reset:r,rules:{},toString:n}),t.rules[b]={group:m,index:d,cache:new Set(y)})}}}}if(t)break}}}catch(T){l.e(T)}finally{l.f()}t||(t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:function e(t,n){return{type:n,cssRules:[],insertRule:function(t,n){this.cssRules.splice(n,0,e(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?"@media{".concat([].map.call(this.cssRules,(function(e){return e.cssText})).join(""),"}"):t}}}("","text/css"),rules:{},reset:r,toString:n});for(var k=t,w=k.sheet,Z=k.rules,x=W.length-1;x>=0;--x){var S=W[x];if(!Z[S]){var C=W[x+1],E=Z[C]?Z[C].index:w.cssRules.length;w.insertRule("@media{}",E),w.insertRule("--sxs{--sxs:".concat(x,"}"),E),Z[S]={group:w.cssRules[E+1],index:E,cache:new Set([x])}}$(Z[S])}}(),t}(i),c={css:Q(o,s),globalCss:ie(o,s),keyframes:oe(o,s),createTheme:ce(o,s),reset:function(){s.reset(),c.theme.toString()},theme:{},sheet:s,config:o,prefix:n,getCssText:s.toString,toString:s.toString};return String(c.theme=c.createTheme(a)),c}));return t||n.reset(),n},de=function(){return r||(r=fe())},he=function(){var e;return(e=de()).createTheme.apply(e,arguments)},pe=function(){var e;return(e=de()).css.apply(e,arguments)};function ve(e,t){var n;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)e[n]=ve(e[n],t[n]);else for(n in t)e[n]=ve(e[n],t[n]);return e}return t}function me(e){for(var t=arguments.length<=1?0:arguments.length-1,n=0;n<t;n++)e=ve(e,n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return e}var ge={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password"},ye="supabase-ui-auth",be={ROOT:"root",SIGN_IN:ge.SIGN_IN,SIGN_UP:ge.SIGN_UP,FORGOTTEN_PASSWORD:ge.FORGOTTEN_PASSWORD,MAGIC_LINK:ge.MAGIC_LINK,UPDATE_PASSWORD:ge.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"},ke=n(4165);function we(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ze(e,t,n,i){return new(n||(n=Promise))((function(a,o){function u(e){try{c(i.next(e))}catch(r){o(r)}}function s(e){try{c(i.throw(e))}catch(r){o(r)}}function c(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(u,s)}c((i=i.apply(e,t||[])).next())}))}function xe(e,t,n){var r,i,a=[],o=be[e];return a.push((null===n||void 0===n?void 0:n.prependedClassName)?(null===n||void 0===n?void 0:n.prependedClassName)+"_"+o:ye+"_"+o),(null===(r=null===n||void 0===n?void 0:n.className)||void 0===r?void 0:r[e])&&a.push(null===(i=null===n||void 0===n?void 0:n.className)||void 0===i?void 0:i[e]),a.push(t),a}var Se=pe({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Ce=function(e){var t,n=e.children,r=e.appearance,i=we(e,["children","appearance"]),a=xe("anchor",Se(),r);return(0,c.jsx)("a",Object.assign({},i,{style:null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.anchor,className:a.join(" ")},{children:n}))},Ee=pe({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionPproperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover":{backgroundColor:"$brandAccent"}}}}}),Te=function(e){var t,n=e.children,r=e.color,i=void 0===r?"default":r,a=e.appearance,o=e.icon,u=e.loading,s=void 0!==u&&u,l=we(e,["children","color","appearance","icon","loading"]),f=xe("button",Ee({color:i}),a);return(0,c.jsxs)("button",Object.assign({},l,{style:null===(t=null===a||void 0===a?void 0:a.style)||void 0===t?void 0:t.button,className:f.join(" "),disabled:s},{children:[o,n]}))},_e=pe({display:"flex",gap:"4px",variants:{direction:{horizontal:{flexDirection:"row",margin:"4px 0"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Pe=function(e){var t,n=e.children,r=e.appearance,i=we(e,["children","appearance"]),a=xe("container",_e({direction:i.direction,gap:i.gap}),r);return(0,c.jsx)("div",Object.assign({},i,{style:null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.container,className:a.join(" ")},{children:n}))},Ie=pe({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionPproperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"6px"}}}}),Oe=function(e){var t,n=e.children,r=e.appearance,i=we(e,["children","appearance"]),a=xe("input",Ie({type:"password"===i.type?"password":"default"}),r);return(0,c.jsx)("input",Object.assign({},i,{style:null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.input,className:a.join(" ")},{children:n}))},je=pe({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Me=function(e){var t,n=e.children,r=e.appearance,i=we(e,["children","appearance"]),a=xe("label",je(),r);return(0,c.jsx)("label",Object.assign({},i,{style:null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.label,className:a.join(" ")},{children:n}))},Fe=pe({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",variants:{color:{default:{color:"$messageText"},danger:{color:"$messageTextDanger"}}}}),ze=function(e){var t,n=e.children,r=e.appearance,i=we(e,["children","appearance"]),a=xe("message",Fe({color:i.color}),r);return(0,c.jsx)("span",Object.assign({},i,{style:null===(t=null===r||void 0===r?void 0:r.style)||void 0===t?void 0:t.message,className:a.join(" ")},{children:n}))};function Ae(e){var t,n,r,i,o=this,u=e.setAuthView,l=e.supabaseClient,f=e.redirectTo,d=e.i18n,h=e.appearance,p=e.showLinks,v=(0,a.useState)(""),m=(0,s.Z)(v,2),g=m[0],y=m[1],b=(0,a.useState)(""),k=(0,s.Z)(b,2),w=k[0],Z=k[1],x=(0,a.useState)(""),S=(0,s.Z)(x,2),C=S[0],E=S[1],T=(0,a.useState)(!1),_=(0,s.Z)(T,2),P=_[0],I=_[1];return(0,c.jsx)("form",Object.assign({id:"auth-magic-link",onSubmit:function(e){return Ze(o,void 0,void 0,(0,ke.Z)().mark((function t(){var n,r;return(0,ke.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),Z(""),E(""),I(!0),t.next=6,l.auth.signInWithOtp({email:g,options:{emailRedirectTo:f}});case 6:n=t.sent,(r=n.error)?Z(r.message):E("Check your email for the magic link"),I(!1);case 10:case"end":return t.stop()}}),t)})))}},{children:(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:h},{children:[(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:h},{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(Me,Object.assign({appearance:h},{children:null===(t=null===d||void 0===d?void 0:d.magic_link)||void 0===t?void 0:t.email_input_label})),(0,c.jsx)(Oe,{type:"email",placeholder:null===(n=null===d||void 0===d?void 0:d.magic_link)||void 0===n?void 0:n.email_input_placeholder,onChange:function(e){return y(e.target.value)},appearance:h})]}),(0,c.jsx)(Te,Object.assign({color:"primary",type:"submit",loading:P,appearance:h},{children:null===(r=null===d||void 0===d?void 0:d.magic_link)||void 0===r?void 0:r.button_label}))]})),p&&(0,c.jsx)(Ce,Object.assign({href:"#auth-sign-in",onClick:function(e){e.preventDefault(),u(ge.SIGN_IN)},appearance:h},{children:null===(i=null===d||void 0===d?void 0:d.sign_in)||void 0===i?void 0:i.link_text})),C&&(0,c.jsx)(ze,Object.assign({appearance:h},{children:C})),w&&(0,c.jsx)(ze,Object.assign({color:"danger",appearance:h},{children:w}))]}))}))}var Re=pe({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),Le=function(e){e.children;var t,n=e.appearance,r=we(e,["children","appearance"]),i=xe("divider",Re(),n);return(0,c.jsx)("div",Object.assign({},r,{style:null===(t=null===n||void 0===n?void 0:n.style)||void 0===t?void 0:t.divider,className:i.join(" ")}))},Ne=pe({width:"21px",height:"21px"}),De=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,c.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,c.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,c.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}))},Ve=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsx)("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),(0,c.jsx)("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})]}))},Be=function(){return(0,c.jsx)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:(0,c.jsx)("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})}))},He=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"512px",height:"512px"},{children:[" ",(0,c.jsx)("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})]}))},Ue=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"512px",height:"512px"},{children:[" ",(0,c.jsx)("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})]}))},qe=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsx)("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),(0,c.jsx)("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),(0,c.jsx)("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),(0,c.jsx)("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),(0,c.jsx)("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),(0,c.jsx)("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),(0,c.jsx)("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})]}))},We=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},{children:[(0,c.jsx)("defs",{children:(0,c.jsxs)("linearGradient",Object.assign({id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},{children:[(0,c.jsx)("stop",{offset:"0.18","stop-color":"#0052cc"}),(0,c.jsx)("stop",{offset:"1","stop-color":"#2684ff"})]}))}),(0,c.jsx)("title",{children:"Bitbucket-blue"}),(0,c.jsx)("g",Object.assign({id:"Layer_2","data-name":"Layer 2"},{children:(0,c.jsxs)("g",Object.assign({id:"Blue",transform:"translate(0 -3.13)"},{children:[(0,c.jsx)("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),(0,c.jsx)("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})]}))}))]}))},Ge=function(){return(0,c.jsx)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:(0,c.jsx)("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068\tc-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291\tc-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051\tc-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554\tc0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194\tc-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534\tc0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017\tc0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634\tc-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052\tc3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044\tC39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435\tc2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435\ts1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})}))},$e=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,c.jsx)("stop",{offset:"0","stop-color":"#114a8b"}),(0,c.jsx)("stop",{offset:"1","stop-color":"#0669bc"})]})),(0,c.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),(0,c.jsx)("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),(0,c.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,c.jsx)("stop",{offset:"0","stop-opacity":".3"}),(0,c.jsx)("stop",{offset:".071","stop-opacity":".2"}),(0,c.jsx)("stop",{offset:".321","stop-opacity":".1"}),(0,c.jsx)("stop",{offset:".623","stop-opacity":".05"}),(0,c.jsx)("stop",{offset:"1","stop-opacity":"0"})]})),(0,c.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),(0,c.jsxs)("linearGradient",Object.assign({id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},{children:[(0,c.jsx)("stop",{offset:"0","stop-color":"#3ccbf4"}),(0,c.jsx)("stop",{offset:"1","stop-color":"#2892df"})]})),(0,c.jsx)("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})]}))},Je=function(){return(0,c.jsx)("svg",Object.assign({className:Ne(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,c.jsx)("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})}))},Ke=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsx)("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),(0,c.jsx)("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})]}))},Qe=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px","fill-rule":"evenodd","clip-rule":"evenodd"},{children:[(0,c.jsx)("path",{fill:"#fff","fill-rule":"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z","clip-rule":"evenodd"}),(0,c.jsx)("path",{fill:"#fff","fill-rule":"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z","clip-rule":"evenodd"}),(0,c.jsx)("path",{fill:"#424242","fill-rule":"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z","clip-rule":"evenodd"})]}))},Ye=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"512px",height:"512px"},{children:[(0,c.jsx)("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4\tC33,17.741,33,9.254,33,8z"}),(0,c.jsx)("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),(0,c.jsx)("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4\tC17.741,14,9.254,14,8,14z"}),(0,c.jsx)("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),(0,c.jsx)("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984\tc0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),(0,c.jsx)("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994\tS4,30.228,4,28.022z"}),(0,c.jsx)("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4\tC29.258,33,37.746,33,39,33z"}),(0,c.jsx)("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})]}))},Xe=function(){return(0,c.jsx)("svg",Object.assign({className:Ne(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,c.jsx)("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})}))},et=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),(0,c.jsx)("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),(0,c.jsx)("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),(0,c.jsx)("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})]}))},tt=function(){return(0,c.jsxs)("svg",Object.assign({className:Ne(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,c.jsx)("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),(0,c.jsx)("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})]}))};function nt(t){var n=this,r=t.supabaseClient,i=t.socialLayout,o=void 0===i?"vertical":i,u=t.providers,l=t.redirectTo,f=t.onlyThirdPartyProviders,d=t.view,h=t.i18n,p=t.appearance,v=(0,a.useState)(!1),m=(0,s.Z)(v,2),g=m[0],y=m[1],b=(0,a.useState)(""),k=(0,s.Z)(b,2),w=(k[0],k[1]),Z="vertical"===o;function x(e){var t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}return(0,c.jsx)(c.Fragment,{children:u&&u.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:p},{children:(0,c.jsx)(Pe,Object.assign({direction:Z?"vertical":"horizontal",gap:Z?"small":"medium",appearance:p},{children:u.map((function(t){var i,a=e[t];return(0,c.jsx)(Te,Object.assign({color:"default",icon:a?(0,c.jsx)(a,{}):"",loading:g,onClick:function(){return function(e){return Ze(n,void 0,void 0,(0,ke.Z)().mark((function t(){var n,i;return(0,ke.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,r.auth.signInWithOAuth({provider:e,options:{redirectTo:l}});case 3:n=t.sent,(i=n.error)&&w(i.message),y(!1);case 7:case"end":return t.stop()}}),t)})))}(t)},appearance:p},{children:Z&&(null===(i=h[d])||void 0===i?void 0:i.social_provider_text)+" "+x(t)}),t)}))}))})),!f&&(0,c.jsx)(Le,{appearance:p})]})})}var rt={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password"};function it(e){var t,n,r,i,o,u,l,f,d,h=this,p=e.authView,v=void 0===p?"sign_in":p,m=e.defaultEmail,g=e.defaultPassword,y=e.setAuthView,b=e.setDefaultEmail,k=e.setDefaultPassword,w=e.supabaseClient,Z=e.showLinks,x=void 0===Z||Z,S=(e.redirectTo,e.magicLink),C=e.i18n,E=e.appearance,T=(0,a.useRef)(!0),_=(0,a.useState)(m),P=(0,s.Z)(_,2),I=P[0],O=P[1],j=(0,a.useState)(g),M=(0,s.Z)(j,2),F=M[0],z=M[1],A=(0,a.useState)(""),R=(0,s.Z)(A,2),L=R[0],N=R[1],D=(0,a.useState)(!1),V=(0,s.Z)(D,2),B=V[0],H=V[1],U=(0,a.useState)(""),q=(0,s.Z)(U,2),W=q[0],G=q[1];(0,a.useEffect)((function(){return O(m),z(g),function(){T.current=!1}}),[v]);var $=function(e){b(I),k(F),y(e)};return(0,c.jsxs)("form",Object.assign({id:"sign_in"===v?"auth-sign-in":"auth-sign-up",onSubmit:function(e){return Ze(h,void 0,void 0,(0,ke.Z)().mark((function t(){var n,r,i,a,o,u,s;return(0,ke.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),N(""),H(!0),t.t0=v,t.next="sign_in"===t.t0?6:"sign_up"===t.t0?12:21;break;case 6:return t.next=8,w.auth.signInWithPassword({email:I,password:F});case 8:return n=t.sent,(r=n.error)&&N(r.message),t.abrupt("break",21);case 12:return t.next=14,w.auth.signUp({email:I,password:F});case 14:return i=t.sent,a=i.data,o=a.user,u=a.session,(s=i.error)?N(s.message):o&&!u&&G("Check your email for the confirmation link."),t.abrupt("break",21);case 21:T.current&&H(!1);case 22:case"end":return t.stop()}}),t)})))},autoComplete:"on",style:{width:"100%"}},{children:[(0,c.jsxs)(Pe,Object.assign({direction:"vertical",gap:"large",appearance:E},{children:[(0,c.jsxs)(Pe,Object.assign({direction:"vertical",gap:"large",appearance:E},{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(Me,Object.assign({htmlFor:"email",appearance:E},{children:null===(t=null===C||void 0===C?void 0:C[v])||void 0===t?void 0:t.email_label})),(0,c.jsx)(Oe,{type:"email",name:"email",placeholder:null===(n=null===C||void 0===C?void 0:C[v])||void 0===n?void 0:n.email_input_placeholder,defaultValue:I,onChange:function(e){return O(e.target.value)},autoComplete:"email",appearance:E})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(Me,Object.assign({htmlFor:"password",appearance:E},{children:null===(r=null===C||void 0===C?void 0:C[v])||void 0===r?void 0:r.password_label})),(0,c.jsx)(Oe,{type:"password",name:"password",placeholder:null===(i=null===C||void 0===C?void 0:C[v])||void 0===i?void 0:i.password_input_placeholder,defaultValue:F,onChange:function(e){return z(e.target.value)},autoComplete:"sign_in"===v?"current-password":"new-password",appearance:E})]})]})),(0,c.jsx)(Te,Object.assign({type:"submit",color:"primary",loading:B,appearance:E},{children:null===(o=null===C||void 0===C?void 0:C[v])||void 0===o?void 0:o.button_label})),x&&(0,c.jsxs)(Pe,Object.assign({direction:"vertical",gap:"small",appearance:E},{children:[v===rt.SIGN_IN&&S&&(0,c.jsx)(Ce,Object.assign({href:"#auth-magic-link",onClick:function(e){e.preventDefault(),y(rt.MAGIC_LINK)},appearance:E},{children:null===(u=null===C||void 0===C?void 0:C.magic_link)||void 0===u?void 0:u.link_text})),v===rt.SIGN_IN&&(0,c.jsx)(Ce,Object.assign({href:"#auth-forgot-password",onClick:function(e){e.preventDefault(),y(rt.FORGOTTEN_PASSWORD)},appearance:E},{children:null===(l=null===C||void 0===C?void 0:C.forgotten_password)||void 0===l?void 0:l.link_text})),v===rt.SIGN_IN?(0,c.jsx)(Ce,Object.assign({href:"#auth-sign-up",onClick:function(e){e.preventDefault(),$(rt.SIGN_UP)},appearance:E},{children:null===(f=null===C||void 0===C?void 0:C.sign_up)||void 0===f?void 0:f.link_text})):(0,c.jsx)(Ce,Object.assign({href:"#auth-sign-in",onClick:function(e){e.preventDefault(),$(rt.SIGN_IN)},appearance:E},{children:null===(d=null===C||void 0===C?void 0:C.sign_in)||void 0===d?void 0:d.link_text}))]}))]})),W&&(0,c.jsx)(ze,Object.assign({appearance:E},{children:W})),L&&(0,c.jsx)(ze,Object.assign({color:"danger",appearance:E},{children:L}))]}))}function at(e){var t,n,r,i,o=this,u=e.setAuthView,l=e.supabaseClient,f=e.redirectTo,d=e.i18n,h=e.appearance,p=e.showLinks,v=(0,a.useState)(""),m=(0,s.Z)(v,2),g=m[0],y=m[1],b=(0,a.useState)(""),k=(0,s.Z)(b,2),w=k[0],Z=k[1],x=(0,a.useState)(""),S=(0,s.Z)(x,2),C=S[0],E=S[1],T=(0,a.useState)(!1),_=(0,s.Z)(T,2),P=_[0],I=_[1];return(0,c.jsx)("form",Object.assign({id:"auth-forgot-password",onSubmit:function(e){return Ze(o,void 0,void 0,(0,ke.Z)().mark((function t(){var n,r;return(0,ke.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),Z(""),E(""),I(!0),t.next=6,l.auth.resetPasswordForEmail(g,{redirectTo:f});case 6:n=t.sent,(r=n.error)?Z(r.message):E("Check your email for the password reset link"),I(!1);case 10:case"end":return t.stop()}}),t)})))}},{children:(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:h},{children:[(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:h},{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(Me,Object.assign({htmlFor:"email",appearance:h},{children:null===(t=null===d||void 0===d?void 0:d.forgotten_password)||void 0===t?void 0:t.email_label})),(0,c.jsx)(Oe,{name:"email",type:"email",placeholder:null===(n=null===d||void 0===d?void 0:d.forgotten_password)||void 0===n?void 0:n.email_input_placeholder,onChange:function(e){return y(e.target.value)},appearance:h})]}),(0,c.jsx)(Te,Object.assign({type:"submit",color:"primary",loading:P,appearance:h},{children:null===(r=null===d||void 0===d?void 0:d.forgotten_password)||void 0===r?void 0:r.button_label}))]})),p&&(0,c.jsx)(Ce,Object.assign({href:"#auth-sign-in",onClick:function(e){e.preventDefault(),u(ge.SIGN_IN)},appearance:h},{children:null===(i=null===d||void 0===d?void 0:d.sign_in)||void 0===i?void 0:i.link_text})),C&&(0,c.jsx)(ze,Object.assign({appearance:h},{children:C})),w&&(0,c.jsx)(ze,Object.assign({color:"danger",appearance:h},{children:w}))]}))}))}function ot(e){var t,n,r,i=this,o=e.supabaseClient,u=e.i18n,l=e.appearance,f=(0,a.useState)(""),d=(0,s.Z)(f,2),h=d[0],p=d[1],v=(0,a.useState)(""),m=(0,s.Z)(v,2),g=m[0],y=m[1],b=(0,a.useState)(""),k=(0,s.Z)(b,2),w=k[0],Z=k[1],x=(0,a.useState)(!1),S=(0,s.Z)(x,2),C=S[0],E=S[1];return(0,c.jsx)("form",Object.assign({id:"auth-update-password",onSubmit:function(e){return Ze(i,void 0,void 0,(0,ke.Z)().mark((function t(){var n,r;return(0,ke.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),y(""),Z(""),E(!0),t.next=6,o.auth.updateUser({password:h});case 6:n=t.sent,(r=n.error)?y(r.message):Z("Your password has been updated"),E(!1);case 10:case"end":return t.stop()}}),t)})))}},{children:(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:l},{children:[(0,c.jsxs)(Pe,Object.assign({gap:"large",direction:"vertical",appearance:l},{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(Me,Object.assign({htmlFor:"password",appearance:l},{children:null===(t=null===u||void 0===u?void 0:u.update_password)||void 0===t?void 0:t.password_label})),(0,c.jsx)(Oe,{name:"password",placeholder:null===(n=null===u||void 0===u?void 0:u.update_password)||void 0===n?void 0:n.password_label,type:"password",onChange:function(e){return p(e.target.value)},appearance:l})]}),(0,c.jsx)(Te,Object.assign({type:"submit",color:"primary",loading:C,appearance:l},{children:null===(r=null===u||void 0===u?void 0:u.update_password)||void 0===r?void 0:r.button_label}))]})),w&&(0,c.jsx)(ze,Object.assign({appearance:l},{children:w})),g&&(0,c.jsx)(ze,Object.assign({color:"danger",appearance:l},{children:g}))]}))}))}var ut=(0,a.createContext)({user:null,session:null}),st={sign_up:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Ihre E-Mail Adresse",password_input_placeholder:"Ihr Passwort",button_label:"Registrieren",social_provider_text:"Anmelden mit",link_text:"Haben Sie noch kein Konto? Registrieren"},sign_in:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Ihre E-Mail Adresse",password_input_placeholder:"Ihr Passwort",button_label:"Anmelden",social_provider_text:"Anmelden mit",link_text:"Haben Sie bereits ein Konto? Anmelden"},magic_link:{email_input_label:"E-Mail Adresse",email_input_placeholder:"Ihre E-Mail Adresse",button_label:"Magischen Link senden",link_text:"Einen magischen Link per E-Mail versenden"},forgotten_password:{email_label:"E-Mail Adresse",password_label:"Ihr Passwort",email_input_placeholder:"Ihre E-Mail Adresse",button_label:"Anweisungen zum Zur\xfccksetzen des Passworts senden",link_text:"Passwort vergessen?"},update_password:{password_label:"Neues Passwort",password_input_placeholder:"Ihr neues Passwort",button_label:"Passwort aktualisieren"}},ct={sign_up:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Deine E-Mail Adresse",password_input_placeholder:"Dein Passwort",button_label:"Registrieren",social_provider_text:"Anmelden mit",link_text:"Hast du noch kein Konto? Registrieren"},sign_in:{email_label:"E-Mail Adresse",password_label:"Passwort erstellen",email_input_placeholder:"Deine E-Mail Adresse",password_input_placeholder:"Dein Passwort",button_label:"Anmelden",social_provider_text:"Anmelden mit",link_text:"Hast du bereits ein Konto? Anmelden"},magic_link:{email_input_label:"E-Mail Adresse",email_input_placeholder:"Deine E-Mail Adresse",button_label:"Magischen Link senden",link_text:"Einen magischen Link per E-Mail versenden"},forgotten_password:{email_label:"E-Mail Adresse",password_label:"Dein Passwort",email_input_placeholder:"Deine E-Mail Adresse",button_label:"Anweisungen zum Zur\xfccksetzen des Passworts senden",link_text:"Passwort vergessen?"},update_password:{password_label:"Neues Passwort",password_input_placeholder:"Dein neues Passwort",button_label:"Passwort aktualisieren"}},lt={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",social_provider_text:"Sign in with",link_text:"Don't have an account? Sign up"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",social_provider_text:"Sign in with",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",link_text:"Send a magic link email"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",link_text:"Forgot your password?"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password"}},ft={sign_up:{email_label:"\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",password_label:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4f5c\u6210",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7",social_provider_text:"\u306b\u767b\u9332\u3059\u308b",link_text:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304b\uff1f\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"},sign_in:{email_label:"\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",password_label:"\u3042\u306a\u305f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"\u30b5\u30a4\u30f3\u30a4\u30f3",social_provider_text:"\u306b\u767b\u9332\u3059\u308b",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",link_text:"Send a magic link email"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",link_text:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u304a\u5fd8\u308c\u306e\u65b9"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password"}},dt=Object.assign({},t);fe().getCssText;function ht(e){var t,n,r=e.supabaseClient,i=e.socialLayout,o=void 0===i?"vertical":i,u=e.providers,l=e.view,f=void 0===l?"sign_in":l,d=e.redirectTo,h=e.onlyThirdPartyProviders,p=void 0!==h&&h,v=e.magicLink,m=void 0!==v&&v,g=e.showLinks,y=void 0===g||g,b=e.appearance,k=e.theme,w=void 0===k?"default":k,Z=e.localization,x=void 0===Z?{lang:"en"}:Z,S=me(dt[null!==(t=x.lang)&&void 0!==t?t:"en"],null!==(n=x.variables)&&void 0!==n?n:{}),C=(0,a.useState)(f),E=(0,s.Z)(C,2),T=E[0],_=E[1],P=(0,a.useState)(""),I=(0,s.Z)(P,2),O=I[0],j=I[1],M=(0,a.useState)(""),F=(0,s.Z)(M,2),z=F[0],A=F[1],R=(0,a.useState)({}),L=(0,s.Z)(R,2),N=(L[0],L[1]),D="sign_in"===T||"sign_up"===T;(0,a.useEffect)((function(){var e,t,n,r;fe({theme:me(null!==(t=null===(e=null===b||void 0===b?void 0:b.theme)||void 0===e?void 0:e.default)&&void 0!==t?t:{},null!==(r=null===(n=null===b||void 0===b?void 0:b.variables)||void 0===n?void 0:n.default)&&void 0!==r?r:{})});var i={},a=(null===b||void 0===b?void 0:b.theme)&&Object.keys(null===b||void 0===b?void 0:b.theme);a&&b.theme&&Object.values(b.theme).map((function(e,t){var n,r,o=a[t];if("default"===o)return{};var u=me(null!==(n=b&&b.theme&&b.theme[o])&&void 0!==n?n:{},null!==(r=b&&b.variables&&b.variables[o])&&void 0!==r?r:{});i[a[t]]=u})),N(i)}),[]);var V=function(e){var t,n,i=e.children;return(0,c.jsxs)("div",Object.assign({className:"default"!==w?he(me(null===b||void 0===b?void 0:b.theme[w],null!==(n=null===(t=null===b||void 0===b?void 0:b.variables)||void 0===t?void 0:t[w])&&void 0!==n?n:{})):""},{children:[D&&(0,c.jsx)(nt,{appearance:b,supabaseClient:r,providers:u,socialLayout:o,redirectTo:d,onlyThirdPartyProviders:p,i18n:S,view:T}),!p&&i]}))};(0,a.useEffect)((function(){_(f)}),[f]);var B={supabaseClient:r,setAuthView:_,defaultEmail:O,defaultPassword:z,setDefaultEmail:j,setDefaultPassword:A,redirectTo:d,magicLink:m,showLinks:y,i18n:S,appearance:b};switch(T){case ge.SIGN_IN:return(0,c.jsx)(V,{children:(0,c.jsx)(it,Object.assign({},B,{authView:"sign_in"}))});case ge.SIGN_UP:return(0,c.jsx)(V,{children:(0,c.jsx)(it,{appearance:b,supabaseClient:r,authView:"sign_up",setAuthView:_,defaultEmail:O,defaultPassword:z,setDefaultEmail:j,setDefaultPassword:A,redirectTo:d,magicLink:m,showLinks:y,i18n:S})});case ge.FORGOTTEN_PASSWORD:return(0,c.jsx)(V,{children:(0,c.jsx)(at,{appearance:b,supabaseClient:r,setAuthView:_,redirectTo:d,showLinks:y,i18n:S})});case ge.MAGIC_LINK:return(0,c.jsx)(V,{children:(0,c.jsx)(Ae,{appearance:b,supabaseClient:r,setAuthView:_,redirectTo:d,showLinks:y,i18n:S})});case ge.UPDATE_PASSWORD:return(0,c.jsx)(V,{children:(0,c.jsx)(ot,{appearance:b,supabaseClient:r,i18n:S})});default:return null}}ht.ForgottenPassword=at,ht.UpdatePassword=ot,ht.MagicLink=Ae,ht.UserContextProvider=function(e){var t,n=e.supabaseClient,r=(0,a.useState)(null),i=(0,s.Z)(r,2),o=i[0],u=i[1],l=(0,a.useState)(null!==(t=null===o||void 0===o?void 0:o.user)&&void 0!==t?t:null),f=(0,s.Z)(l,2),d=f[0],h=f[1];(0,a.useEffect)((function(){Ze(void 0,void 0,void 0,(0,ke.Z)().mark((function e(){var t,r,i,a;return(0,ke.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.auth.getSession();case 2:i=e.sent,a=i.data,u(a.session),h(null!==(r=null===(t=a.session)||void 0===t?void 0:t.user)&&void 0!==r?r:null);case 6:case"end":return e.stop()}}),e)})));var e=n.auth.onAuthStateChange((function(e,t){return Ze(void 0,void 0,void 0,(0,ke.Z)().mark((function e(){var n;return(0,ke.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t),h(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null);case 2:case"end":return e.stop()}}),e)})))})),t=e.data;return function(){null===t||void 0===t||t.subscription.unsubscribe()}}),[]);var p={session:o,user:d};return(0,c.jsx)(ut.Provider,Object.assign({value:p},e))},ht.useUser=function(){var e=(0,a.useContext)(ut);if(void 0===e)throw new Error("useUser must be used within a UserContextProvider.");return e};n(8630);var pt={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"gray",messageTextDanger:"red",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray"}}},vt=n(2994),mt={initialize:vt.EmptyMethod,initialized:!1},gt=a.createContext(mt),yt=n(3015),bt=function(){return console.log("useClient",vt.Plugins),{supabaseClient:vt.Plugins.protocol.supabase.client}},kt=function(){var e=a.useContext(gt),t=e.initialize,n=e.initialized,r=bt(),i=ht.useUser().user;if(a.useEffect((function(){n||(i?t():setTimeout(t,500))}),[t,n,i]),n){if(i){var o={container:{string:"Hello World!"},containerId:vt.TextContainerId},s={edited:{mash:{id:(0,vt.idTemporary)(),request:{response:{tracks:[{clips:[o]}]}}}},previewSize:{width:480,height:270}},l=(0,yt.MasherDefaultProps)(s);return(0,c.jsx)(yt.Masher,(0,u.Z)({},l))}var f=(0,u.Z)((0,u.Z)({},r),{},{providers:["github"],appearance:{theme:pt},theme:"dark"});return(0,c.jsx)("main",{children:(0,c.jsxs)("aside",{children:[(0,c.jsx)("section",{children:(0,c.jsx)(ht,(0,u.Z)({},f))}),(0,c.jsx)("h1",{children:"Welcome"}),(0,c.jsx)("p",{children:"This example Supabase deployment adds the following tables:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"media"}),(0,c.jsx)("li",{children:"probing"}),(0,c.jsx)("li",{children:"encoding"})]})]})})}},wt=n(1617),Zt=function(){var e=a.useState(!1),t=(0,s.Z)(e,2),n=t[0],r=t[1],i={value:{initialized:n,initialize:function(){r(!0)}},children:(0,c.jsx)(kt,{},"main")};return(0,c.jsx)(gt.Provider,(0,u.Z)({},i))},xt=function(){console.log("ProtocolSupabase",vt.ProtocolType,wt.SupabaseProtocol);var e=bt(),t=(0,u.Z)({children:(0,c.jsx)(Zt,{})},e);return(0,c.jsx)(ht.UserContextProvider,(0,u.Z)({},t))};(0,i.config)(i.Config.SUPABASE_PROJECT_URL,"https://londrhbubledxrvsznll.supabase.co"),(0,i.config)(i.Config.SUPABASE_ANON_KEY,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvbmRyaGJ1YmxlZHhydnN6bmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzA5NDM4MTcsImV4cCI6MTk4NjUxOTgxN30.BAy8J9nnjc2BQNheVhVBsenNsTml5ImFX52pRlpL5Zs"),o.createRoot(document.getElementById("root")).render((0,c.jsx)(a.StrictMode,{children:(0,c.jsx)(xt,{})}))}()}();
//# sourceMappingURL=main.f0abcf19.js.map