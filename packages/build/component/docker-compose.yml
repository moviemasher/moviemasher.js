version: "3"
name: moviemasher-build-component
services:
  service:
    build:
      dockerfile: packages/build/component/Dockerfile.cnf
      context: ../../../
    image: moviemasher/build-component:${MOVIEMASHER_VERSION}
    container_name: moviemasher-build-component
    env_file:
      - ../../../dev/local.env
    volumes:
      - ../../../package.json:${MOVIEMASHER_DIR_ROOT}/package.json
      - ./package.json:${MOVIEMASHER_DIR_ROOT}/packages/build/component/package.json

      - ../../../dev/:${MOVIEMASHER_DIR_ROOT}/dev/
      - ../../../packages/core/client:${MOVIEMASHER_DIR_ROOT}/packages/core/client
      - ../../../packages/core/lib:${MOVIEMASHER_DIR_ROOT}/packages/core/lib
      - ../../../packages/client/component:${MOVIEMASHER_DIR_ROOT}/packages/client/component
